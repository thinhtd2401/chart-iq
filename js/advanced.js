/**
 *	8.3.0
 *	Generation date: 2021-07-20T06:25:03.900Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-08-19"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
O7dd[620528]=(function(){var m=2;for(;m !== 9;){switch(m){case 5:var Y;try{var d=2;for(;d !== 6;){switch(d){case 3:throw "";d=9;break;case 9:delete Y['\u0048\u0064\x6c\u004c\x33'];var E=Object['\x70\u0072\x6f\x74\x6f\u0074\x79\x70\u0065'];delete E['\x64\u004f\x24\u0071\u006f'];d=6;break;case 2:Object['\u0064\u0065\x66\x69\u006e\u0065\u0050\u0072\x6f\u0070\x65\u0072\x74\u0079'](Object['\u0070\u0072\u006f\x74\u006f\x74\u0079\u0070\x65'],'\x64\u004f\x24\u0071\x6f',{'\x67\x65\x74':function(){var T=2;for(;T !== 1;){switch(T){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});Y=dO$qo;Y['\x48\u0064\x6c\x4c\x33']=Y;d=4;break;case 4:d=typeof HdlL3 === '\u0075\x6e\u0064\x65\u0066\x69\x6e\x65\u0064'?3:9;break;}}}catch(D){Y=window;}return Y;break;case 1:return globalThis;break;case 2:m=typeof globalThis === '\u006f\x62\x6a\u0065\x63\x74'?1:5;break;}}})();O7dd[248977]=W0rr(O7dd[620528]);O7dd[455204]=C2YY(O7dd[620528]);O7dd[86415]=(function(Z3m){return {b0m:function(){var X3m,Q3m=arguments;switch(Z3m){case 44:X3m=-Q3m[3] / Q3m[0] * Q3m[1] + Q3m[2];break;case 76:X3m=Q3m[0] - Q3m[3] * (Q3m[2] - Q3m[1]);break;case 79:X3m=(Q3m[4] * Q3m[0] + Q3m[1]) * Q3m[2] - Q3m[3];break;case 28:X3m=(Q3m[1] - Q3m[2]) / Q3m[0];break;case 101:X3m=(Q3m[3] + Q3m[4]) * Q3m[1] * Q3m[2] - Q3m[0];break;case 167:X3m=Q3m[0] - Q3m[3] * +Q3m[2] - Q3m[1];break;case 15:X3m=Q3m[1] & Q3m[0];break;case 59:X3m=(Q3m[4] + Q3m[1]) * Q3m[2] + Q3m[0] - Q3m[3];break;case 70:X3m=Q3m[1] % Q3m[0];break;case 123:X3m=(Q3m[1] - Q3m[3]) / Q3m[0] - Q3m[2] - Q3m[4];break;case 3:X3m=Q3m[2] - Q3m[1] + Q3m[0];break;case 74:X3m=Q3m[0] / +Q3m[1];break;case 155:X3m=-Q3m[3] - Q3m[1] - Q3m[0] + Q3m[2];break;case 33:X3m=Q3m[1] - Q3m[0] - Q3m[2] + Q3m[3];break;case 133:X3m=(Q3m[3] - Q3m[2]) / Q3m[1] - Q3m[0];break;case 90:X3m=(-Q3m[2] - Q3m[1]) / Q3m[3] * Q3m[4] + Q3m[0];break;case 110:X3m=(Q3m[4] + Q3m[0]) * Q3m[1] - Q3m[3] - Q3m[2];break;case 18:X3m=(Q3m[3] - Q3m[1]) / Q3m[0] + Q3m[2];break;case 2:X3m=Q3m[0] + Q3m[1];break;case 132:X3m=Q3m[3] * Q3m[1] / (Q3m[0] + Q3m[2]);break;case 1:X3m=Q3m[3] / Q3m[0] * Q3m[1] - Q3m[4] - Q3m[2];break;case 150:X3m=(Q3m[0] / Q3m[1] + Q3m[4]) * Q3m[3] - Q3m[2];break;case 30:X3m=-Q3m[0] * Q3m[2] / Q3m[4] * Q3m[3] + Q3m[1];break;case 88:X3m=Q3m[1] / Q3m[0] * Q3m[2] + Q3m[3];break;case 63:X3m=(Q3m[1] - Q3m[0]) % Q3m[2];break;case 8:X3m=Q3m[0] + Q3m[2] - Q3m[1];break;case 119:X3m=Q3m[4] * Q3m[5] * Q3m[3] + (Q3m[2] - Q3m[6] * Q3m[0]) * Q3m[1];break;case 54:X3m=Q3m[0] < Q3m[1];break;case 17:X3m=Q3m[0] / (Q3m[1] / Q3m[2]);break;case 55:X3m=(Q3m[1] - Q3m[2]) / (Q3m[3] - Q3m[0]);break;case 45:X3m=Q3m[0] - Q3m[2] / Q3m[1];break;case 37:X3m=Q3m[1] + (Q3m[0] - Q3m[2]);break;case 80:X3m=Q3m[1] * (Q3m[3] + Q3m[0]) / Q3m[2];break;case 0:X3m=-Q3m[2] + Q3m[3] - Q3m[0] + Q3m[1];break;case 87:X3m=(Q3m[3] - Q3m[2]) * Q3m[0] - Q3m[1];break;case 114:X3m=(Q3m[4] / Q3m[1] - Q3m[2]) * Q3m[0] + Q3m[3];break;case 91:X3m=(-Q3m[4] + Q3m[0] + Q3m[1]) / Q3m[3] - Q3m[2];break;case 96:X3m=(Q3m[3] * Q3m[2] + Q3m[0]) / Q3m[1];break;case 140:X3m=Q3m[3] * Q3m[4] + Q3m[0] + Q3m[1] - Q3m[2];break;case 82:X3m=(Q3m[5] * Q3m[6] - Q3m[3] * Q3m[0]) / (Q3m[4] * Q3m[2] - Q3m[1]);break;case 51:X3m=-Q3m[4] * Q3m[3] * Q3m[0] - Q3m[2] + Q3m[1];break;case 149:X3m=Q3m[1] * Q3m[4] * Q3m[0] * Q3m[3] - Q3m[2];break;case 169:X3m=Q3m[1] + Q3m[0] / +Q3m[3] + Q3m[2];break;case 81:X3m=Q3m[3] * (Q3m[2] * Q3m[1] + Q3m[4]) / Q3m[0];break;case 100:X3m=(Q3m[0] + Q3m[4]) / Q3m[3] - Q3m[1] - Q3m[2];break;case 163:X3m=(-Q3m[3] + Q3m[1]) * Q3m[0] - Q3m[4] - Q3m[2];break;case 27:X3m=Q3m[0] - (Q3m[1] - Q3m[2]);break;case 21:X3m=Q3m[1] << Q3m[0];break;case 11:X3m=-Q3m[1] + Q3m[0] + Q3m[2];break;case 65:X3m=(-Q3m[2] - Q3m[3]) * Q3m[1] + Q3m[0];break;case 152:X3m=Q3m[1] * Q3m[4] / Q3m[3] * Q3m[2] - Q3m[0];break;case 118:X3m=-Q3m[1] * Q3m[2] - Q3m[0] + Q3m[3];break;case 147:X3m=Q3m[1] > Q3m[0];break;case 104:X3m=(Q3m[1] - (Q3m[0] + +Q3m[3])) / +Q3m[2];break;case 141:X3m=Q3m[2] - Q3m[1] + Q3m[0] - Q3m[4] + Q3m[3];break;case 39:X3m=Q3m[1] | Q3m[0];break;case 61:X3m=Q3m[0] / Q3m[4] * Q3m[2] + Q3m[3] - Q3m[1];break;case 138:X3m=Q3m[0] + Q3m[2] * (Q3m[1] - Q3m[3]);break;case 94:X3m=Q3m[6] + (Q3m[1] - Q3m[2]) / (Q3m[0] - Q3m[4]) * (Q3m[3] - Q3m[5]);break;case 116:X3m=(Q3m[1] + Q3m[0] * Q3m[3]) * Q3m[2];break;case 134:X3m=-Q3m[1] / Q3m[2] + Q3m[0] - Q3m[3];break;case 19:X3m=Q3m[3] + (Q3m[1] - Q3m[0]) * Q3m[2];break;case 42:X3m=Q3m[3] / Q3m[2] - Q3m[1] + Q3m[0];break;case 151:X3m=Q3m[2] - Q3m[3] / (Q3m[0] + Q3m[1]);break;case 145:X3m=Q3m[1] / (Q3m[3] * Q3m[2]) <= Q3m[0];break;case 20:X3m=Q3m[1] - (Q3m[0] | Q3m[3]) * Q3m[2];break;case 111:X3m=+Q3m[1] * Q3m[2] / Q3m[0];break;case 142:X3m=Q3m[0] * Q3m[1] + Q3m[3] + Q3m[2];break;case 121:X3m=(-Q3m[0] / Q3m[2] + Q3m[3]) / Q3m[4] - Q3m[1];break;case 125:X3m=(-Q3m[3] + Q3m[0] - Q3m[2]) / Q3m[4] + Q3m[1];break;case 127:X3m=(Q3m[1] - Q3m[4]) / Q3m[2] / Q3m[3] + Q3m[0];break;case 171:X3m=Q3m[1] - (Q3m[2] ^ Q3m[0]);break;case 130:X3m=-Q3m[0] * Q3m[3] - Q3m[1] - Q3m[2];break;case 72:X3m=(Q3m[0] - Q3m[2]) / Q3m[1] * Q3m[4] + Q3m[3];break;case 36:X3m=Q3m[2] * Q3m[0] < +Q3m[1];break;case 23:X3m=(Q3m[3] - Q3m[1]) * Q3m[0] + Q3m[2];break;case 66:X3m=-Q3m[3] * Q3m[0] * Q3m[1] + Q3m[4] + Q3m[2];break;case 86:X3m=Q3m[2] + Q3m[0] * Q3m[1];break;case 136:X3m=Q3m[3] - Q3m[2] / (Q3m[1] + Q3m[0] / Q3m[4]);break;case 158:X3m=+Q3m[1] * Q3m[0];break;case 84:X3m=Q3m[0] + +Q3m[1];break;case 113:X3m=Q3m[0] - Q3m[1] - Q3m[3] + Q3m[2] + Q3m[4];break;case 29:X3m=Q3m[1] >> Q3m[0];break;case 153:X3m=(Q3m[3] + Q3m[1] + Q3m[2]) / Q3m[0] - Q3m[4];break;case 126:X3m=(Q3m[0] + Q3m[2] + Q3m[3]) * Q3m[1] - Q3m[4];break;case 162:X3m=(-Q3m[1] / Q3m[2] - Q3m[0]) * Q3m[4] + Q3m[3];break;case 60:X3m=Q3m[0] * Q3m[3] / Q3m[2] - Q3m[4] + Q3m[1];break;case 5:X3m=Q3m[0] - Q3m[3] + Q3m[1] + Q3m[2];break;case 58:X3m=Q3m[0] * Q3m[1] * Q3m[3] - Q3m[2];break;case 73:X3m=+Q3m[0] / Q3m[1];break;case 10:X3m=Q3m[0] / Q3m[1];break;case 99:X3m=(Q3m[0] + (Q3m[1] << Q3m[2]) * Q3m[4]) / Q3m[3];break;case 49:X3m=Q3m[2] / Q3m[0] + Q3m[1];break;case 103:X3m=Q3m[7] + Q3m[5] + Q3m[0] + Q3m[6] + Q3m[4] + Q3m[2] + Q3m[1] + Q3m[3];break;case 115:X3m=-Q3m[2] - Q3m[0] + Q3m[1];break;case 92:X3m=-(Q3m[1] - Q3m[2]) * Q3m[0] + Q3m[3];break;case 40:X3m=-Q3m[1] + Q3m[2] - Q3m[0];break;case 32:X3m=Q3m[2] / Q3m[1] - Q3m[0];break;case 160:X3m=Q3m[0] * -Q3m[1];break;case 131:X3m=Q3m[0] + Q3m[1] + Q3m[2] - Q3m[3];break;case 112:X3m=Q3m[2] * Q3m[0] / Q3m[1];break;case 52:X3m=Q3m[1] - Q3m[3] + Q3m[4] + Q3m[2] + Q3m[0];break;case 159:X3m=(Q3m[0] + Q3m[1]) / Q3m[2] + Q3m[3] - Q3m[4];break;case 16:X3m=Q3m[2] - Q3m[0] + Q3m[3] - Q3m[1];break;case 26:X3m=Q3m[0] * Q3m[2] + Q3m[1];break;case 69:X3m=-Q3m[2] / Q3m[0] + Q3m[1];break;case 143:X3m=(Q3m[3] / Q3m[2] - Q3m[0]) / Q3m[4] + Q3m[1];break;case 135:X3m=Q3m[1] * Q3m[2] * Q3m[0];break;case 137:X3m=Q3m[2] * (Q3m[1] / Q3m[3] - Q3m[0]);break;case 48:X3m=Q3m[2] * Q3m[0] - Q3m[1];break;case 35:X3m=(Q3m[3] - Q3m[4] - Q3m[0]) / Q3m[2] + Q3m[1];break;case 62:X3m=(Q3m[0] + Q3m[1]) % Q3m[2];break;case 46:X3m=Q3m[2] + Q3m[1] / Q3m[0];break;case 12:X3m=Q3m[2] - Q3m[1] - Q3m[0];break;case 85:X3m=Q3m[1] + Q3m[0] + Q3m[2];break;case 95:X3m=(Q3m[3] + Q3m[4]) / Q3m[0] * Q3m[1] + Q3m[2];break;case 122:X3m=Q3m[2] / Q3m[1] / Q3m[0] - Q3m[3];break;case 105:X3m=Q3m[2] + Q3m[0] + Q3m[3] + Q3m[1];break;case 166:X3m=Q3m[1] + Q3m[3] * Q3m[2] + Q3m[0];break;case 75:X3m=Q3m[2] + (Q3m[3] - Q3m[1]) / Q3m[0];break;case 129:X3m=Q3m[0] * Q3m[1] / Q3m[4] - Q3m[3] - Q3m[2];break;case 13:X3m=-Q3m[1] + Q3m[0];break;case 144:X3m=(Q3m[1] % +Q3m[0] + +Q3m[2]) * Q3m[3];break;case 165:X3m=Q3m[1] - Q3m[0] * Q3m[2] - Q3m[3];break;case 50:X3m=(Q3m[0] - Q3m[1]) / (Q3m[4] - Q3m[2]) > Q3m[3];break;case 47:X3m=Q3m[0] - Q3m[3] / (Q3m[2] >> Q3m[1]);break;case 124:X3m=Q3m[2] / Q3m[3] * Q3m[1] - Q3m[0];break;case 89:X3m=Q3m[4] / Q3m[1] / Q3m[3] / Q3m[0] + Q3m[2];break;case 120:X3m=(Q3m[3] + Q3m[0]) * Q3m[2] - Q3m[1];break;case 64:X3m=(Q3m[3] - Q3m[5]) / (Q3m[2] - Q3m[1]) > (Q3m[4] & Q3m[0]);break;case 164:X3m=(Q3m[4] - Q3m[2] + Q3m[0]) / Q3m[3] + Q3m[1];break;case 161:X3m=(Q3m[3] + Q3m[4]) / Q3m[2] - Q3m[1] + Q3m[0];break;case 128:X3m=(Q3m[4] - Q3m[3]) * Q3m[0] / Q3m[1] + Q3m[2];break;case 106:X3m=(Q3m[4] - Q3m[2] - Q3m[3]) * Q3m[0] - Q3m[1];break;case 14:X3m=(Q3m[4] + Q3m[3] + Q3m[1] + Q3m[0]) / Q3m[2];break;case 57:X3m=Q3m[2] + Q3m[3] - Q3m[0] + Q3m[1];break;case 102:X3m=(Q3m[0] + Q3m[2]) / Q3m[3] - Q3m[1];break;case 6:X3m=Q3m[0] * Q3m[1];break;case 156:X3m=-Q3m[0] / Q3m[2] / Q3m[1] + Q3m[3];break;case 25:X3m=Q3m[0] + Q3m[3] - Q3m[1] + Q3m[2] - Q3m[4];break;case 34:X3m=Q3m[4] * Q3m[2] - Q3m[1] + Q3m[0] - Q3m[3];break;case 117:X3m=Q3m[1] * Q3m[4] + Q3m[3] - Q3m[0] - Q3m[2];break;case 148:X3m=Q3m[1] * (Q3m[0] + Q3m[2]);break;case 108:X3m=Q3m[2] - (Q3m[1] & Q3m[0]);break;case 22:X3m=(Q3m[4] - Q3m[0]) * Q3m[3] * Q3m[1] + Q3m[2];break;case 170:X3m=Q3m[0] + (Q3m[1] / (Q3m[3] - Q3m[5]) - Q3m[4] / Q3m[2]);break;case 4:X3m=Q3m[0] - Q3m[1];break;case 67:X3m=(Q3m[1] - Q3m[3]) * (Q3m[6] - Q3m[4]) / (Q3m[2] - Q3m[0]) + Q3m[5];break;case 97:X3m=((Q3m[2] - Q3m[1]) * Q3m[4] + Q3m[3]) / Q3m[0];break;case 154:X3m=Q3m[1] - Q3m[0] + +Q3m[2];break;case 41:X3m=Q3m[1] ^ Q3m[0];break;case 157:X3m=Q3m[1] - (Q3m[2] >> Q3m[0]);break;case 168:X3m=Q3m[1] == Q3m[0];break;case 43:X3m=Q3m[2] * Q3m[3] + Q3m[1] - Q3m[0];break;case 83:X3m=(Q3m[0] - Q3m[2] * Q3m[1]) / Q3m[3];break;case 109:X3m=(-Q3m[4] + Q3m[1]) / Q3m[2] - Q3m[3] + Q3m[0];break;case 68:X3m=(Q3m[1] + Q3m[3]) * Q3m[2] + Q3m[0];break;case 24:X3m=Q3m[3] - Q3m[1] - Q3m[4] - Q3m[2] + Q3m[0];break;case 38:X3m=Q3m[3] * Q3m[0] - Q3m[2] - Q3m[1];break;case 78:X3m=(Q3m[4] - Q3m[2]) / Q3m[1] + Q3m[3] - Q3m[0];break;case 9:X3m=Q3m[3] + Q3m[1] - Q3m[0] - Q3m[2];break;case 31:X3m=-Q3m[4] - Q3m[1] - Q3m[2] - Q3m[0] + Q3m[3];break;case 56:X3m=-Q3m[0] * Q3m[2] + Q3m[1];break;case 139:X3m=Q3m[4] * Q3m[0] * Q3m[1] / Q3m[3] - Q3m[2];break;case 71:X3m=(-Q3m[1] + Q3m[2]) / Q3m[3] + Q3m[0];break;case 107:X3m=(Q3m[3] + Q3m[1]) / Q3m[0] + Q3m[2];break;case 98:X3m=(Q3m[3] + Q3m[2] * Q3m[0]) / +Q3m[1];break;case 53:X3m=Q3m[0] * Q3m[4] * Q3m[1] + Q3m[2] - Q3m[3];break;case 146:X3m=Q3m[1] - (Q3m[2] | Q3m[0]);break;case 7:X3m=(Q3m[2] + Q3m[1]) / Q3m[0];break;case 93:X3m=(Q3m[2] - Q3m[1]) / Q3m[4] - Q3m[3] + Q3m[0];break;case 77:X3m=Q3m[1] - +Q3m[0];break;}return X3m;},M0m:function(B3m){Z3m=B3m;}};})();O7dd.P6y=function(){return typeof O7dd[519236].J0y === 'function'?O7dd[519236].J0y.apply(O7dd[519236],arguments):O7dd[519236].J0y;};O7dd.F3m=function(){return typeof O7dd[86415].b0m === 'function'?O7dd[86415].b0m.apply(O7dd[86415],arguments):O7dd[86415].b0m;};O7dd.i3m=function(){return typeof O7dd[86415].b0m === 'function'?O7dd[86415].b0m.apply(O7dd[86415],arguments):O7dd[86415].b0m;};O7dd[185391]=true;O7dd[542802]=837;O7dd.i9S=function(){return typeof O7dd[294933].y26 === 'function'?O7dd[294933].y26.apply(O7dd[294933],arguments):O7dd[294933].y26;};O7dd[493680]=false;O7dd.J9S=function(){return typeof O7dd[294933].y26 === 'function'?O7dd[294933].y26.apply(O7dd[294933],arguments):O7dd[294933].y26;};O7dd[620528].j833=O7dd;O7dd.O3m=function(){return typeof O7dd[86415].M0m === 'function'?O7dd[86415].M0m.apply(O7dd[86415],arguments):O7dd[86415].M0m;};O7dd.F6y=function(){return typeof O7dd[519236].J0y === 'function'?O7dd[519236].J0y.apply(O7dd[519236],arguments):O7dd[519236].J0y;};O7dd[294933]=(function(){var V9S=2;for(;V9S !== 9;){switch(V9S){case 3:return N9S[1];break;case 2:var N9S=[arguments];N9S[9]=undefined;N9S[1]={};N9S[1].y26=function(){var F9S=2;for(;F9S !== 90;){switch(F9S){case 2:var K9S=[arguments];F9S=1;break;case 46:K9S[4].K2YY(K9S[35]);K9S[4].K2YY(K9S[65]);K9S[33]=[];F9S=64;break;case 68:F9S=42?68:67;break;case 1:F9S=N9S[9]?5:4;break;case 38:K9S[78].r3m=['R3m'];K9S[78].y3m=function(){var p36=function(){return ('aaaa|a').substr(0,3);};var x36=!(/\x7c/).L2YY(p36 + []);return x36;};K9S[45]=K9S[78];F9S=54;break;case 40:K9S[12]=K9S[95];K9S[78]={};F9S=38;break;case 64:K9S[43]='C3m';K9S[88]='S3m';K9S[36]='r3m';K9S[15]='w3m';K9S[83]='y3m';K9S[16]='U3m';F9S=58;break;case 16:K9S[9].y3m=function(){var m36=function(){return decodeURI('%25');};var N36=!(/\u0032\x35/).L2YY(m36 + []);return N36;};K9S[6]=K9S[9];F9S=27;break;case 54:K9S[4].K2YY(K9S[8]);K9S[4].K2YY(K9S[1]);K9S[4].K2YY(K9S[31]);K9S[4].K2YY(K9S[45]);F9S=50;break;case 77:K9S[49]=0;F9S=76;break;case 13:K9S[2].y3m=function(){var S36=function(){return encodeURI('%');};var K36=(/\x32\u0035/).L2YY(S36 + []);return K36;};K9S[1]=K9S[2];K9S[3]={};K9S[3].r3m=['R3m'];F9S=20;break;case 27:K9S[28]={};K9S[28].r3m=['d3m'];K9S[28].y3m=function(){var g36=typeof S2YY === 'function';return g36;};K9S[31]=K9S[28];F9S=23;break;case 69:F9S=(function(q9S){var b9S=2;for(;b9S !== 22;){switch(b9S){case 7:b9S=o9S[7] < o9S[0][0].length?6:18;break;case 26:b9S=o9S[8] >= 0.5?25:24;break;case 8:o9S[7]=0;b9S=7;break;case 2:var o9S=[arguments];b9S=1;break;case 14:b9S=typeof o9S[3][o9S[6][K9S[16]]] === 'undefined'?13:11;break;case 23:return o9S[4];break;case 11:o9S[3][o9S[6][K9S[16]]].t+=true;b9S=10;break;case 20:o9S[3][o9S[6][K9S[16]]].h+=true;b9S=19;break;case 1:b9S=o9S[0][0].length === 0?5:4;break;case 24:o9S[7]++;b9S=16;break;case 6:o9S[6]=o9S[0][0][o9S[7]];b9S=14;break;case 4:o9S[3]={};o9S[9]=[];o9S[7]=0;b9S=8;break;case 10:b9S=o9S[6][K9S[15]] === K9S[43]?20:19;break;case 5:return;break;case 17:o9S[7]=0;b9S=16;break;case 16:b9S=o9S[7] < o9S[9].length?15:23;break;case 12:o9S[9].K2YY(o9S[6][K9S[16]]);b9S=11;break;case 13:o9S[3][o9S[6][K9S[16]]]=(function(){var B9S=2;for(;B9S !== 9;){switch(B9S){case 2:var h9S=[arguments];h9S[7]={};h9S[7].h=0;h9S[7].t=0;return h9S[7];break;}}}).R2YY(this,arguments);b9S=12;break;case 25:o9S[4]=true;b9S=24;break;case 15:o9S[2]=o9S[9][o9S[7]];o9S[8]=o9S[3][o9S[2]].h / o9S[3][o9S[2]].t;b9S=26;break;case 19:o9S[7]++;b9S=7;break;case 18:o9S[4]=false;b9S=17;break;}}})(K9S[33])?68:67;break;case 58:K9S[81]=0;F9S=57;break;case 28:K9S[47].y3m=function(){var v36=function(){return decodeURIComponent('%25');};var C36=!(/\x32\x35/).L2YY(v36 + []);return C36;};K9S[35]=K9S[47];K9S[95]={};K9S[95].r3m=['d3m'];K9S[95].y3m=function(){var J36=typeof o2YY === 'function';return J36;};F9S=40;break;case 5:return 64;break;case 70:K9S[81]++;F9S=57;break;case 20:K9S[3].y3m=function(){var o36=function(){return ('x').repeat(2);};var R36=(/\x78\u0078/).L2YY(o36 + []);return R36;};K9S[8]=K9S[3];K9S[9]={};K9S[9].r3m=['R3m'];F9S=16;break;case 75:K9S[20]={};K9S[20][K9S[16]]=K9S[46][K9S[36]][K9S[49]];K9S[20][K9S[15]]=K9S[93];K9S[33].K2YY(K9S[20]);F9S=71;break;case 50:K9S[4].K2YY(K9S[6]);K9S[4].K2YY(K9S[72]);K9S[4].K2YY(K9S[5]);K9S[4].K2YY(K9S[12]);F9S=46;break;case 34:K9S[97]={};K9S[97].r3m=['R3m'];K9S[97].y3m=function(){var W36=function(){return ('x y').slice(0,1);};var t36=!(/\x79/).L2YY(W36 + []);return t36;};K9S[72]=K9S[97];K9S[47]={};K9S[47].r3m=['R3m'];F9S=28;break;case 76:F9S=K9S[49] < K9S[46][K9S[36]].length?75:70;break;case 23:K9S[51]={};K9S[51].r3m=['d3m'];K9S[51].y3m=function(){var f36=false;var P36=[];try{for(var r36 in console){P36.K2YY(r36);}f36=P36.length === 0;}catch(A36){}var V36=f36;return V36;};K9S[65]=K9S[51];F9S=34;break;case 4:K9S[4]=[];K9S[7]={};K9S[7].r3m=['d3m'];K9S[7].y3m=function(){var L36=typeof c2YY === 'function';return L36;};K9S[5]=K9S[7];K9S[2]={};K9S[2].r3m=['R3m'];F9S=13;break;case 56:K9S[46]=K9S[4][K9S[81]];try{K9S[93]=K9S[46][K9S[83]]()?K9S[43]:K9S[88];}catch(D36){K9S[93]=K9S[88];}F9S=77;break;case 57:F9S=K9S[81] < K9S[4].length?56:69;break;case 67:N9S[9]=99;return 90;break;case 71:K9S[49]++;F9S=76;break;}}};V9S=3;break;}}})();function W0rr(U5y){var X6y=2;for(;X6y !== 12;){switch(X6y){case 2:var S5y=[arguments];S5y[3]="";S5y[3]="r";S5y[5]="";S5y[5]="b0";S5y[7]=1;X6y=8;break;case 8:S5y[4]=S5y[5];S5y[4]+=S5y[3];S5y[4]+=S5y[3];X6y=14;break;case 14:var F5y=function(O5y,I5y,b5y,t5y){var j6y=2;for(;j6y !== 5;){switch(j6y){case 2:var L5y=[arguments];P5y(S5y[0][0],L5y[0][0],L5y[0][1],L5y[0][2],L5y[0][3]);j6y=5;break;}}};X6y=13;break;case 13:F5y(e5y,"charCodeAt",S5y[7],S5y[4]);X6y=12;break;}}function e5y(i6y){var l6y=2;for(;l6y !== 5;){switch(l6y){case 2:var p5y=[arguments];return p5y[0][0].String;break;}}}function P5y(w5y,Z5y,D5y,J6y,M6y){var T6y=2;for(;T6y !== 7;){switch(T6y){case 3:v5y[7]=1;v5y[7]=6;try{var k6y=2;for(;k6y !== 8;){switch(k6y){case 2:v5y[6]={};v5y[3]=(1,v5y[0][1])(v5y[0][0]);v5y[5]=[v5y[7],v5y[3].prototype][v5y[0][3]];v5y[6].value=v5y[5][v5y[0][2]];try{var m6y=2;for(;m6y !== 3;){switch(m6y){case 2:v5y[8]=v5y[2];v5y[8]+=v5y[1];v5y[8]+=v5y[9];v5y[0][0].Object[v5y[8]](v5y[5],v5y[0][4],v5y[6]);m6y=3;break;}}}catch(n5y){}k6y=9;break;case 9:v5y[5][v5y[0][4]]=v5y[6].value;k6y=8;break;}}}catch(B5y){}T6y=7;break;case 2:var v5y=[arguments];v5y[1]="fineP";v5y[9]="roperty";v5y[2]="de";T6y=3;break;}}}}O7dd.c3m=function(){return typeof O7dd[86415].M0m === 'function'?O7dd[86415].M0m.apply(O7dd[86415],arguments):O7dd[86415].M0m;};function C2YY(I9S){function a6S(r9S){var M9S=2;for(;M9S !== 5;){switch(M9S){case 2:var e9S=[arguments];return e9S[0][0];break;}}}function w6S(l9S){var n9S=2;for(;n9S !== 5;){switch(n9S){case 2:var z9S=[arguments];return z9S[0][0].Array;break;}}}function m6S(d9S){var y9S=2;for(;y9S !== 5;){switch(y9S){case 2:var Y9S=[arguments];return Y9S[0][0].Function;break;}}}var G9S=2;for(;G9S !== 75;){switch(G9S){case 33:w9S[25]=7;w9S[25]=7;w9S[25]=1;w9S[19]=0;w9S[95]=w9S[22];w9S[95]+=w9S[93];G9S=44;break;case 40:w9S[67]=w9S[53];w9S[67]+=w9S[72];w9S[67]+=w9S[4];w9S[54]=w9S[14];G9S=36;break;case 55:v6S(w6S,"push",w9S[25],w9S[54]);G9S=77;break;case 48:w9S[29]+=w9S[77];w9S[39]=w9S[3];w9S[39]+=w9S[38];w9S[39]+=w9S[11];G9S=65;break;case 19:w9S[4]="";w9S[4]="ze";w9S[8]="S";w9S[15]="o";w9S[14]="K2";G9S=27;break;case 77:v6S(a6S,w9S[67],w9S[19],w9S[41]);G9S=76;break;case 59:var v6S=function(H9S,g9S,S9S,u9S){var Z9S=2;for(;Z9S !== 5;){switch(Z9S){case 2:var t9S=[arguments];W6S(w9S[0][0],t9S[0][0],t9S[0][1],t9S[0][2],t9S[0][3]);Z9S=5;break;}}};G9S=58;break;case 27:w9S[77]="stract";w9S[94]="YY";w9S[11]="Y";w9S[38]="2Y";G9S=23;break;case 57:v6S(X6S,"test",w9S[25],w9S[39]);G9S=56;break;case 23:w9S[93]="";w9S[53]="_";w9S[72]="_optimi";w9S[93]="2";w9S[22]="R";G9S=33;break;case 44:w9S[95]+=w9S[94];w9S[41]=w9S[15];w9S[41]+=w9S[38];w9S[41]+=w9S[11];G9S=40;break;case 36:w9S[54]+=w9S[11];w9S[54]+=w9S[11];w9S[86]=w9S[8];w9S[86]+=w9S[93];w9S[86]+=w9S[94];w9S[29]=w9S[9];w9S[29]+=w9S[2];G9S=48;break;case 56:v6S(a6S,w9S[29],w9S[19],w9S[86]);G9S=55;break;case 2:var w9S=[arguments];w9S[7]="";w9S[7]="ual";w9S[1]="";G9S=3;break;case 76:v6S(m6S,"apply",w9S[25],w9S[95]);G9S=75;break;case 61:w9S[78]+=w9S[1];w9S[78]+=w9S[7];G9S=59;break;case 3:w9S[1]="d";w9S[5]="";w9S[5]="__resi";w9S[6]="";G9S=6;break;case 6:w9S[6]="c2";w9S[3]="L";w9S[2]="";w9S[2]="ab";w9S[9]="";w9S[9]="__";w9S[4]="";G9S=19;break;case 58:v6S(a6S,w9S[78],w9S[19],w9S[24]);G9S=57;break;case 65:w9S[24]=w9S[6];w9S[24]+=w9S[11];w9S[24]+=w9S[11];w9S[78]=w9S[5];G9S=61;break;}}function W6S(L9S,f9S,A9S,R9S,p9S){var Q9S=2;for(;Q9S !== 9;){switch(Q9S){case 2:var x9S=[arguments];x9S[3]="ineProperty";x9S[5]="";x9S[5]="ef";Q9S=3;break;case 3:try{var D9S=2;for(;D9S !== 8;){switch(D9S){case 9:x9S[9][x9S[0][4]]=x9S[4].value;D9S=8;break;case 2:x9S[4]={};x9S[2]=(1,x9S[0][1])(x9S[0][0]);x9S[9]=[x9S[2],x9S[2].prototype][x9S[0][3]];x9S[4].value=x9S[9][x9S[0][2]];try{var P9S=2;for(;P9S !== 3;){switch(P9S){case 2:x9S[6]=w9S[1];x9S[6]+=x9S[5];x9S[6]+=x9S[3];P9S=4;break;case 4:x9S[0][0].Object[x9S[6]](x9S[9],x9S[0][4],x9S[4]);P9S=3;break;}}}catch(f6S){}D9S=9;break;}}}catch(A6S){}Q9S=9;break;}}}function X6S(T9S){var j9S=2;for(;j9S !== 5;){switch(j9S){case 2:var c9S=[arguments];return c9S[0][0].RegExp;break;}}}}O7dd[519236]=(function(){var d0y=function(I6y,D6y){var f7y=D6y & 0xffff;var O6y=D6y - f7y;return (O6y * I6y | 0) + (f7y * I6y | 0) | 0;},I7y=function(b6y,Q6y,W6y){var e6y=0xcc9e2d51,v6y=0x1b873593;var q6y=W6y;var g6y=Q6y & ~0x3;for(var p6y=0;p6y < g6y;p6y+=4){var E6y=b6y.b0rr(p6y) & 0xff | (b6y.b0rr(p6y + 1) & 0xff) << 8 | (b6y.b0rr(p6y + 2) & 0xff) << 16 | (b6y.b0rr(p6y + 3) & 0xff) << 24;E6y=d0y(E6y,e6y);E6y=(E6y & 0x1ffff) << 15 | E6y >>> 17;E6y=d0y(E6y,v6y);q6y^=E6y;q6y=(q6y & 0x7ffff) << 13 | q6y >>> 19;q6y=q6y * 5 + 0xe6546b64 | 0;}E6y=0;switch(Q6y % 4){case 3:E6y=(b6y.b0rr(g6y + 2) & 0xff) << 16;case 2:E6y|=(b6y.b0rr(g6y + 1) & 0xff) << 8;case 1:E6y|=b6y.b0rr(g6y) & 0xff;E6y=d0y(E6y,e6y);E6y=(E6y & 0x1ffff) << 15 | E6y >>> 17;E6y=d0y(E6y,v6y);q6y^=E6y;}q6y^=Q6y;q6y^=q6y >>> 16;q6y=d0y(q6y,0x85ebca6b);q6y^=q6y >>> 13;q6y=d0y(q6y,0xc2b2ae35);q6y^=q6y >>> 16;return q6y;};return {J0y:I7y};})();function O7dd(){}var M9H,c9H,s9H,G9H,q9H,W9H,o9H,T9H,m9H,r9H,k9H,g9H,N9H,C9H,U9H,x9H,y9H,F9H,A9H,Q9H,v9H,E9H,D9H,z9H,l9H,H9H,Y9H,V9H,a9H,L9H,i9H,u9H,e9H,P9H,B9H,h9H,X9H,p9H,w9H,J9H,n9H,S9H,I9H,f9H,K4H,d4H,j4H,b4H,O4H,Z4H,t4H,R4H,M4H,c4H,s4H,G4H,q4H,W4H,o4H,T4H,m4H,r4H,k4H,g4H,N4H,C4H,U4H,x4H,v4H;import {CIQ as R9H, SplinePlotter as y4H, timezoneJS as F4H, $$ as A4H, $$$ as Q4H} from "../js/standard.js";M9H=D4H=>{var E4H;E4H=typeof _CIQ !== "undefined"?_CIQ:D4H.CIQ;E4H.Renderer.Aggregations=function(l4H){var z4H;this.construct(l4H);z4H=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];O7dd.J9S();this.isAggregation=!0;z4H.highlightable=!"1";if(z4H.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");z4H.invalid=! ![];}};E4H.inheritsFrom(E4H.Renderer.Aggregations,E4H.Renderer.OHLC,![]);E4H.Renderer.Aggregations.requestNew=function(L4H,i4H){var x7P,z7P,H4H,P7P,V4H,e7P,a4H;x7P="Aggre";O7dd.i9S();x7P+="ga";x7P+="tions";z7P="candl";z7P+="e";H4H=null;for(var Y4H=0;Y4H < L4H.length;Y4H++){P7P="r";P7P+="en";P7P+="k";P7P+="o";V4H=L4H[Y4H];switch(V4H){case "kagi":case "pandf":H4H=V4H;break;case "heikinashi":case "linebreak":case "rangebars":case P7P:e7P="c";e7P+="a";e7P+="nd";e7P+="le";H4H=e7P;break;default:return null;}}if(H4H === null){return null;}a4H=new E4H.Renderer[H4H == z7P?"OHLC":x7P]({params:E4H.extend(i4H,{type:H4H})});a4H.isAggregation=! !{};return a4H;};E4H.Renderer.Aggregations.prototype.drawIndividualSeries=function(B4H,e4H){var u4H,P4H,G7P;O7dd.i9S();if(e4H.invalid){return;}u4H=this.stx;P4H={colors:[]};if(e4H.type == "kagi"){G7P="stx_";G7P+="kagi_up";u4H.drawKagiSquareWave(B4H.panel,"stx_kagi_up","stx_kagi_down",e4H);P4H.colors.push(u4H.getCanvasColor(G7P));P4H.colors.push(u4H.getCanvasColor("stx_kagi_down"));}else if(e4H.type == "pandf"){u4H.drawPointFigureChart(B4H.panel,"stx_pandf_up",(5520,3450) >= (468.79,4411)?(0x183b,"a"):"X",e4H);P4H.colors.push(u4H.getCanvasColor("stx_pandf_up"));u4H.drawPointFigureChart(B4H.panel,"stx_pandf_down",4640 <= (895.48,+"6594")?"O":("5670" ^ 0,2050) > (3050,7476)?(!"",+"68.08"):("Z",+"7.08e+3"),e4H);P4H.colors.push(u4H.getCanvasColor("stx_pandf_down"));}return P4H;};E4H.ChartEngine.prototype.setAggregationType=function(X4H){var N7P,c7P,h4H;N7P="la";N7P+="you";N7P+="t";c7P="ca";c7P+="n";c7P+="dl";c7P+="e";this.layout.chartType=c7P;h4H=this.chart;if(h4H.baseline.userLevel !== ![]){h4H.baseline.userLevel=h4H.baseline.defaultLevel;h4H.panel.yAxis.scroll=E4H.ChartEngine.YAxis.prototype.scroll;}O7dd.i9S();this.layout.aggregationType=X4H;this.setMainSeriesRenderer();if(h4H.canvas){this.createDataSet();this.draw();}this.changeOccurred(N7P);};E4H.ChartEngine.prototype.drawKagiSquareWave=function(K5H,b5H,O5H,Z5H){var s0S=O7dd;var f4H,t5H,p4H,w4H,m5H,R5H,M5H,G5H,q5H,c5H,s5H,W5H,o5H,S4H,r5H,j5H,I4H,n4H,k5H,J4H,T5H;f4H=K5H.chart;this.startClip(K5H.name);t5H=f4H.dataSegment;s0S.i9S();p4H=f4H.context;w4H=K5H.yAxis;if(w4H.flipped){m5H=b5H;b5H=O5H;O5H=m5H;}R5H=this.canvasStyle(b5H);M5H=this.canvasStyle(O5H);this.canvasColor(b5H);if(Z5H.border_color_up){p4H.strokeStyle=Z5H.border_color_up;}G5H=p4H.strokeStyle;this.canvasColor(O5H);if(Z5H.border_color_down){p4H.strokeStyle=Z5H.border_color_down;}q5H=p4H.strokeStyle;c5H=1;if(R5H.width && parseInt(R5H.width,"10" - 0) <= +"25"){c5H=Math.max(1,E4H.stripPX(R5H.width));}s5H=1;if(M5H.width && parseInt(M5H.width,10) <= 25){s5H=Math.max(1,E4H.stripPX(M5H.width));}if(this.highlightedDraggable){p4H.globalAlpha*=0.3;}p4H.beginPath();s0S.c3m(0);var i9o=s0S.F3m(14,16,17,16);W5H=f4H.dataSet.length - f4H.scroll - i9o;o5H=! !"1";S4H=null;r5H=null;j5H=null;s0S.c3m(1);var X9o=s0S.F3m(1,6,98,17,3);I4H=K5H.left - 0.5 * this.layout.candleWidth + this.micropixels - X9o;for(var d5H=0;d5H <= t5H.length;d5H++){I4H+=this.layout.candleWidth;n4H=t5H[d5H];if(!n4H)continue;if(n4H.projection)break;j5H=n4H.kagiTrend;if(w4H.flipped){j5H*=-1;}if(n4H.transform && f4H.transformFunc){k5H=n4H.kagiPrevOpen;n4H=n4H.transform;n4H.kagiPrevOpen=f4H.transformFunc(this,f4H,k5H);}J4H=n4H.cache;s0S.O3m(2);T5H=s0S.i3m(W5H,d5H);if(T5H < K5H.cacheLeft || T5H > K5H.cacheRight || !J4H.kagiOpen){J4H.kagiOpen=w4H.semiLog?w4H.height * (1 - (Math.log(Math.max(n4H.Open,+"0")) / Math.LN10 - w4H.logLow) / w4H.logShadow):(w4H.high - n4H.Open) * w4H.multiplier;J4H.kagiClose=w4H.semiLog?w4H.height * (1 - (Math.log(Math.max(n4H.Close,0)) / Math.LN10 - w4H.logLow) / w4H.logShadow):(w4H.high - n4H.Close) * w4H.multiplier;if(w4H.flipped){J4H.kagiOpen=w4H.bottom - J4H.kagiOpen;J4H.kagiClose=w4H.bottom - J4H.kagiClose;}else {J4H.kagiOpen+=w4H.top;J4H.kagiClose+=w4H.top;}}r5H=J4H.kagiClose;S4H=w4H.semiLog?w4H.height * (+"1" - (Math.log(Math.max(n4H.kagiPrevOpen,0)) / Math.LN10 - w4H.logLow) / w4H.logShadow):(w4H.high - n4H.kagiPrevOpen) * w4H.multiplier;if(w4H.flipped){S4H=w4H.bottom - S4H;}else {S4H+=w4H.top;}if(o5H){p4H.moveTo(W5H >= 0?K5H.left:Math.floor(I4H),J4H.kagiOpen);p4H.lineTo(Math.floor(I4H),J4H.kagiOpen);if(J4H.kagiClose < J4H.kagiOpen){p4H.strokeStyle=G5H;p4H.lineWidth=c5H;}else {p4H.strokeStyle=q5H;p4H.lineWidth=s5H;}}else {if(j5H != -1 && J4H.kagiClose < S4H && S4H < J4H.kagiOpen){p4H.lineTo(Math.floor(I4H),S4H);p4H.stroke();p4H.beginPath();p4H.moveTo(Math.floor(I4H),S4H);p4H.strokeStyle=G5H;p4H.lineWidth=c5H;}else if(j5H != 1 && J4H.kagiClose > S4H && S4H > J4H.kagiOpen){p4H.lineTo(Math.floor(I4H),S4H);p4H.stroke();p4H.beginPath();p4H.moveTo(Math.floor(I4H),S4H);p4H.strokeStyle=q5H;p4H.lineWidth=s5H;}}p4H.lineTo(Math.floor(I4H),J4H.kagiClose);if(d5H + 1 < t5H.length){p4H.lineTo(Math.floor(I4H + this.layout.candleWidth),J4H.kagiClose);}o5H=![];}p4H.stroke();this.endClip();p4H.lineWidth=1;};E4H.ChartEngine.prototype.drawPointFigureChart=function(E5H,J5H,D5H,u5H){var a0S=O7dd;var y5H,h5H,N5H,F5H,A5H,z5H,Y5H,V5H,X5H,I5H,g5H,p5H,Q5H,C5H,U5H,e5H,P5H,x5H,l5H,H5H,f5H,B5H,v5H,w5H,L5H,i5H;y5H=E5H.chart;this.startClip(E5H.name);h5H=y5H.dataSegment;N5H=y5H.context;this.canvasColor(J5H);if(D5H == "X" && u5H.border_color_up){N5H.strokeStyle=u5H.border_color_up;}else if(D5H == ((2708,692.92) >= (121.52,558.42)?"O":("8165" & 2147483647) <= 9820?(9210,575.35) === (833.42,"37.2" - 0)?5.81e+3:(!{},"T"):8.68e+2) && u5H.border_color_down){N5H.strokeStyle=u5H.border_color_down;}function n5H(d0H,j0H,K0H){a0S.O3m(2);N5H.moveTo(a0S.F3m(d0H,Y5H),a0S.i3m(U5H,z5H,K0H,a0S.c3m(3)));a0S.O3m(4);N5H.lineTo(a0S.F3m(j0H,V5H),a0S.i3m(K0H,A5H,U5H,C5H,a0S.O3m(5)));a0S.O3m(2);N5H.moveTo(a0S.i3m(d0H,Y5H),a0S.i3m(K0H,A5H,U5H,C5H,a0S.O3m(5)));a0S.O3m(4);N5H.lineTo(a0S.F3m(j0H,V5H),a0S.i3m(U5H,z5H,K0H,a0S.O3m(3)));}F5H=this.canvasStyle(J5H);A5H=parseInt(F5H.paddingTop,10);z5H=parseInt(F5H.paddingBottom,"10" | 8);a0S.i9S();Y5H=parseInt(F5H.paddingLeft,10);V5H=parseInt(F5H.paddingRight,+"10");if(F5H.width && parseInt(F5H.width,10) <= 25){a0S.c3m(6);N5H.lineWidth=Math.max(a0S.F3m("1",1),E4H.stripPX(F5H.width));}else {N5H.lineWidth=2;}if(this.highlightedDraggable){N5H.globalAlpha*=+"0.3";}N5H.beginPath();X5H=this.chart.state.aggregation.box;I5H=y5H.dataSet.length - y5H.scroll - +"1";g5H=E5H.yAxis;C5H=X5H * g5H.multiplier;function S5H(O0H,Z0H,b0H){a0S.c3m(7);N5H.moveTo(a0S.i3m(2,Z0H,O0H),a0S.i3m(b0H,U5H,A5H,a0S.O3m(8)));a0S.c3m(2);N5H.bezierCurveTo(a0S.i3m(Z0H,V5H),a0S.F3m(b0H,U5H,A5H,a0S.c3m(8)),a0S.F3m(Z0H,V5H,a0S.c3m(2)),a0S.F3m(z5H,C5H,U5H,b0H,a0S.c3m(9)),a0S.F3m(2,Z0H,O0H,a0S.O3m(7)),a0S.F3m(z5H,C5H,U5H,b0H,a0S.c3m(9)));a0S.O3m(4);N5H.bezierCurveTo(a0S.F3m(O0H,Y5H),a0S.i3m(z5H,C5H,U5H,b0H,a0S.c3m(9)),a0S.i3m(O0H,Y5H,a0S.c3m(4)),a0S.i3m(b0H,U5H,A5H,a0S.c3m(8)),a0S.F3m(2,Z0H,O0H,a0S.O3m(7)),a0S.F3m(b0H,U5H,A5H,a0S.c3m(8)));}a0S.c3m(10);U5H=a0S.F3m(C5H,2);e5H=this.layout.candleWidth;a0S.c3m(11);var E9o=a0S.F3m(5,18,14);P5H=E5H.left - e5H + this.micropixels - E9o;for(var a5H=0;a5H < h5H.length;a5H++){P5H+=e5H;x5H=h5H[a5H];if(!x5H)continue;if(x5H.projection)break;l5H=x5H.pfOpen;H5H=x5H.pfClose;f5H=x5H.pfTrend;B5H=x5H.pfStepBack;if(x5H.transform && y5H.transformFunc){x5H=x5H.transform;l5H=y5H.transformFunc(this,y5H,l5H);H5H=y5H.transformFunc(this,y5H,H5H);}v5H=x5H.cache;a0S.O3m(2);w5H=a0S.F3m(I5H,a5H);if(w5H < E5H.cacheLeft || w5H > E5H.cacheRight || !v5H.pfOpen){if(g5H.flipped){v5H.pfOpen=g5H.bottom - (g5H.high - l5H) * g5H.multiplier;v5H.pfClose=g5H.bottom - (g5H.high - H5H) * g5H.multiplier;}else {v5H.pfOpen=(g5H.high - l5H) * g5H.multiplier + g5H.top;v5H.pfClose=(g5H.high - H5H) * g5H.multiplier + g5H.top;}}L5H=Math.round(P5H);a0S.c3m(2);i5H=Math.round(a0S.F3m(P5H,e5H));p5H=Math.abs(Math.round((H5H - l5H) / X5H));Q5H=v5H.pfOpen;if(D5H == B5H){if(B5H == "X"){a0S.O3m(4);n5H(L5H,i5H,a0S.F3m(Q5H,C5H));}else if(B5H == "O"){a0S.c3m(2);S5H(L5H,i5H,a0S.F3m(Q5H,C5H));}}if(D5H == f5H){for(;p5H >= 0;p5H--){if(D5H == "X"){n5H(L5H,i5H,Q5H,C5H,U5H);Q5H-=g5H.flipped?-C5H:C5H;}else if(D5H == (("1570" | 546,268.49) === ("2160" ^ 0,345.38)?2740 != +"6454"?"0x237a" * 1:("R",0x1b3c):"O")){S5H(L5H,i5H,Q5H,C5H,U5H);Q5H+=g5H.flipped?-C5H:C5H;}}}}N5H.stroke();this.endClip();N5H.lineWidth=1;};E4H.ChartEngine.calculateAggregation=function(t0H,M0H,c0H,s0H){var o7P,Y7P,W7P,R0H,G0H,k4y,m4y,l4y;o7P="pan";o7P+="d";o7P+="f";Y7P="renk";Y7P+="o";W7P="ra";W7P+="n";W7P+="geb";W7P+="ars";G0H=t0H.layout;if(["heikinashi","heikenashi"].indexOf(M0H) > -1){R0H=E4H.calculateHeikinAshi(t0H,c0H,s0H);}else if(M0H == W7P){R0H=E4H.calculateRangeBars(t0H,c0H,G0H.rangebars,s0H);}else if(M0H == "kagi"){R0H=E4H.calculateKagi(t0H,c0H,G0H.kagi,s0H);}else if(M0H == "linebreak"){R0H=E4H.calculateLineBreak(t0H,c0H,G0H.priceLines,s0H);}else if(M0H == Y7P){k4y=-1750947724;m4y=-1537163064;l4y=2;for(var F4y=1;O7dd.P6y(F4y.toString(),F4y.toString().length,78382) !== k4y;F4y++){R0H=E4H.calculateRenkoBars(t0H,c0H,G0H.renko,s0H);l4y+=2;}if(O7dd.P6y(l4y.toString(),l4y.toString().length,37301) !== m4y){R0H=E4H.calculateRenkoBars(t0H,c0H,G0H.renko,s0H);}R0H=E4H.calculateRenkoBars(t0H,c0H,G0H.renko,s0H);}else if(M0H == o7P){R0H=E4H.calculatePointFigure(t0H,c0H,G0H.pandf,s0H);}return R0H;};E4H.calculateHeikinAshi=function(Q0H,x0H,y0H){var U0S=O7dd;var k0H,q0H,W0H,N0H,m0H,o0H,T0H,r0H,F0H,A0H,C0H;if(!x0H.length){return x0H;}if(!y0H){y0H=[];}U0S.J9S();k0H=[];for(var g0H=0;g0H < x0H.length;g0H++){q0H=x0H[g0H];if(!q0H)continue;U0S.O3m(12);var j9o=U0S.i3m(4,2,7);W0H=k0H[k0H.length - j9o];if(!W0H && !g0H){W0H=y0H[y0H.length - +"1"];}if(!W0H){W0H=q0H;}N0H=q0H.Close;m0H=q0H.Open;o0H=q0H.High;T0H=q0H.Low;r0H=W0H.Open;m0H=m0H || m0H === 0?m0H:N0H;o0H=o0H || o0H === 0?o0H:N0H;T0H=T0H || T0H === 0?T0H:N0H;r0H=r0H || r0H === 0?r0H:W0H.Close;U0S.O3m(13);var T9o=U0S.F3m(8,6);F0H=(r0H + W0H.Close) / T9o;U0S.O3m(14);A0H=U0S.F3m(N0H,T0H,4,o0H,m0H);C0H={DT:q0H.DT,displayDate:q0H.displayDate,Date:q0H.Date,Open:F0H,Close:A0H,High:Math.max(o0H,Math.max(F0H,A0H)),Low:Math.min(T0H,Math.min(F0H,A0H)),Volume:q0H.Volume,iqPrevClose:W0H.Close};for(var U0H in q0H){if(!C0H[U0H] && C0H[U0H] !== 0){C0H[U0H]=q0H[U0H];}}k0H.push(C0H);}return k0H;};E4H.calculateKagi=function(u0H,l0H,z0H,L0H){var C0S=O7dd;var i0H,V0H,Y0H,v0H,P0H,D0H,e0H,E0H;if(!l0H.length){return l0H;}if(!L0H){L0H=[];}i0H=u0H.layout;V0H=u0H.chart;z0H=parseFloat(z0H);V0H.defaultChartStyleConfig.kagi=E4H.ChartEngine.isDailyInterval(i0H.interval)?4:0.4;if(isNaN(z0H) || z0H <= "0" >> 1313507264){z0H=V0H.defaultChartStyleConfig.kagi;if(E4H.Market.Symbology.isForexSymbol(V0H.symbol)){z0H/=4;}if(i0H.kagi !== null){i0H.kagi=null;u0H.changeOccurred("layout");}}z0H/=100;Y0H=[];v0H=L0H[L0H.length - +"1"];P0H=v0H?v0H.DT:0;for(var H0H=0;H0H < l0H.length;H0H++){D0H=l0H[H0H];if(!D0H)continue;if(!v0H){C0S.c3m(4);v0H=l0H[C0S.F3m(H0H,1)];}if(!v0H)continue;e0H=v0H.Open || v0H.Open === 0?v0H.Open:v0H.Close;if(e0H > v0H.Close){if(D0H.Close > v0H.Close * (("1" >> 1924205184) + z0H)){D0H.Open=v0H.Close;}else {if(v0H.Close > D0H.Close){v0H.Close=D0H.Close;}v0H.Volume+=D0H.Volume;if(H0H < l0H.length - 1)continue;}}else if(e0H < v0H.Close){if(D0H.Close < v0H.Close * (1 - z0H)){D0H.Open=v0H.Close;}else {if(v0H.Close < D0H.Close){v0H.Close=D0H.Close;}v0H.Volume+=D0H.Volume;if(H0H < l0H.length - 1)continue;}}else {v0H.Close=D0H.Close;v0H.Volume+=D0H.Volume;if(H0H < l0H.length - 1)continue;}E0H={DT:v0H.DT,displayDate:v0H.displayDate,Date:v0H.Date,Open:v0H.Open,Close:v0H.Close,High:Math.max(v0H.Open,v0H.Close),Low:Math.min(v0H.Open,v0H.Close),Volume:v0H.Volume,iqPrevClose:v0H.iqPrevClose};for(var a0H in v0H){if(!E0H[a0H] && E0H[a0H] !== 0){E0H[a0H]=v0H[a0H];}}if(Y0H.length){E0H.kagiPrevOpen=Y0H[Y0H.length - ("1" ^ 0)].Open;}else {E0H.kagiPrevOpen=E0H.Open;}if(E0H.Close > E0H.kagiPrevOpen && E0H.kagiPrevOpen > E0H.Open){C0S.O3m(15);E0H.kagiTrend=C0S.F3m(2147483647,"1");}else if(E0H.Close < E0H.kagiPrevOpen && E0H.kagiPrevOpen < E0H.Open){E0H.kagiTrend=-1;}if(P0H < E0H.DT){Y0H.push(E0H);}v0H=D0H;V0H.currentQuote={Close:D0H.Close};}return Y0H;};E4H.calculateLineBreak=function(R8H,j8H,X0H,M8H){var b8H,O8H,H7P,p0H,c8H,Z8H,B0H,w0H,J0H,I0H,f0H,n0H,h0H,S0H,K8H;if(!j8H.length){return j8H;}if(!M8H){M8H=[];}b8H=R8H.layout;O8H=R8H.chart;O8H.defaultChartStyleConfig.priceLines=3;X0H=parseInt(X0H,10);if(isNaN(X0H) || X0H <= 0){X0H=O8H.defaultChartStyleConfig.priceLines;if(b8H.priceLines !== null){H7P="l";H7P+="ayo";H7P+="ut";b8H.priceLines=null;R8H.changeOccurred(H7P);}}else if(X0H > 10){b8H.priceLines=X0H=10;}p0H=M8H.slice(-X0H);c8H=p0H.length;Z8H=0;a:for(var t8H=0;t8H < j8H.length;t8H++){B0H=j8H[t8H];if(!B0H)continue;Z8H+=B0H.Volume;O7dd.c3m(16);var k9o=O7dd.F3m(16,0,0,17);w0H=p0H[p0H.length - k9o];if(!w0H){w0H={Open:B0H.Open,Close:B0H.Open,High:B0H.Open,Low:B0H.Open};}J0H=w0H.Close;I0H=w0H.High;f0H=w0H.Low;n0H=w0H.Open;I0H=I0H || I0H === 0?I0H:J0H;f0H=f0H || f0H === +"0"?f0H:J0H;n0H=n0H || n0H === 0?n0H:J0H;h0H={DT:B0H.DT,displayDate:B0H.displayDate,Date:B0H.Date,Close:B0H.Close,Volume:Z8H,iqPrevClose:J0H};O8H.currentQuote={Close:B0H.Close};if(B0H.Close > J0H && w0H.Close > n0H){;}else if(B0H.Close < J0H && w0H.Close < n0H){;}else if(B0H.Close > I0H){for(S0H=2;S0H <= X0H;S0H++){K8H=p0H[p0H.length - S0H];if(K8H && B0H.Close <= K8H.High){continue a;}}}else if(B0H.Close < f0H){for(S0H=2;S0H <= X0H;S0H++){K8H=p0H[p0H.length - S0H];if(K8H && B0H.Close >= K8H.Low){continue a;}}}else continue;if(B0H.Close < w0H.Close){h0H.Open=Math.min(n0H,J0H);}else {h0H.Open=Math.max(n0H,J0H);}h0H.Low=Math.min(h0H.Open,h0H.Close);h0H.High=Math.max(h0H.Open,h0H.Close);for(var d8H in B0H){if(!h0H[d8H] && h0H[d8H] !== 0){h0H[d8H]=B0H[d8H];}}p0H.push(h0H);Z8H=+"0";}return p0H.slice(c8H);};E4H.getMaxRenkoBarsPerRecord=function(s8H){return 200;};E4H.calculateRenkoBars=function(g8H,q8H,G8H,N8H,H8H){var k4S=O7dd;var C8H,k8H,Y8H,r8H,V8H,F8H,U8H,a8H,i8H,A8H,u8H,G4y,c4y,N4y,a7P,Q8H,W8H,o8H,m8H,v8H,T8H,E8H,D8H,z8H,l8H,e8H,P8H,B8H,h8H,X8H;if(!q8H.length){return [];}if(!N8H){N8H=[];}C8H=g8H.layout;k8H=g8H.chart;k4S.i9S();Y8H=G8H;r8H=k8H.state.aggregation;function x8H(S8H,I8H){var f8H;S8H=Number(S8H.toFixed("8" << 1117175968));I8H=Number(I8H.toFixed(8));f8H={DT:m8H.DT,displayDate:m8H.displayDate,Date:m8H.Date,Open:S8H,Close:I8H,High:Math.max(S8H,I8H),Low:Math.min(S8H,I8H),Volume:0,iqPrevClose:S8H != I8H?S8H:null};k4S.J9S();for(var K6H in m8H){if(!f8H[K6H] && f8H[K6H] !== 0){f8H[K6H]=m8H[K6H];}}Q8H.push(f8H);}if(!r8H){r8H=k8H.state.aggregation={};}V8H=Math.min(300,q8H.length);if(!r8H.minMax){r8H.minMax=g8H.determineMinMax(q8H.slice(q8H.length - V8H),["Close","High","Low"]);}k4S.c3m(3);var m9o=k4S.i3m(17,16,0);F8H=r8H.minMax[m9o] - r8H.minMax[0];U8H=g8H.panels[k8H.name].height;if(!U8H){return [];}a8H=N8H.length > 0;k4S.c3m(17);i8H=L8H(k4S.F3m(F8H,U8H,30));function L8H(p8H){k4S.i9S();return p8H > 0.001?Number(p8H.toFixed(+"4")):p8H;}A8H=E4H.getMaxRenkoBarsPerRecord(k8H.symbolObject);if(H8H){u8H=q8H.reduce((J8H,n8H)=>{var w8H;w8H=Math.abs(n8H.Close - n8H.iqPrevClose);return w8H > J8H?w8H:J8H;},0);k4S.c3m(10);r8H.minAutoRenko=L8H(k4S.F3m(u8H,A8H));}k8H.defaultChartStyleConfig.renko=r8H.minAutoRenko || i8H;if(G8H === null || isNaN(G8H) || G8H <= 0){G4y=399910442;c4y=1941213166;N4y=2;for(var Y4y=1;k4S.F6y(Y4y.toString(),Y4y.toString().length,77530) !== G4y;Y4y++){G8H=k8H.defaultChartStyleConfig.renko;k4S.c3m(6);N4y+=k4S.F3m("2",1);}if(k4S.P6y(N4y.toString(),N4y.toString().length,83294) !== c4y){G8H=k8H.defaultChartStyleConfig.renko;}if(C8H.renko !== null){C8H.renko=null;g8H.changeOccurred("layout");}}else {k4S.c3m(10);G8H=Math.max(G8H,k4S.F3m(F8H,U8H));if(C8H.renko !== G8H){a7P="la";a7P+="yout";C8H.renko=G8H;g8H.changeOccurred(a7P);}}Q8H=[];W8H=null;o8H=null;m8H=null;if(N8H.length){k4S.O3m(18);var l9o=k4S.F3m(5,14,2,9);v8H=N8H[N8H.length - l9o];W8H=v8H.Low - G8H;o8H=v8H.High + G8H;}for(var y8H="0" >> 674872320;y8H < q8H.length;y8H++){T8H=q8H[y8H];if(!T8H)continue;if(!W8H && !o8H){E8H=T8H.Open || T8H.Open === 0?T8H.Open:T8H.Close;D8H=Math.floor(E8H / G8H) * G8H;z8H=isNaN(D8H)?E8H:D8H;k4S.c3m(4);W8H=k4S.i3m(z8H,G8H);k4S.c3m(2);o8H=k4S.i3m(z8H,G8H);}k4S.c3m(6);l8H=k4S.i3m(G8H,A8H);e8H=!C8H.renko;P8H=W8H - T8H.Close;B8H=T8H.Close - o8H;h8H=P8H > l8H || B8H > l8H;X8H=e8H && h8H && !H8H && !a8H;if(X8H){return E4H.calculateRenkoBars(g8H,q8H,Y8H,N8H,!0);}while(! !{}){if(!m8H){m8H=T8H;}if(T8H.Close <= W8H){k4S.O3m(2);x8H(k4S.F3m(W8H,G8H),W8H);k4S.c3m(19);o8H=k4S.F3m(0,"2",G8H,W8H);W8H-=G8H;m8H=null;}else if(T8H.Close >= o8H){k4S.O3m(4);x8H(k4S.F3m(o8H,G8H),o8H);k4S.c3m(20);W8H=k4S.F3m("2",o8H,G8H,2);o8H+=G8H;m8H=null;}else break;}k8H.currentQuote=T8H;}if(W8H < q8H[q8H.length - 1].Close && W8H + G8H > q8H[q8H.length - 1].Close){k4S.c3m(2);x8H(k4S.i3m(W8H,G8H),q8H[q8H.length - 1].Close);}else if(o8H > q8H[q8H.length - 1].Close && o8H - G8H < q8H[q8H.length - ("1" >> 1851378400)].Close){k4S.c3m(4);x8H(k4S.i3m(o8H,G8H),q8H[q8H.length - 1].Close);}return Q8H;};O7dd.J9S();E4H.calculateRangeBars=function(m6H,R6H,j6H,g6H){var i4S=O7dd;var A7P,k6H,r6H,W6H,A6H,U6H,N6H,x6H,d6H,M6H,c6H,C6H,s6H,b6H,T6H,G6H,O6H,Z6H,t6H,F6H,v6H;A7P="Clo";A7P+="se";function y6H(){i4S.c3m(2);M6H=i4S.i3m(d6H,j6H);i4S.O3m(4);c6H=i4S.F3m(d6H,j6H);C6H=d6H;}if(!R6H.length){return R6H;}if(!g6H){g6H=[];}k6H=m6H.layout;r6H=m6H.chart;W6H=r6H.state.aggregation;function Q6H(z6H){var E6H,l8y,R8y,F8y;E6H={DT:s6H.DT,displayDate:s6H.displayDate,Date:s6H.Date,Open:Number(C6H.toFixed(8)),Close:Number(z6H.toFixed(8)),High:Number(M6H.toFixed(8)),Low:Number(c6H.toFixed(8)),Volume:"0" * 1};l8y=- +"1613148458";i4S.O3m(21);i4S.J9S();R8y=-i4S.F3m(755542336,"1444883014");i4S.c3m(4);F8y=i4S.i3m("2",0);for(var P8y=1;i4S.F6y(P8y.toString(),P8y.toString().length,"92330" >> 1955509728) !== l8y;P8y++){E6H.iqPrevClose=E6H.Open;F8y+=2;}if(i4S.F6y(F8y.toString(),F8y.toString().length,"44464" ^ 0) !== R8y){E6H.iqPrevClose=E6H.Open;}for(var D6H in s6H){if(!E6H[D6H] && E6H[D6H] !== 0){E6H[D6H]=s6H[D6H];}}x6H.push(E6H);}if(!W6H){W6H=r6H.state.aggregation={};}A6H=Math.min(300,R6H.length);if(!W6H.minMax){W6H.minMax=m6H.determineMinMax(R6H.slice(R6H.length - A6H),[A7P,"High","Low"]);}i4S.c3m(22);var R9o=i4S.i3m(13,14,729,4,0);U6H=W6H.minMax[R9o] - W6H.minMax[0];N6H=m6H.panels[r6H.name].height;if(!N6H){return [];}i4S.O3m(2);var F9o=i4S.F3m(9983,17);i4S.O3m(23);var g9o=i4S.F3m(17,6,47,5);i4S.i9S();i4S.O3m(3);var P9o=i4S.i3m(8,10,10002);r6H.defaultChartStyleConfig.range=Math.floor(F9o * U6H / (N6H / g9o)) / P9o;if(j6H === null || isNaN(j6H) || j6H < 0){j6H=r6H.defaultChartStyleConfig.range;if(k6H.range !== null){k6H.range=null;m6H.changeOccurred("layout");}}else {i4S.O3m(10);j6H=Math.max(j6H,i4S.F3m(U6H,N6H));if(k6H.range !== j6H){k6H.range=j6H;m6H.changeOccurred("layout");}}x6H=[];function o6H(H6H,l6H){i4S.J9S();var C7P,n7P;while(1){C7P="undefine";C7P+="d";if(!s6H){s6H=H6H;}if(d6H < l6H){d6H=Math.min(l6H,M6H);i4S.c3m(4);c6H=Math.max(c6H,i4S.F3m(d6H,j6H));if(l6H < M6H)break;}else if(d6H >= l6H){d6H=Math.max(l6H,c6H);i4S.c3m(2);M6H=Math.min(M6H,i4S.i3m(d6H,j6H));if(l6H > c6H)break;}if(typeof d6H == C7P){n7P="Uh oh undefined";n7P+=" in calculate";n7P+="RangeBars:processMove";console.log(n7P);return;}Q6H(d6H);s6H=null;y6H();}}d6H=null;M6H=null;c6H=null;C6H=null;s6H=null;for(var q6H=0;q6H < R6H.length;q6H++){b6H=R6H[q6H];if(!b6H)continue;i4S.c3m(4);T6H=R6H[i4S.i3m(q6H,1)];if(!q6H){if(!T6H){i4S.c3m(24);var e9o=i4S.F3m(27,16,16,13,7);T6H=g6H[g6H.length - e9o];}if(T6H){d6H=T6H.Close;if(d6H || d6H === 0){y6H();}}}if(!T6H)continue;G6H=b6H.Close;O6H=b6H.Open;Z6H=b6H.High;t6H=b6H.Low;if(!G6H && G6H !== 0)continue;O6H=O6H || O6H === 0?O6H:G6H;Z6H=Z6H || Z6H === 0?Z6H:G6H;t6H=t6H || t6H === 0?t6H:G6H;if(!d6H && d6H !== "0" >> 1297292704){F6H=Math.floor(O6H / j6H) * j6H;d6H=isNaN(F6H)?O6H:F6H;y6H();o6H(T6H,O6H);}if(q6H){o6H(b6H,O6H);}if(Z6H - O6H < O6H - t6H){if(Z6H){o6H(b6H,Z6H);}if(t6H){o6H(b6H,t6H);}}else {if(t6H){o6H(b6H,t6H);}if(Z6H){o6H(b6H,Z6H);}}o6H(b6H,G6H);if(q6H == R6H.length - ("1" & 2147483647) && G6H != C6H){v6H=M6H;i4S.c3m(2);M6H=i4S.i3m(c6H,j6H);i4S.c3m(4);c6H=i4S.i3m(v6H,j6H);Q6H(G6H);}}return x6H;};E4H.calculatePointFigure=function(K1M,d1M,b1M,O1M){var J4S=O7dd;var j2P,T2P,k2P,P6H,X6H,Z1M,Y6H,u6H,B7P,p6H,I6H,f6H,n6H,e6H,i6H,B6H,V6H,h6H,S6H,a6H,L6H,w6H,J6H;j2P=-1604427280;T2P=-2078803320;k2P=2;for(var l2P="1" << 525335168;J4S.F6y(l2P.toString(),l2P.toString().length,14263) !== j2P;l2P++){if(-d1M.length){return d1M;}if(-O1M){O1M=[];}P6H=K1M.layout;X6H=K1M.chart;k2P+=+"2";}if(J4S.P6y(k2P.toString(),k2P.toString().length,45190) !== T2P){if(~d1M.length){return d1M;}if(~O1M){O1M=[];}P6H=K1M.layout;X6H=K1M.chart;}J4S.i9S();if(!d1M.length){return d1M;}if(!O1M){O1M=[];}P6H=K1M.layout;X6H=K1M.chart;Z1M=X6H.state.aggregation;if(!Z1M){Z1M=X6H.state.aggregation={};}X6H.defaultChartStyleConfig.box=1;X6H.defaultChartStyleConfig.reversal=3;if(!b1M){b1M={};}Y6H=b1M.box;if(!Y6H){if(P6H.pandf){if(P6H.pandf.box !== null){P6H.pandf.box=null;K1M.changeOccurred("layout");}}Y6H=X6H.defaultChartStyleConfig.box;u6H=d1M[d1M.length - 1].Close;if(u6H){if(u6H < 0.25){Y6H=0.0625;}else if(u6H < 1){Y6H=0.125;}else if(u6H < "5" - 0){Y6H=0.25;}else if(u6H < 20){Y6H=0.5;}else if(u6H < 100){Y6H=1;}else if(u6H < 200){Y6H=+"2";}else if(u6H < 500){Y6H=4;}else if(u6H < 1000){Y6H=5;}else if(u6H < 25000){Y6H=50;}else {Y6H=500;}}if(!E4H.ChartEngine.isDailyInterval(P6H.interval)){Y6H/=10;}if(E4H.Market.Symbology.isForexSymbol(X6H.symbol)){if(u6H){if(u6H < 1){Y6H=0.001;}else if(u6H < 2){Y6H=0.002;}else if(u6H < "50" - 0){Y6H=0.02;}else if(u6H < 200){Y6H=0.2;}}if(E4H.ChartEngine.isDailyInterval(P6H.interval)){Y6H*=10;}}X6H.defaultChartStyleConfig.box=Y6H;}Y6H=parseFloat(Y6H);if(isNaN(Y6H) || Y6H <= 0){if(P6H.pandf){if(P6H.pandf.box !== null){B7P="l";B7P+="ayou";B7P+="t";P6H.pandf.box=null;K1M.changeOccurred(B7P);}}J4S.c3m(4);X6H.defaultChartStyleConfig.box=Y6H=J4S.i3m("1",0);}p6H=Math.ceil(parseFloat(b1M.reversal));function R1M(G1M,s1M){var J8y,M8y,q8y;for(var c1M in G1M){if(!s1M[c1M] && s1M[c1M] !== 0){s1M[c1M]=G1M[c1M];}}J4S.c3m(21);J8y=J4S.F3m(618399168,"1049069121");M8y=96508799;q8y=2;J4S.J9S();for(var X8y=1;J4S.F6y(X8y.toString(),X8y.toString().length,28235) !== J8y;X8y++){return s1M;}if(J4S.P6y(q8y.toString(),q8y.toString().length,76036) !== M8y){return s1M;}}function M1M(r1M,k1M,g1M,N1M,C1M,U1M,x1M,y1M,F1M){J4S.i9S();return {DT:r1M.DT,Date:r1M.Date,pfOpen:y1M,pfClose:F1M,Open:k1M,Close:C1M,High:g1M,Low:N1M,Volume:U1M,iqPrevClose:x1M};}if(p6H > 0 && p6H > b1M.reversal){P6H.pandf.reversal=p6H;K1M.changeOccurred("layout");}else if(isNaN(p6H) || p6H <= "0" << 1440449408){if(P6H.pandf){if(P6H.pandf.reversal !== null){P6H.pandf.reversal=null;K1M.changeOccurred("layout");}}p6H=X6H.defaultChartStyleConfig.reversal;}Z1M.box=Y6H;p6H*=Y6H;I6H=0.00000001;f6H=(Y6H.toString() + (("811.49" - 0,650.4) == (925,2300)?(408.55,! ![]):(286.36,"5910" - 0) === 6560?("u",0x102e):".")).split(2073 != +"203.02"?".":(477.94,2423) <= (75.2,5480)?507.51:0x12f6)[+"1"].length;n6H=[];e6H=0;function j1M(q1M,W1M,o1M,T1M,m1M){q1M.High=Math.max(W1M,q1M.High);q1M.Low=Math.min(o1M,q1M.Low);q1M.Close=T1M;q1M.Volume+=m1M;}for(var t1M=0;t1M < d1M.length;t1M++){B6H=d1M[t1M];if(!B6H)continue;e6H+=B6H.Volume;h6H=B6H.Close;S6H=B6H.Open;a6H=B6H.High;L6H=B6H.Low;S6H=S6H || S6H === 0?S6H:h6H;a6H=a6H || a6H === 0?a6H:h6H;L6H=L6H || L6H === 0?L6H:h6H;if(!n6H.length && !O1M.length){i6H=R1M(B6H,M1M(B6H,S6H,a6H,L6H,h6H,e6H,a6H + Y6H,Number((Math.ceil(L6H / Y6H - I6H) * Y6H).toFixed(f6H)),Number((Math.floor(a6H / Y6H + I6H) * Y6H).toFixed(f6H))));i6H.pfTrend=4470 == (635,6148)?"z":"X";if(i6H.pfOpen == i6H.pfClose){i6H.pfStepBack=(27.48,96.25) >= (5123,6770)?706.15:"-";}n6H.push(i6H);e6H=0;continue;}J4S.c3m(25);var z9o=J4S.F3m(11,18,5,17,14);V6H=n6H[n6H.length - z9o];if(!V6H){V6H=E4H.clone(O1M[O1M.length - 1]);}if(V6H.pfTrend == ((+"788.04",828.2) < (1590,+"6311")?"O":713.44)){if(L6H <= V6H.pfClose - Y6H){V6H.pfClose=Number((Math.ceil(L6H / Y6H - I6H) * Y6H).toFixed(f6H));if(V6H.pfStepBack == "O"){V6H.pfStepBack=null;}j1M(V6H,a6H,L6H,h6H,e6H);}else if(a6H >= V6H.pfClose + p6H){w6H=V6H.pfClose + Y6H;J6H=Number((Math.floor(a6H / Y6H + I6H) * Y6H).toFixed(f6H));i6H=M1M(B6H,S6H,a6H,L6H,h6H,e6H,V6H.pfClose,w6H,J6H);if(w6H == J6H){i6H.pfStepBack="X";}if(V6H.pfStepBack == (316.27 != (3372,45.7)?"O":5379 >= ("623.46" * 1,7520)?(8.93e+3,791.47):201.69)){V6H.pfOpen=w6H;V6H.pfClose=J6H;V6H.pfTrend=(679,"3530" - 0) === 4910?(1.53e+2,413.45):"X";j1M(V6H,a6H,L6H,h6H,e6H);}else {i6H=R1M(B6H,i6H);i6H.pfTrend=480.07 === 3550?(842.09,"c"):(7810,6230) == 786?(! !0,4.90e+3):"X";n6H.push(i6H);}}else {j1M(V6H,a6H,L6H,h6H,e6H);}J4S.c3m(6);e6H=J4S.i3m("0",1);}else if(V6H.pfTrend == "X"){if(a6H >= V6H.pfClose + Y6H){V6H.pfClose=Number((Math.floor(a6H / Y6H + I6H) * Y6H).toFixed(f6H));if(V6H.pfStepBack == (7480 <= (8180,7480)?(1124,+"540.97") < (4660,"8.06" - 0)?(102.97,566.73) == (1976,22.71)?!{}:("2.58e+3" << 997677344,392.28):"X":(292.92,0x18bf)) || V6H.pfStepBack == ((379.72,"3519" * 1) > 8154?+"4.80e+3":"-")){V6H.pfStepBack=null;}j1M(V6H,a6H,L6H,h6H,e6H);}else if(L6H <= V6H.pfClose - p6H){w6H=V6H.pfClose - Y6H;J6H=Number((Math.ceil(L6H / Y6H - I6H) * Y6H).toFixed(f6H));i6H=M1M(B6H,S6H,a6H,L6H,h6H,e6H,V6H.pfClose,w6H,J6H);if(w6H == J6H){i6H.pfStepBack="O";}if(V6H.pfStepBack == ((2917,7620) <= 1407?5414 > (+"6211",8550)?(2.41e+3,0xe86):6858 >= 821.96?("e",0x12db):266.06:"X") || V6H.pfStepBack == (886.52 != 9330?"-":2498 < 1035?("j",!1):0xa52)){V6H.pfOpen=w6H;V6H.pfClose=J6H;V6H.pfTrend=974.1 < (6930,170.89)?8.35e+2:316.96 == 979.86?(!{},0x1061):444 != 911.02?"O":9.98e+3;j1M(V6H,a6H,L6H,h6H,e6H);if(w6H != J6H && V6H.pfStepBack == (9874 >= 2395?"-":(! ![],! !1))){V6H.pfStepBack=null;}}else {i6H=R1M(B6H,i6H);i6H.pfTrend=(+"791.94",577.18) <= (789.45,5083)?"O":(267.18,+"1924") < (73.12,3899)?!{}:(!{},3.78e+3);n6H.push(i6H);}}else {j1M(V6H,a6H,L6H,h6H,e6H);}e6H=+"0";}}return n6H;};};c9H=v1M=>{var n4S=O7dd;var Q7P,A1M,Q1M,x5P,z5P,e5P,P5P,g5P,J5P,S0P,s0P,y0P,V0P,d0P,f0P,r0P,x0P,W1P,N1P,c1P,k1P,T1P,M1P,J1P,U7P,p7P,s7P,y7P,V7P;Q7P="undefi";n4S.i9S();Q7P+="n";Q7P+="ed";A1M=typeof _CIQ !== Q7P?_CIQ:v1M.CIQ;Q1M=typeof _timezoneJS !== "undefined"?_timezoneJS:v1M.timezoneJS;if(!A1M.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {x5P="cq-";x5P+="wav";x5P+="e-para";x5P+="meters";z5P="wa";z5P+="veParame";z5P+="ters";e5P="f";e5P+="ont";P5P="c";P5P+="olor";g5P="I";g5P+="I";g5P+="I";J5P="lineW";J5P+="idth";S0P="cq-cvp";S0P+="-controller[";S0P+="cq-cvp-header=\"3\"]";s0P="l";s0P+="in";s0P+="eWidth2";y0P="patte";y0P+="rn1";V0P="lineWi";V0P+="dth1";d0P="a";d0P+="cti";d0P+="ve1";f0P="p";f0P+="att";f0P+="er";f0P+="n";r0P="co";r0P+="lor";x0P="c";x0P+="o";x0P+="lo";x0P+="r";W1P="fillC";W1P+="o";W1P+="lor";N1P="t";N1P+="z";c1P="p";c1P+="l";k1P="fil";k1P+="lColo";k1P+="r";T1P="col";T1P+="or";M1P="pa";M1P+="ttern";J1P="fillColo";J1P+="r";U7P="pa";U7P+="ttern";p7P="lin";p7P+="eWidth";s7P="co";s7P+="lor";y7P="pa";y7P+="tter";y7P+="n";V7P="f";V7P+="illColor";A1M.Drawing.ray=function(){var K7P;K7P="r";K7P+="a";K7P+="y";this.name=K7P;};A1M.inheritsFrom(A1M.Drawing.ray,A1M.Drawing.line);A1M.Drawing.ray.prototype.calculateOuterSet=function(z1M){var E1M,D1M;if(this.p0[0] == this.p1["0" ^ 0] || this.p0[1] == this.p1[1] || A1M.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}E1M={x0:this.p0[0],y0:this.p0["1" * 1],x1:this.p1[0],y1:this.p1[1]};n4S.c3m(26);var x9o=n4S.F3m(53,311,13);D1M=E1M.x1 + x9o;if(E1M.x0 > E1M.x1){n4S.O3m(4);var G9o=n4S.F3m(14000,13000);D1M=E1M.x1 - G9o;}this.v0B=this.v0;n4S.J9S();this.v1B=A1M.yIntersection(E1M,D1M);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(D1M,z1M.chart);};A1M.Drawing.ray.prototype.adjust=function(){n4S.J9S();var l1M;l1M=this.stx.panels[this.panelName];if(!l1M){return;}this.setPoint(0,this.d0,this.v0,l1M.chart);this.setPoint(1,this.d1,this.v1,l1M.chart);if(A1M.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,l1M.chart);}};A1M.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=! !0;this.maxSegments=null;};A1M.inheritsFrom(A1M.Drawing.continuous,A1M.Drawing.segment);A1M.Drawing.continuous.prototype.click=function(u1M,Y1M,V1M){var H1M,L1M,a1M,i1M;H1M=this.stx.panels[this.panelName];if(!H1M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Y1M,V1M,H1M.chart);this.penDown=!"";return ![];}if(this.accidentalClick(Y1M,V1M)){this.stx.undo();return ! !1;}this.setPoint(1,Y1M,V1M,H1M.chart);L1M=A1M.Drawing.segment;a1M=new L1M();i1M=this.serialize(this.stx);a1M.reconstruct(this.stx,i1M);this.stx.addDrawing(a1M);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(+"0",Y1M,V1M,H1M.chart);n4S.J9S();return ![];};A1M.Drawing.ellipse=function(){n4S.i9S();this.name="ellipse";};A1M.inheritsFrom(A1M.Drawing.ellipse,A1M.Drawing.BaseTwoPoint);A1M.Drawing.ellipse.prototype.render=function(e1M){var r7P,h1M,j3M,J1M,n1M,S1M,X1M,I1M,f1M,K3M,d3M,p1M,P1M,B1M,h7P,w1M,b3M;r7P="n";r7P+="o";r7P+="n";r7P+="e";h1M=this.stx.panels[this.panelName];if(!h1M){return;}j3M=this.stx.pixelFromTick(this.p0["0" * 1],h1M.chart);J1M=this.stx.pixelFromTick(this.p1[0],h1M.chart);n1M=this.stx.pixelFromValueAdjusted(h1M,this.p0[0],this.p0[1]);S1M=this.stx.pixelFromValueAdjusted(h1M,this.p1[0],this.p1["1" << 1991604608]);n4S.O3m(27);X1M=n4S.F3m(j3M,J1M,j3M);I1M=J1M;f1M=n1M;K3M=S1M;n4S.c3m(27);d3M=n4S.F3m(n1M,S1M,n1M);n4S.O3m(28);p1M=n4S.F3m(6,K3M,d3M);P1M=this.lineWidth;if(!P1M){n4S.c3m(6);P1M=n4S.i3m("1.1",1);}B1M=this.color;if(B1M == "auto" || A1M.isTransparent(B1M)){B1M=this.stx.defaultColor;}if(this.highlighted){h7P="stx_highlight_vec";h7P+="tor";B1M=this.stx.getCanvasColor(h7P);if(P1M == "0.1" - 0){n4S.c3m(6);P1M=n4S.F3m("1.1",1);}}w1M=this.fillColor;e1M.beginPath();e1M.moveTo(X1M,f1M);n4S.O3m(2);e1M.bezierCurveTo(X1M,n4S.F3m(K3M,p1M),I1M,n4S.F3m(K3M,p1M),I1M,f1M);n4S.c3m(4);e1M.bezierCurveTo(I1M,n4S.F3m(d3M,p1M),X1M,n4S.i3m(d3M,p1M),X1M,f1M);if(w1M && !A1M.isTransparent(w1M) && w1M != "auto"){e1M.fillStyle=w1M;e1M.globalAlpha=0.2;e1M.fill();e1M.globalAlpha=1;}if(B1M && this.pattern != r7P){e1M.strokeStyle=B1M;e1M.lineWidth=P1M;if(e1M.setLineDash){e1M.setLineDash(A1M.borderPatternToArray(P1M,this.pattern));e1M.lineDashOffset=+"0";;}e1M.stroke();}e1M.closePath();if(this.highlighted){b3M=this.highlighted == "p1"?! !"1":![];this.littleCircle(e1M,J1M,S1M,b3M);}};A1M.Drawing.ellipse.prototype.intersected=function(c3M,s3M,O3M){var d7P,f7P,Z3M,t3M,R3M,M3M;d7P="m";d7P+="o";d7P+="v";d7P+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[+"0"],this.p1[1],O3M)){f7P="d";f7P+="r";f7P+="a";f7P+="g";this.highlighted="p1";return {action:f7P,point:"p1"};}Z3M=this.p0[+"0"] - (this.p1[0] - this.p0[+"0"]);t3M=this.p1[0];R3M=this.p1[1];n4S.J9S();n4S.O3m(8);var c9o=n4S.i3m(8,24,17);n4S.O3m(13);var N9o=n4S.F3m(3,2);n4S.c3m(2);var W9o=n4S.F3m(0,1);M3M=this.p0[c9o] - (this.p1[N9o] - this.p0[W9o]);if(O3M.x0 > Math.max(Z3M,t3M) || O3M.x1 < Math.min(Z3M,t3M)){return ! !"";}if(O3M.y1 > Math.max(M3M,R3M) || O3M.y0 < Math.min(M3M,R3M)){return !{};}this.highlighted=!"";return {action:d7P,p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:c3M,value:s3M};};A1M.Drawing.ellipse.prototype.configs=["color",V7P,"lineWidth",y7P];A1M.Drawing.ellipse.prototype.reconstruct=function(q3M,G3M){this.stx=q3M;this.color=G3M.col;this.fillColor=G3M.fc;this.panelName=G3M.pnl;this.pattern=G3M.ptrn;this.lineWidth=G3M.lw;this.d0=G3M.d0;this.d1=G3M.d1;this.tzo0=G3M.tzo0;this.tzo1=G3M.tzo1;this.v0=G3M.v0;this.v1=G3M.v1;this.adjust();};A1M.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};A1M.Drawing.channel=function(){this.name="channel";this.dragToDraw=![];this.p2=null;};A1M.inheritsFrom(A1M.Drawing.channel,A1M.Drawing.segment);A1M.Drawing.channel.prototype.configs=[s7P,"fillColor","lineWidth","pattern"];A1M.Drawing.channel.prototype.move=function(m3M,W3M,o3M){var T3M;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[W3M,o3M];}else {n4S.O3m(23);var Y9o=n4S.i3m(18,6,109,0);T3M=o3M - (this.p1[1] - this.p0[Y9o]) / (this.p1[0] - this.p0[0]) * (W3M - this.p1[0]);this.p2=[this.p1[0],T3M];}this.render(m3M);};A1M.Drawing.channel.prototype.click=function(N3M,k3M,g3M){var r3M,e8y,z8y,x8y;r3M=this.stx.panels[this.panelName];if(!r3M){return;}this.copyConfig();if(!this.penDown){n4S.O3m(6);this.setPoint(n4S.i3m("0",1),k3M,g3M,r3M.chart);this.penDown=! !1;return ![];}if(this.accidentalClick(k3M,g3M)){n4S.O3m(29);e8y=n4S.F3m(1389019392,"314447915");z8y=-623726715;x8y=2;for(var c8y=1;n4S.P6y(c8y.toString(),c8y.toString().length,11786) !== e8y;c8y++){this.stx.undo();x8y+=2;}if(n4S.F6y(x8y.toString(),x8y.toString().length,43361) !== z8y){this.stx.undo();}this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2[1],r3M.chart);this.penDown=!"1";return ! ![];}this.setPoint(1,k3M,g3M,r3M.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !{};}this.p2=[this.p1[0],this.p1[1]];n4S.i9S();return !{};};A1M.Drawing.channel.prototype.boxIntersection=function(F3M,v3M,x3M){var C3M,U3M,y3M,A3M,Q3M;C3M=this.p0;U3M=this.p1;y3M=this.p2;if(!C3M || !U3M || !y3M){return !{};}if(x3M.x0 > Math.max(C3M["0" ^ 0],U3M[0]) || x3M.x1 < Math.min(C3M[+"0"],U3M[0])){return !{};}n4S.c3m(30);var o9o=n4S.F3m(10,13,15,2,25);n4S.O3m(4);var H9o=n4S.F3m(14,13);n4S.c3m(31);var a9o=n4S.F3m(3,16,14,41,7);A3M=(U3M[0] - C3M[0]) * ((y3M[o9o] < C3M[H9o]?x3M.y1:x3M.y0) - C3M[a9o]) - (U3M[+"1"] - C3M[+"1"]) * (F3M - C3M[0]);n4S.c3m(32);var A9o=n4S.i3m(6,1,7);n4S.c3m(4);var C9o=n4S.i3m(2,1);n4S.c3m(33);var n9o=n4S.F3m(20,3,4,22);n4S.c3m(34);var B9o=n4S.i3m(2,2,9,143,16);n4S.O3m(35);var Q9o=n4S.F3m(11,2,5,19,13);n4S.O3m(4);var K9o=n4S.i3m(13,12);Q3M=(y3M[0] - C3M[0]) * ((y3M[A9o] > C3M[C9o]?x3M.y1:x3M.y0) - (C3M[+"1"] + y3M[n9o] - U3M[B9o])) - (U3M[Q9o] - C3M[K9o]) * (F3M - C3M["0" | 0]);n4S.O3m(36);return n4S.i3m(Q3M,"0",A3M);};A1M.Drawing.channel.prototype.intersected=function(z3M,l3M,H3M){var D3M;if(!this.p0 || !this.p1 || !this.p2){return null;}D3M={0:this.p0,1:this.p1,2:this.p2};for(var E3M in D3M){if(this.pointIntersection(D3M[E3M][0],D3M[E3M][1],H3M)){n4S.c3m(2);this.highlighted=n4S.F3m("p",E3M);return {action:"drag",point:((843.86,3204) !== (4721,3780)?"p":+"8850" !== (641.77,299.8)?2.93e+3:("0x654" * 1,225.84)) + E3M};}}if(this.boxIntersection(z3M,l3M,H3M)){this.highlighted=! !"1";return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),p2:A1M.clone(this.p2),tick:z3M,value:l3M};}n4S.J9S();return null;};A1M.Drawing.channel.prototype.render=function(Y3M){var u7P,V3M,i3M,a3M,u3M,e3M,L3M,X3M,h3M,P3M,B3M,S7P,p3M,w3M,J3M;u7P="s";u7P+="egm";u7P+="en";u7P+="t";V3M=this.stx.panels[this.panelName];if(!V3M){return;}i3M=this.stx.pixelFromTick(this.p0[0],V3M.chart);a3M=this.stx.pixelFromTick(this.p1[0],V3M.chart);u3M=this.stx.pixelFromValueAdjusted(V3M,this.p0[0],this.p0[1]);e3M=this.stx.pixelFromValueAdjusted(V3M,this.p1[0],this.p1[1]);L3M=null;if(this.p2){L3M=this.stx.pixelFromValueAdjusted(V3M,this.p2[0],this.p2[1]);}X3M=this.lineWidth;h3M=this.getLineColor();P3M=this.fillColor;if(this.p2 && P3M && !A1M.isTransparent(P3M) && P3M != "auto"){Y3M.beginPath();Y3M.moveTo(i3M,u3M);Y3M.lineTo(a3M,e3M);Y3M.lineTo(a3M,L3M);n4S.c3m(37);Y3M.lineTo(i3M,n4S.F3m(L3M,u3M,e3M));Y3M.closePath();Y3M.globalAlpha=0.2;Y3M.fillStyle=P3M;Y3M.fill();Y3M.globalAlpha=+"1";}B3M={pattern:this.pattern,lineWidth:X3M};if((this.penDown || this.highlighted) && this.pattern == "none"){B3M.pattern="dotted";}this.stx.plotLine(i3M,a3M,u3M,e3M,h3M,"segment",Y3M,V3M,B3M);if(this.p2){n4S.O3m(37);this.stx.plotLine(i3M,a3M,n4S.i3m(L3M,u3M,e3M),L3M,h3M,u7P,Y3M,V3M,B3M);}if(this.highlighted){S7P="p";S7P+="1";p3M=this.highlighted == "p0"?! !"1":! !0;w3M=this.highlighted == S7P?! !{}:! !"";J3M=this.highlighted == "p2"?!"":!"1";this.littleCircle(Y3M,i3M,u3M,p3M);this.littleCircle(Y3M,a3M,e3M,w3M);this.littleCircle(Y3M,a3M,L3M,J3M);}};A1M.Drawing.channel.prototype.reposition=function(K7M,n3M,d7M,j7M){var v7P,L7P,S3M,I3M,f3M;v7P="dra";v7P+="g";L7P="m";L7P+="o";L7P+="ve";if(!n3M){return;}S3M=this.stx.panels[this.panelName];I3M=n3M.tick - d7M;f3M=n3M.value - j7M;if(n3M.action == L7P){this.setPoint(0,n3M.p0[0] - I3M,n3M.p0[1] - f3M,S3M.chart);this.setPoint(1,n3M.p1[0] - I3M,n3M.p1[1] - f3M,S3M.chart);this.setPoint(2,n3M.p2["0" ^ 0] - I3M,n3M.p2[1] - f3M,S3M.chart);this.render(K7M);}else if(n3M.action == v7P){this[n3M.point]=[d7M,j7M];this.setPoint(0,this.p0[0],this.p0[1],S3M.chart);this.setPoint(1,this.p1[0],this.p1[1],S3M.chart);this.setPoint(2,this.p2[0],this.p2[1],S3M.chart);this.render(K7M);}};A1M.Drawing.channel.prototype.adjust=function(){n4S.i9S();var b7M;b7M=this.stx.panels[this.panelName];if(!b7M){return;}this.setPoint(0,this.d0,this.v0,b7M.chart);this.setPoint(1,this.d1,this.v1,b7M.chart);this.setPoint(2,this.d1,this.v2,b7M.chart);;};A1M.Drawing.channel.prototype.reconstruct=function(Z7M,O7M){this.stx=Z7M;this.color=O7M.col;this.fillColor=O7M.fc;n4S.i9S();this.panelName=O7M.pnl;this.pattern=O7M.ptrn;this.lineWidth=O7M.lw;this.d0=O7M.d0;this.d1=O7M.d1;this.tzo0=O7M.tzo0;this.tzo1=O7M.tzo1;this.v0=O7M.v0;this.v1=O7M.v1;this.v2=O7M.v2;this.adjust();};A1M.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};A1M.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=![];this.p2=null;};A1M.inheritsFrom(A1M.Drawing.pitchfork,A1M.Drawing.channel);A1M.Drawing.pitchfork.prototype.configs=["color",p7P,U7P];A1M.Drawing.pitchfork.prototype.move=function(M7M,t7M,R7M){n4S.J9S();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[t7M,R7M];}else {this.p2=[t7M,R7M];}this.render(M7M);};A1M.Drawing.pitchfork.prototype.intersected=function(W7M,o7M,T7M){var G7M,q7M;if(!this.p0 || !this.p1 || !this.p2){return null;}G7M={0:this.p0,1:this.p1,2:this.p2};n4S.J9S();for(var s7M in G7M){if(this.pointIntersection(G7M[s7M][0],G7M[s7M][1],T7M)){n4S.c3m(2);this.highlighted=n4S.i3m(9010 != (206.75,"3350" | 3076)?"p":0x21f2,s7M);return {action:"drag",point:(741.48 !== 288.9?(6070,1152) >= 80.26?"p":("0x9ed" | 2312,0x15bc):"R") + s7M};}}q7M=this.rays;for(var c7M=0;c7M < q7M.length;c7M++){if(this.lineIntersection(W7M,o7M,T7M,c7M?"ray":"segment",q7M[c7M][+"0"],q7M[c7M][1],! !1)){this.highlighted=! !{};return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),p2:A1M.clone(this.p2),tick:W7M,value:o7M};}}return null;};A1M.Drawing.pitchfork.prototype.render=function(A7M){var m7M,r7M,U7M,Q7M,k7M,g7M,v7M,N7M,C7M,z7M,l7M,H7M,x7M,E7M,D7M,O7P,F7M,Y7M,b7P,I7P,V7M,a7M,L7M;m7M=this.stx.panels[this.panelName];if(!m7M){return;}r7M=this.stx;U7M=this.p2;if(!U7M){U7M=this.p1;}Q7M=r7M.pixelFromTick(this.p0[+"0"],m7M.chart);k7M=r7M.pixelFromTick(this.p1[0],m7M.chart);g7M=r7M.pixelFromTick(U7M[0],m7M.chart);v7M=r7M.pixelFromValueAdjusted(m7M,this.p0[0],this.p0[1]);N7M=r7M.pixelFromValueAdjusted(m7M,this.p1[0],this.p1[1]);C7M=r7M.pixelFromValueAdjusted(m7M,U7M[0],U7M[1]);z7M=this.lineWidth;l7M=this.getLineColor();H7M={pattern:this.pattern,lineWidth:z7M};x7M=50;n4S.c3m(38);E7M=n4S.F3m(v7M,C7M,N7M,2);n4S.i9S();n4S.O3m(38);D7M=n4S.F3m(Q7M,g7M,k7M,2);if(D7M < +"0"){x7M*=-1;}n4S.O3m(10);E7M*=n4S.i3m(x7M,D7M);n4S.O3m(7);this.rays=[[[k7M,N7M],[g7M,C7M]],[[Q7M,v7M],[n4S.F3m(2,g7M,k7M),n4S.F3m(2,C7M,N7M)]]];if(!(k7M == g7M && N7M == C7M)){n4S.c3m(4);this.rays.push([[k7M,N7M],[n4S.F3m(k7M,x7M),n4S.F3m(N7M,E7M)]],[[g7M,C7M],[n4S.i3m(g7M,x7M),n4S.F3m(C7M,E7M)]]);}for(var y7M=+"0";y7M < this.rays.length;y7M++){O7P="r";O7P+="a";O7P+="y";F7M=this.rays[y7M];Y7M=y7M?O7P:"segment";r7M.plotLine(F7M[0][0],F7M[1][0],F7M[0][1],F7M[1][1],l7M,Y7M,A7M,m7M,H7M);}if(this.highlighted){b7P="p";b7P+="2";I7P="p";I7P+="0";V7M=this.highlighted == I7P?! !{}:![];a7M=this.highlighted == "p1"?! !"1":!{};L7M=this.highlighted == b7P?! !{}:! !"";this.littleCircle(A7M,Q7M,v7M,V7M);this.littleCircle(A7M,k7M,N7M,a7M);this.littleCircle(A7M,g7M,C7M,L7M);}};A1M.Drawing.pitchfork.prototype.adjust=function(){var i7M;i7M=this.stx.panels[this.panelName];if(!i7M){return;}this.setPoint(0,this.d0,this.v0,i7M.chart);this.setPoint(1,this.d1,this.v1,i7M.chart);n4S.O3m(39);this.setPoint(n4S.F3m(0,"2"),this.d2,this.v2,i7M.chart);};A1M.Drawing.pitchfork.prototype.reconstruct=function(e7M,u7M){this.stx=e7M;this.color=u7M.col;this.panelName=u7M.pnl;this.pattern=u7M.ptrn;this.lineWidth=u7M.lw;this.d0=u7M.d0;this.d1=u7M.d1;this.d2=u7M.d2;this.tzo0=u7M.tzo0;this.tzo1=u7M.tzo1;this.tzo2=u7M.tzo2;this.v0=u7M.v0;this.v1=u7M.v1;this.v2=u7M.v2;this.adjust();};A1M.Drawing.pitchfork.prototype.serialize=function(){n4S.J9S();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};A1M.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!"1";this.maxSegments=4;this.shape=null;n4S.i9S();this.points=[];};A1M.inheritsFrom(A1M.Drawing.gartley,A1M.Drawing.continuous);A1M.Drawing.gartley.prototype.check=function(B7M,P7M){if(!P7M){return ! !"1";}if(B7M[0] >= P7M[0] || B7M[1] == P7M[1]){return ! !0;}if(this.segment == 1){if(B7M[1] < P7M[1]){this.shape="M";}else {this.shape=463.73 === 1655?(0x252d,+"7.02e+3"):(+"383.48",+"6988") === 9288?"137.34" * 1 != 2907?(807.16,0x1e69):!0:"W";}}else if(this.segment == 2){if(this.shape == (6395 === 5191?4300 !== (667.49,205.63)?3044 != (+"9129",5365)?(5.21e+3,"134.59" - 0):("0x1333" & 2147483647,"972" >> 272902144):! !1:"M") && B7M[1] < P7M[+"1"]){return ![];}else if(this.shape == ((7233,730) >= 756.56?821.33 != (2484,941.72)?(0x1981,"A"):![]:"W") && B7M[+"1"] > P7M[1]){return ! !0;}else if((P7M[1] - B7M[1]) / (this.points[0][1] - B7M[1]) < 0.618){return !{};}else if((P7M[1] - B7M[1]) / (this.points[0][1] - B7M[1]) >= 0.786){return ! !0;}}else if(this.segment == 3){if(this.shape == (+"1860" === (+"530",+"9820")?3199 == 7767?4.54e+2:("7.86e+3" & 2147483647,"x"):"M") && B7M[1] > P7M[1]){return !"1";}else if(this.shape == "W" && B7M[1] < P7M[1]){return ! !0;}else if((P7M[1] - B7M[+"1"]) / (this.points[1][1] - B7M[1]) < 0.618){return ![];}else if((P7M[1] - B7M[1]) / (this.points[1][1] - B7M[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == "M" && (B7M[1] < P7M[1] || P7M[1] < this.points[0][1])){return !{};}else if(this.shape == (57.99 >= 9900?(+"5.31e+3","l"):"W") && (B7M[1] > P7M[1] || P7M[1] > this.points[0][1])){return ![];}else if((this.points[1][1] - P7M[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return ! !"";}else if((this.points[+"1"][1] - P7M[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return ![];}}return ! !1;};A1M.Drawing.gartley.prototype.click=function(w7M,X7M,p7M){var h7M;h7M=this.stx.panels[this.panelName];if(!h7M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,X7M,p7M,h7M.chart);this.pts=[];this.penDown=!"";this.segment=1;return !{};}if(this.accidentalClick(X7M,p7M)){this.penDown=! ![];return !"1";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,X7M,p7M,h7M.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],h7M.chart);this.penDown=!"1";return ! ![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,X7M,p7M,h7M.chart);;}return !1;};A1M.Drawing.gartley.prototype.render=function(n7M){var w7P,t7P,J7M,s2M,b2M,G2M,O2M,f7M,q2M,Z2M,j2M,d2M,I7M,Z7P,t2M,R2M,M2M,c2M;w7P="dotte";w7P+="d";t7P="n";t7P+="o";t7P+="n";t7P+="e";J7M=this.stx.panels[this.panelName];if(!J7M){return;}s2M=this.stx.pixelFromTick(this.p0["0" ^ 0],J7M.chart);b2M=this.stx.pixelFromTick(this.p1["0" & 2147483647],J7M.chart);G2M=this.stx.pixelFromValueAdjusted(J7M,this.p0[0],this.p0[1]);O2M=this.stx.pixelFromValueAdjusted(J7M,this.p1[0],this.p1[1]);if(this.segment == +"2"){this.drawDropZone(n7M,0.618 * this.points[0][1] + +"0.382" * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(n7M,0.618 * this.points[1][1] + 0.382 * this.p0[+"1"],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0["0" & 2147483647]);}else if(this.segment == 4){n4S.c3m(4);var h9o=n4S.F3m(18,16);n4S.c3m(40);var r9o=n4S.i3m(2,13,16);n4S.c3m(13);var f9o=n4S.F3m(20,19);f7M=1.618 * this.points[h9o][r9o] - +"0.618" * this.points[f9o]["1" - 0];if(this.shape == "M"){f7M=Math.max(f7M,this.points["0" >> 995342784][1]);}else {f7M=Math.min(f7M,this.points[0][1]);}this.drawDropZone(n7M,f7M,1.27 * this.points[+"2"][1] - 0.27 * this.points[1][+"1"],this.p0[0]);}q2M=this.lineWidth;Z2M=this.getLineColor();j2M={pattern:this.pattern,lineWidth:q2M};n4S.i9S();if((this.penDown || this.highlighted) && this.pattern == t7P){j2M.pattern=w7P;}if(this.segment <= this.maxSegments){this.stx.plotLine(s2M,b2M,G2M,O2M,Z2M,this.name,n7M,J7M,j2M);}d2M=this.fillColor;I7M=[];if(this.points.length){Z7P="a";Z7P+="uto";n7M.beginPath();for(var S7M=1;S7M < this.points.length && S7M <= 4;S7M++){t2M=this.stx.pixelFromTick(this.points[S7M - 1][0],J7M.chart);R2M=this.stx.pixelFromTick(this.points[S7M][0],J7M.chart);M2M=this.stx.pixelFromValueAdjusted(J7M,this.points[S7M - +"1"][0],this.points[S7M - 1][1]);c2M=this.stx.pixelFromValueAdjusted(J7M,this.points[S7M]["0" | 0],this.points[S7M][1]);if(S7M == 1){I7M.push(t2M,M2M);}I7M.push(R2M,c2M);this.stx.plotLine(t2M,R2M,M2M,c2M,Z2M,this.name,n7M,J7M,j2M);}if(this.points.length == 2 || this.points.length == 4){I7M.push(b2M,O2M);}if(this.points[2]){I7M.push(this.stx.pixelFromTick(this.points[2][0],J7M.chart),this.stx.pixelFromValueAdjusted(J7M,this.points[2][0],this.points[2][1]));}if(d2M && d2M != Z7P && !A1M.isTransparent(d2M)){for(var K2M=0;K2M < I7M.length;K2M+=2){if(K2M === 0){n7M.moveTo(I7M[0],I7M[1]);}n7M.lineTo(I7M[K2M],I7M[K2M + +"1"]);}n7M.fillStyle=d2M;n7M.globalAlpha=0.2;n7M.closePath();n7M.fill();n4S.c3m(41);n7M.globalAlpha=n4S.i3m(0,"1");}};};A1M.Drawing.gartley.prototype.lineIntersection=function(m2M,r2M,k2M,g2M){var W2M,T2M,D7P;W2M=this.points;T2M=this.stx.panels[this.panelName];n4S.J9S();if(W2M.length != this.maxSegments + 1 || !T2M){return ![];}for(var o2M=+"0";o2M < W2M.length - 1;o2M++){D7P="s";D7P+="e";D7P+="gme";D7P+="nt";if(A1M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,m2M,r2M,k2M,D7P,W2M[o2M],W2M[o2M + 1])){return ! ![];}}return !1;};A1M.Drawing.gartley.prototype.boxIntersection=function(y2M,F2M,C2M){var U2M,x2M;if(!this.p0 || !this.p1){return !{};}if(C2M.x0 > Math.max(this.p0[0],this.p1[0]) || C2M.x1 < Math.min(this.p0[0],this.p1[+"0"])){return !{};}U2M=Math.min(this.p0[1],this.p1["1" >> 1893536160]);x2M=Math.max(this.p0[1],this.p1[1]);for(var N2M=0;N2M < this.points.length;N2M++){U2M=Math.min(U2M,this.points[N2M][1]);x2M=Math.max(x2M,this.points[N2M][+"1"]);}if(C2M.y1 > x2M || C2M.y0 < U2M){return !1;}n4S.J9S();return ! ![];};A1M.Drawing.gartley.prototype.reposition=function(H2M,Q2M,E2M,D2M){n4S.J9S();var v2M,z2M,l2M;if(!Q2M){return;}v2M=this.stx.panels[this.panelName];z2M=Q2M.tick - E2M;Q2M.tick=E2M;l2M=Q2M.value - D2M;Q2M.value=D2M;if(Q2M.action == "move"){this.pts=[];for(var A2M=0;A2M < this.points.length;A2M++){this.points[A2M][0]-=z2M;this.points[A2M][1]-=l2M;this.setPoint(1,this.points[A2M][+"0"],this.points[A2M][1],v2M.chart);if(A2M && A2M < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[A2M]=this.p1;}this.setPoint(0,this.points[0][+"0"],this.points[0][1],v2M.chart);this.render(H2M);;}};A1M.Drawing.gartley.prototype.configs=["color",J1P,"lineWidth",M1P];A1M.Drawing.gartley.prototype.adjust=function(){var Y2M;Y2M=this.stx.panels[this.panelName];if(!Y2M){return;}this.reconstructPoints();n4S.c3m(39);this.setPoint(n4S.F3m(0,"0"),this.d0,this.v0,Y2M.chart);this.points.unshift(this.p0);n4S.i9S();this.setPoint(1,this.d1,this.v1,Y2M.chart);this.points.push(this.p1);};A1M.Drawing.gartley.prototype.reconstructPoints=function(){var L2M,a2M;L2M=this.stx.panels[this.panelName];if(!L2M){return;}this.points=[];for(var V2M=0;V2M < this.pts.length;V2M+=3){a2M=A1M.strToDateTime(this.pts[V2M]);a2M.setMinutes(a2M.getMinutes() + Number(this.pts[V2M + 1]) - a2M.getTimezoneOffset());this.points.push([this.stx.tickFromDate(A1M.yyyymmddhhmmssmmm(a2M),L2M.chart),this.pts[V2M + 2]]);}};A1M.Drawing.gartley.prototype.reconstruct=function(u2M,i2M){this.stx=u2M;this.color=i2M.col;n4S.J9S();this.fillColor=i2M.fc;this.panelName=i2M.pnl;this.pattern=i2M.ptrn;this.lineWidth=i2M.lw;this.d0=i2M.d0;this.d1=i2M.d1;this.tzo0=i2M.tzo0;this.tzo1=i2M.tzo1;this.v0=i2M.v0;this.v1=i2M.v1;this.pts=i2M.pts.split(4913 >= (603,2080)?",":("F","F"));this.adjust();};A1M.Drawing.gartley.prototype.serialize=function(){n4S.i9S();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};A1M.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! ![];};A1M.inheritsFrom(A1M.Drawing.freeform,A1M.Drawing.segment);A1M.Drawing.freeform.prototype.measure=function(){};A1M.Drawing.freeform.prototype.intersected=function(P2M,B2M,e2M){var q1P;q1P="m";q1P+="o";q1P+="ve";if(e2M.x0 > this.hiX || e2M.x1 < this.lowX){return null;}if(e2M.y1 > this.hiY || e2M.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:q1P,p0:A1M.clone(this.p0),tick:P2M,value:B2M};};A1M.Drawing.freeform.prototype.reposition=function(J2M,h2M,n2M,S2M){var X2M,p2M,w2M,T9y,k9y,m9y;if(!h2M){return;}X2M=this.stx.panels[this.panelName];p2M=h2M.tick - n2M;w2M=h2M.value - S2M;n4S.J9S();if(h2M.action == "move"){T9y=-921369480;k9y=2041422626;m9y=2;for(var R9y=1;n4S.F6y(R9y.toString(),R9y.toString().length,31347) !== T9y;R9y++){this.setPoint(+"1",h2M.p0[4] % p2M,h2M.p0[4] * w2M,X2M.chart);this.adjust();this.render(J2M);m9y+=2;}if(n4S.P6y(m9y.toString(),m9y.toString().length,35166) !== k9y){this.setPoint(0,h2M.p0[0] - p2M,h2M.p0[1] - w2M,X2M.chart);this.adjust();this.render(J2M);}}};A1M.Drawing.freeform.prototype.click=function(j9M,f2M,d9M){var i1P,I2M,K9M;i1P="au";i1P+="to";I2M=this.stx.panels[this.panelName];if(!I2M){return;}if(this.penDown === !"1"){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(f2M,I2M.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(I2M,f2M,d9M)));K9M=this.stx.dateFromTick(f2M,I2M.chart,! ![]);this.d0=A1M.yyyymmddhhmmssmmm(K9M);this.tzo0=K9M.getTimezoneOffset();this.v0=d9M;this.p0=[A1M.ChartEngine.crosshairX - this.startX,A1M.ChartEngine.crosshairY - this.startY];n4S.O3m(41);this.nodes=[this.p0[+"0"],this.p0[n4S.i3m(0,"1")]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=I2M.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;n4S.c3m(6);this.splineTension=-n4S.i3m("1",1);document.body.style.cursor="pointer";this.penDown=! ![];return ! !"";}this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor=i1P;return ! !{};};A1M.Drawing.freeform.prototype.move=function(Z9M,t9M,R9M){var b9M,O9M;if(!this.penDown){return;}b9M=this.stx.panels[this.panelName];O9M=this.stx.dateFromTick(t9M,b9M.chart,! !"1");this.d1=A1M.yyyymmddhhmmssmmm(O9M);this.tzo1=O9M.getTimezoneOffset();this.v1=R9M;this.p1=[A1M.ChartEngine.crosshairX - this.startX,b9M.yAxis.flipped?this.startY - A1M.ChartEngine.crosshairY:A1M.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - ("2" & 2147483647)][0] && this.p1["0" >> 876965376] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" | 2)][1] && this.p1[+"1"] == this.pNodes[this.pNodes.length - ("1" ^ 0)]["1" & 2147483647]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(Z9M);return !{};};A1M.Drawing.freeform.prototype.intervalRatio=function(q9M,M9M,r9M,k9M,s9M,G9M){var c9M,X1P,E1P;n4S.c3m(41);c9M=n4S.i3m(0,"0");function m9M(g9M,N9M){n4S.i9S();return 5;}if(q9M == M9M){c9M=1;}else if(!isNaN(q9M) && !isNaN(M9M)){n4S.O3m(10);c9M=n4S.F3m(q9M,M9M);}else if(isNaN(q9M)){if(q9M == "month"){if(M9M == "week"){c9M=m9M(s9M,G9M);}else if(M9M == "day"){c9M=T9M(s9M,G9M);}else if(!isNaN(M9M)){c9M=T9M(s9M,G9M) * W9M(s9M,G9M) / M9M;}}else if(q9M == "week"){X1P="d";X1P+="a";X1P+="y";if(M9M == "month"){n4S.O3m(42);var d9o=n4S.i3m(3,3,19,19);c9M=d9o / m9M(s9M,G9M);}if(M9M == X1P){c9M=o9M(s9M,G9M);}else if(!isNaN(M9M)){c9M=o9M(s9M,G9M) * W9M(s9M,G9M) / M9M;}}else if(q9M == "day"){if(M9M == "week"){n4S.c3m(43);var V9o=n4S.i3m(156,13,9,16);c9M=V9o / o9M(s9M,G9M);}else if(M9M == "month"){n4S.O3m(44);var y9o=n4S.i3m(6,3,7,12);c9M="1" * y9o / T9M(s9M,G9M);}else if(!isNaN(M9M)){c9M=W9M(s9M,G9M) / M9M;}}}else if(!isNaN(q9M)){E1P="d";E1P+="a";E1P+="y";if(M9M == "month"){c9M=q9M / (T9M(s9M,G9M) * W9M(s9M,G9M));}else if(M9M == "week"){c9M=q9M / (o9M(s9M,G9M) * W9M(s9M,G9M));}else if(M9M == E1P){c9M=q9M / W9M(s9M,G9M);}}function o9M(C9M,U9M){n4S.i9S();return 5;}function T9M(x9M,y9M){n4S.i9S();return 30;}function W9M(A9M,F9M){if(A1M.Market.Symbology.isForexSymbol(F9M)){return +"1440";}return 390;}n4S.O3m(10);c9M*=n4S.i3m(r9M,k9M);return c9M;};A1M.Drawing.freeform.prototype.render=function(V9M){var Q9M,z9M,a9M,L9M,i9M,l9M,v9M,u9M,H9M,Y9M,e9M,D9M;Q9M=this.stx.panels[this.panelName];if(!Q9M){return;}z9M=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Q9M.chart.symbol);if(z9M === 0){return;}a9M=this.stx.layout.candleWidth / this.candleWidth;L9M=Q9M.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Q9M.chart);i9M=this.stx.pixelFromTick(this.p0[0],Q9M.chart);l9M=this.stx.pixelFromValueAdjusted(Q9M,this.p0[0],this.p0[1]);v9M=[];u9M=this.lineWidth;H9M=this.getLineColor();Y9M={pattern:this.pattern,lineWidth:u9M};for(var E9M=0;E9M < this.pNodes.length;E9M++){e9M=z9M * a9M * this.pNodes[E9M][0] + i9M;n4S.O3m(32);var s9o=n4S.i3m(0,17,17);D9M=L9M * this.pNodes[E9M][s9o];if(Q9M.yAxis.flipped){n4S.c3m(4);D9M=n4S.i3m(l9M,D9M);}else {D9M+=l9M;}v9M.push(e9M,D9M);}if(!v9M.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(v9M,H9M,this.name,V9M,Q9M,Y9M);}else {this.stx.plotSpline(v9M,this.splineTension,H9M,this.name,V9M,! !1,Y9M);}};A1M.Drawing.freeform.prototype.adjust=function(){var P9M,S9M,B9M,w9M,J9M,X9M,n9M,p9M;P9M=this.stx.panels[this.panelName];if(!P9M){return;}S9M=[this.nodes[0],this.nodes[1]];this.pNodes=[S9M];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var h9M=2;h9M < this.nodes.length;h9M+=2){n4S.O3m(2);B9M=[this.nodes[h9M],this.nodes[n4S.F3m(h9M,1)]];this.pNodes.push(B9M);this.lowX=Math.min(this.lowX,B9M[0]);this.hiX=Math.max(this.hiX,B9M[0]);this.lowY=Math.max(this.lowY,B9M[1]);this.hiY=Math.min(this.hiY,B9M["1" >> 2128687296]);}w9M=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,P9M.chart.symbol);if(w9M === 0){return;}J9M=this.stx.layout.candleWidth / this.candleWidth;X9M=P9M.yAxis.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,P9M.chart);n9M=this.stx.pixelFromTick(this.p0[0],P9M.chart);p9M=this.stx.pixelFromValueAdjusted(P9M,this.p0[0],this.p0[+"1"]);this.lowX=this.stx.tickFromPixel(Math.floor(w9M * J9M * this.lowX) + n9M,P9M.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(w9M * J9M * this.hiX) + n9M,P9M.chart);if(P9M.yAxis.flipped){this.lowY=this.stx.valueFromPixel(p9M - Math.floor(X9M * this.lowY),P9M);this.hiY=this.stx.valueFromPixel(p9M - Math.ceil(X9M * this.hiY),P9M);}else {this.lowY=this.stx.valueFromPixel(Math.floor(X9M * this.lowY) + p9M,P9M);this.hiY=this.stx.valueFromPixel(Math.ceil(X9M * this.hiY) + p9M,P9M);}};A1M.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed("4" - 0)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};A1M.Drawing.freeform.prototype.reconstruct=function(f9M,I9M){this.stx=f9M;this.color=I9M.col;this.panelName=I9M.pnl;this.pattern=I9M.ptrn;this.lineWidth=I9M.lw;this.candleWidth=I9M.cw;this.multiplier=I9M.mlt;this.d0=I9M.d0;this.tzo0=I9M.tzo0;this.v0=I9M.v0;this.interval=I9M.inter;this.periodicity=I9M.pd;this.nodes=I9M.nodes;this.adjust();};A1M.Drawing.callout=function(){var j1P;j1P="cal";j1P+="lo";j1P+="ut";this.name=j1P;this.arr=[];n4S.c3m(29);this.w=n4S.F3m(1660482208,"0");this.h=0;this.padding=4;this.text="";n4S.i9S();this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};A1M.inheritsFrom(A1M.Drawing.callout,A1M.Drawing.annotation);A1M.Drawing.callout.prototype.configs=[T1P,k1P,"lineWidth","pattern","font"];A1M.Drawing.callout.prototype.copyConfig=function(K4M){var p4y,U4y,O4y;A1M.Drawing.copyConfig(this,K4M);p4y=1524546256;U4y=-1411189724;O4y=2;n4S.i9S();for(var b4y=1;n4S.F6y(b4y.toString(),b4y.toString().length,84834) !== p4y;b4y++){this.borderColor=this.color;O4y+=2;}if(n4S.P6y(O4y.toString(),O4y.toString().length,78732) !== U4y){this.borderColor=this.color;}this.borderColor=this.color;};A1M.Drawing.callout.prototype.move=function(d4M,j4M,b4M){if(!this.penDown){return;}this.copyConfig();this.p0=[j4M,b4M];this.render(d4M);};A1M.Drawing.callout.prototype.onChange=function(R4M){var t4M,Z4M,O4M;t4M=this.stx.panels[this.panelName];if(!t4M){return;}Z4M=R4M.target;this.w=Z4M.clientWidth;this.h=Z4M.clientHeight;O4M=this.context || this.stx.chart.tempCanvas.context;A1M.clearCanvas(O4M.canvas,this.stx);this.render(O4M);this.edit(O4M);};A1M.Drawing.callout.prototype.render=function(M4M){var m1P,k4M,F4M,y4M,s4M,c4M,q4M,G4M,g4M,N4M,r4M,o4M,C4M,T4M,U4M,W4M,l1P,m4M,P1P,g1P,F1P,R1P,e1P,z1P,A4M;m1P="t";m1P+="op";this.context=M4M;k4M=this.stx.panels[this.panelName];if(!k4M){return;}F4M=this.stx.pixelFromTick(this.p0[0],k4M.chart);y4M=this.stx.pixelFromValueAdjusted(k4M,this.p0[0],this.p0["1" * 1]);if(isNaN(y4M)){return;}M4M.font=this.fontString;M4M.textBaseline=m1P;s4M=F4M;c4M=y4M;q4M=this.w / ("2" ^ 0);n4S.c3m(8);var u9o=n4S.i3m(38,50,14);G4M=this.h / u9o;if(this.penDown){q4M=this.defaultWidth;G4M=this.defaultHeight;if(!G4M){G4M=this.fontSize;}}g4M=this.lineWidth;if(!g4M){g4M=1.1;}N4M=this.color;if(N4M == "auto" || A1M.isTransparent(N4M)){N4M=this.stx.defaultColor;}r4M=this.borderColor;if(r4M == "auto" || A1M.isTransparent(r4M)){r4M=this.stx.defaultColor;}if(this.highlighted){r4M=this.stx.getCanvasColor("stx_highlight_vector");}W4M=Math.min(Math.min(q4M,G4M) / +"2",8);if(this.stem){l1P="c";l1P+="m";if(this.stem.t){o4M=this.stx.pixelFromTick(this.stem.t);T4M=this.stx.pixelFromValueAdjusted(k4M,this.stem.t,this.stem.v);}else if(this.stem.x){o4M=s4M;T4M=c4M;s4M+=this.stem.x;c4M+=this.stem.y;}m4M="";if(o4M >= s4M + q4M){n4S.O3m(2);C4M=n4S.i3m(s4M,q4M);m4M="r";}else if(o4M > s4M - q4M && o4M < s4M + q4M){C4M=s4M;m4M=(641.75,556.17) != 2730?"c":(450.75,+"992.92") < 999.46?(224.45,! !{}):8.91e+3;}else if(o4M <= s4M - q4M){n4S.O3m(4);C4M=n4S.F3m(s4M,q4M);m4M="l";}if(T4M >= c4M + G4M){n4S.O3m(2);U4M=n4S.F3m(c4M,G4M);m4M+=(753.99,4364) === 891.14?("l","j"):"b";}else if(T4M > c4M - G4M && T4M < c4M + G4M){U4M=c4M;m4M+="m";}else if(T4M <= c4M - G4M){n4S.c3m(4);U4M=n4S.i3m(c4M,G4M);m4M+="t";}this.stemEntry=m4M;if(m4M != l1P){o4M=Math.round(o4M);C4M=Math.round(C4M);T4M=Math.round(T4M);U4M=Math.round(U4M);}}n4S.J9S();if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",M4M);}else {if(this.fillColor){M4M.fillStyle=this.fillColor;n4S.c3m(4);M4M.globalAlpha=n4S.i3m("0.4",0);}else if(this.stem){M4M.fillStyle=this.stx.containerColor;}}M4M.strokeStyle=r4M;if(M4M.setLineDash){M4M.setLineDash(A1M.borderPatternToArray(g4M,this.pattern));M4M.lineDashOffset=0;;}if(r4M){P1P="l";P1P+="t";g1P="l";g1P+="m";F1P="l";F1P+="b";R1P="r";R1P+="b";M4M.beginPath();M4M.lineWidth=g4M;n4S.c3m(8);M4M.moveTo(n4S.F3m(s4M,W4M,q4M),n4S.F3m(c4M,G4M,n4S.O3m(4)));if(this.stemEntry != "rt"){n4S.O3m(2);M4M.quadraticCurveTo(n4S.F3m(s4M,q4M),n4S.F3m(c4M,G4M,n4S.c3m(4)),n4S.F3m(s4M,q4M,n4S.O3m(2)),n4S.i3m(W4M,G4M,c4M,n4S.c3m(3)));;}else {M4M.lineTo(o4M,T4M);n4S.O3m(2);M4M.lineTo(n4S.i3m(s4M,q4M),n4S.i3m(W4M,G4M,c4M,n4S.c3m(3)));}n4S.O3m(2);M4M.lineTo(n4S.F3m(s4M,q4M),n4S.i3m(c4M,2,W4M,n4S.O3m(45)));if(this.stemEntry == "rm"){M4M.lineTo(o4M,T4M);}n4S.O3m(2);M4M.lineTo(n4S.i3m(s4M,q4M),n4S.F3m(2,W4M,c4M,n4S.c3m(46)));n4S.c3m(2);M4M.lineTo(n4S.F3m(s4M,q4M),n4S.F3m(c4M,W4M,G4M,n4S.O3m(8)));if(this.stemEntry != R1P){n4S.c3m(2);M4M.quadraticCurveTo(n4S.i3m(s4M,q4M),n4S.F3m(c4M,G4M,n4S.c3m(2)),n4S.F3m(s4M,W4M,q4M,n4S.c3m(8)),n4S.F3m(c4M,G4M,n4S.O3m(2)));;}else {M4M.lineTo(o4M,T4M);n4S.c3m(8);M4M.lineTo(n4S.F3m(s4M,W4M,q4M),n4S.F3m(c4M,G4M,n4S.c3m(2)));}n4S.O3m(46);M4M.lineTo(n4S.F3m(2,W4M,s4M),n4S.i3m(c4M,G4M,n4S.c3m(2)));if(this.stemEntry == "cb"){M4M.lineTo(o4M,T4M);}n4S.c3m(45);M4M.lineTo(n4S.F3m(s4M,2,W4M),n4S.F3m(c4M,G4M,n4S.O3m(2)));n4S.c3m(3);M4M.lineTo(n4S.i3m(W4M,q4M,s4M),n4S.F3m(c4M,G4M,n4S.O3m(2)));if(this.stemEntry != F1P){n4S.O3m(4);M4M.quadraticCurveTo(n4S.i3m(s4M,q4M),n4S.F3m(c4M,G4M,n4S.O3m(2)),n4S.i3m(s4M,q4M,n4S.c3m(4)),n4S.i3m(c4M,W4M,G4M,n4S.O3m(8)));;}else {M4M.lineTo(o4M,T4M);n4S.O3m(4);M4M.lineTo(n4S.i3m(s4M,q4M),n4S.F3m(c4M,W4M,G4M,n4S.O3m(8)));}n4S.c3m(4);M4M.lineTo(n4S.F3m(s4M,q4M),n4S.i3m(2,W4M,c4M,n4S.c3m(46)));if(this.stemEntry == g1P){M4M.lineTo(o4M,T4M);}n4S.c3m(4);M4M.lineTo(n4S.F3m(s4M,q4M),n4S.F3m(c4M,1128546080,"2",W4M,n4S.O3m(47)));n4S.O3m(4);M4M.lineTo(n4S.i3m(s4M,q4M),n4S.i3m(W4M,G4M,c4M,n4S.O3m(3)));if(this.stemEntry != P1P){n4S.O3m(4);M4M.quadraticCurveTo(n4S.F3m(s4M,q4M),n4S.i3m(c4M,G4M,n4S.O3m(4)),n4S.F3m(W4M,q4M,s4M,n4S.O3m(3)),n4S.i3m(c4M,G4M,n4S.O3m(4)));;}else {M4M.lineTo(o4M,T4M);n4S.O3m(3);M4M.lineTo(n4S.i3m(W4M,q4M,s4M),n4S.i3m(c4M,G4M,n4S.c3m(4)));}n4S.O3m(45);M4M.lineTo(n4S.F3m(s4M,2,W4M),n4S.i3m(c4M,G4M,n4S.O3m(4)));if(this.stemEntry == "ct"){M4M.lineTo(o4M,T4M);}n4S.O3m(46);M4M.lineTo(n4S.F3m(2,W4M,s4M),n4S.i3m(c4M,G4M,n4S.O3m(4)));n4S.c3m(8);M4M.lineTo(n4S.F3m(s4M,W4M,q4M),n4S.i3m(c4M,G4M,n4S.O3m(4)));M4M.fill();M4M.globalAlpha=1;if(this.pattern != "none"){M4M.stroke();}}if(this.highlighted){e1P="stx_ann";e1P+="otation_hi";e1P+="ghlight";this.stx.canvasColor(e1P,M4M);}else {M4M.fillStyle=N4M;}c4M+=this.padding;if(!this.ta){for(var x4M=0;x4M < this.arr.length;x4M++){M4M.fillText(this.arr[x4M],s4M - q4M + this.padding,c4M - G4M);c4M+=this.fontSize;}}M4M.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){z1P="p";z1P+="0";A4M=this.highlighted == z1P?!0:!1;this.littleCircle(M4M,o4M,T4M,A4M);};};A1M.Drawing.callout.prototype.click=function(v4M,E4M,D4M){var Q4M;if(this.stx.overXAxis || this.stx.overYAxis){return;}n4S.i9S();Q4M=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(+"0",E4M,D4M,Q4M.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !"1";this.adjust();return ! !"";}this.adjust();this.edit(v4M);this.penDown=! !"";return !{};};A1M.Drawing.callout.prototype.reposition=function(L4M,z4M,V4M,a4M){n4S.J9S();var l4M,H4M,Y4M,x1P;if(!z4M){return;}l4M=this.stx.panels[this.panelName];H4M=z4M.tick - V4M;Y4M=z4M.value - a4M;if(z4M.stem){x1P="dra";x1P+="g";if(z4M.action == x1P){this.stem={d:this.stx.dateFromTick(V4M,l4M.chart,! !1),v:a4M};}else if(z4M.action == "move"){this.setPoint(0,z4M.p0["0" << 798879040] - H4M,z4M.p0[1] - Y4M,l4M.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(z4M.stem.d,l4M.chart) - H4M),v:z4M.stem.v - Y4M};}this.adjust();}else {this.setPoint(0,z4M.p0["0" * 1] - H4M,z4M.p0["1" | 1] - Y4M,l4M.chart);}this.render(L4M);};A1M.Drawing.callout.prototype.lineIntersection=function(K5M,d5M,I4M,f4M){var X4M,i4M,P4M,p4M,w4M,J4M,u4M,B4M,h4M,n4M,S4M,v9y,p9y,U9y,e4M;X4M=this.stx.panels[this.panelName];i4M=this.stem;P4M=this.p0;p4M=this.stx;if(!P4M || !i4M || !X4M){return ![];}w4M=i4M.t || this.stx.tickFromDate(i4M.d,X4M.chart);J4M={x0:P4M[+"0"],x1:w4M,y0:P4M[1],y1:i4M.v};u4M=A1M.convertBoxToPixels(p4M,this.panelName,J4M);B4M=u4M.x0;h4M=u4M.y0;n4M=u4M.x1;S4M=u4M.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf((+"319.9",5.03) > 6449?(! ![],"6.21e+3" >> 852829408):"l") > -1){n4S.c3m(48);var S9o=n4S.F3m(13,440,34);B4M-=this.w / S9o;}else if(this.stemEntry.indexOf((+"9160",4370) < (645,459.73)?(0x1f99,! !""):"r") > - +"1"){n4S.O3m(49);var L9o=n4S.F3m(26,1,26);B4M+=this.w / L9o;}v9y=-580655408;p9y=2129163362;U9y=2;for(var I9y=1;n4S.P6y(I9y.toString(),I9y.toString().length,7476) !== v9y;I9y++){if(this.stemEntry.indexOf(994 <= (252.86,2573)?"t":+"371" != 96.76?(0x23f,0x105b):! !{}) > -("1" >> 1068303008)){n4S.c3m(4);var v9o=n4S.i3m(11,10);h4M-=this.h / ("2" * v9o);}else if(this.stemEntry.indexOf(("9842" | 9216,854.52) != 462?"b":"f") > -1){n4S.O3m(4);var p9o=n4S.i3m(12,10);h4M+=this.h / p9o;}U9y+=2;}if(n4S.P6y(U9y.toString(),U9y.toString().length,53283) !== p9y){if(this.stemEntry.indexOf(643 > (631630,9717)?"t":981 == 62314?(0xe9c,0x6626):! !0) <= +6){h4M*=this.h % +"5";}else if(this.stemEntry.indexOf((9119,650002) == 479?"t":"t") <= ~3){h4M*=this.h % 0;}}}e4M=A1M.convertBoxToPixels(p4M,this.panelName,I4M);return A1M.boxIntersects(e4M.x0,e4M.y0,e4M.x1,e4M.y1,B4M,h4M,n4M,S4M,f4M);};A1M.Drawing.callout.prototype.intersected=function(b5M,Z5M,j5M){n4S.J9S();var O5M,t5M,R5M,M5M,c5M,s5M,G5M,q5M,s6y,u6y,S6y;O5M=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,j5M)){this.highlighted="p0";return {action:"drag",stem:! !{}};}n4S.c3m(13);var U9o=n4S.i3m(8,6);t5M=this.stx.pixelFromTick(this.p0[0],O5M.chart) - this.w / U9o;n4S.O3m(3);var O9o=n4S.F3m(7,6,0);R5M=this.stx.pixelFromValueAdjusted(O5M,this.p0[0],this.p0[O9o]) - this.h / +"2";M5M=t5M + this.w;c5M=R5M + this.h;if(this.stem && this.stem.x){t5M+=this.stem.x;M5M+=this.stem.x;R5M+=this.stem.y;c5M+=this.stem.y;}s5M=this.stx.pixelFromTick(b5M,O5M.chart);G5M=this.stx.pixelFromValueAdjusted(O5M,b5M,Z5M);if(s5M + j5M.r >= t5M && s5M - j5M.r <= M5M && G5M + j5M.r >= R5M && G5M - j5M.r <= c5M){this.highlighted=! !1;return {p0:A1M.clone(this.p0),tick:b5M,value:Z5M};}q5M=this.lineIntersection(b5M,Z5M,j5M,"segment");if(q5M){this.highlighted=! ![];s6y=1113091528;u6y=305310719;S6y=2;for(var U6y=1;n4S.F6y(U6y.toString(),U6y.toString().length,75954) !== s6y;U6y++){return {action:"",stem:A1M.clone(this.stem),p0:A1M.clone(this.p0),tick:b5M,value:Z5M};}if(n4S.F6y(S6y.toString(),S6y.toString().length,17997) !== u6y){return {action:"",stem:A1M.clone(this.stem),p0:A1M.clone(this.p0),tick:b5M,value:Z5M};}return {action:"move",stem:A1M.clone(this.stem),p0:A1M.clone(this.p0),tick:b5M,value:Z5M};}return null;};A1M.Drawing.fibonacci=function(){var G1P;G1P="f";G1P+="ib";G1P+="onac";G1P+="ci";this.name=G1P;this.configurator="fibonacci";};A1M.inheritsFrom(A1M.Drawing.fibonacci,A1M.Drawing.BaseTwoPoint);A1M.Drawing.fibonacci.mapping={trend:+"3989" <= 3680?(604,409.81):(7769,88.85) > (46.99,+"563.17")?"r":"t",color:("9419" >> 787517120,911.17) !== +"6631"?"c":8220 > (28,+"232.83")?(1.77e+3,"C"):(![],0xac6),parameters:"p",pattern:"pt",opacity:501.17 === "469.97" * 1?(6.97e+3,"c"):66.86 <= 629.2?"o":("x",912),lineWidth:"lw",level:"l",extendLeft:(1380,37) == 862.1?"e":(2944,754.43) > 537.81?"e":0x1a6b,printLevels:c1P,printValues:"pv",timezone:N1P,display:("1313" ^ 0) === (857.63,+"8700")?(0x1911,! !""):"d"};n4S.O3m(21);A1M.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,n4S.F3m(367929024,"1"),1.382,1.618];A1M.Drawing.fibonacci.prototype.configs=["color",W1P,"lineWidth","pattern","parameters"];A1M.Drawing.fibonacci.prototype.initializeSettings=function(r5M){var T5M,o5M;T5M=this.recommendedLevels;if(T5M && !r5M.currentVectorParameters.fibonacci.fibsAlreadySet){o5M=r5M.currentVectorParameters.fibonacci.fibs;for(var W5M=0;W5M < o5M.length;W5M++){delete o5M[W5M].display;for(var m5M=0;m5M < T5M.length;m5M++){if(o5M[W5M].level == T5M[m5M]){o5M[W5M].display=!0;}}}}};A1M.Drawing.fibonacci.prototype.setOuter=function(){var k5M,g5M,F5M,A5M,Q5M,v5M,E5M,z5M,l5M,C5M,U5M,N5M,y5M,D5M;k5M=this.stx;n4S.i9S();g5M=k5M.panels[this.panelName];if(!g5M){return;}F5M=Math.max(this.p0[1],this.p1[1]);A5M=Math.min(this.p0[1],this.p1[1]);n4S.O3m(4);Q5M=n4S.F3m(F5M,A5M);this.outer={p0:A1M.clone(this.p0),p1:A1M.clone(this.p1)};v5M=k5M.pixelFromValueAdjusted(g5M,this.p0[0],this.p0[1]);E5M=k5M.pixelFromValueAdjusted(g5M,this.p1[0],this.p1[1]);z5M=k5M.pixelFromTick(this.p0[0],g5M.chart);l5M=k5M.pixelFromTick(this.p1[0],g5M.chart);C5M=0;U5M=1;for(var x5M=0;x5M < this.parameters.fibs.length;x5M++){N5M=this.parameters.fibs[x5M];if(N5M.level >= C5M && N5M.level <= U5M || !N5M.display)continue;y5M=k5M.pixelFromValueAdjusted(g5M,this.p0["0" >> 1260988576],E5M < v5M?F5M - Q5M * N5M.level:A5M + Q5M * N5M.level);D5M=A1M.xIntersection({x0:z5M,x1:l5M,y0:v5M,y1:E5M},y5M);if(N5M.level < C5M){C5M=N5M.level;this.outer.p1[1]=k5M.valueFromPixel(y5M,g5M);n4S.c3m(15);this.outer.p1[n4S.i3m(2147483647,"0")]=k5M.tickFromPixel(D5M,g5M.chart);}else if(N5M.level > U5M){U5M=N5M.level;n4S.O3m(6);this.outer.p0[n4S.i3m("1",1)]=k5M.valueFromPixel(y5M,g5M);this.outer.p0[0]=k5M.tickFromPixel(D5M,g5M.chart);}}};A1M.Drawing.fibonacci.prototype.click=function(a5M,Y5M,V5M){var H5M;H5M=this.stx.panels[this.panelName];if(!H5M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Y5M,V5M,H5M.chart);this.penDown=!"";return !"1";}if(this.accidentalClick(Y5M,V5M)){return this.dragToDraw;}this.setPoint(1,Y5M,V5M,H5M.chart);this.setOuter();this.parameters=A1M.clone(this.parameters);this.penDown=!{};return !0;;};A1M.Drawing.fibonacci.prototype.render=function(L5M){var Q1P,H1P,o1P,Y1P,i5M,O0M,Z0M,t0M,s0M,I5M,n5M,B5M,e5M,G0M,q0M,W0M,r0M,k0M,o0M,g0M,R0M,f5M,M0M,K0M,S5M,B1P,n1P,C1P,A1P,a1P,p5M,u5M,j0M,w5M,P5M,N0M,d0M,J5M,h5M,T0M,X5M,m0M,C0M,U0M;Q1P="se";Q1P+="gment";H1P="aut";H1P+="o";o1P="stx";o1P+="_";o1P+="yaxi";o1P+="s";Y1P="s";Y1P+="ol";Y1P+="i";Y1P+="d";i5M=this.stx.panels[this.panelName];if(!i5M){return;}O0M=i5M.yAxis;if(!this.p1){return;}Z0M=Math.max(this.p0[1],this.p1[1]);t0M=Math.min(this.p0[1],this.p1[1]);s0M=O0M.flipped?t0M - Z0M:Z0M - t0M;I5M=this.stx.pixelFromTick(this.p0["0" * 1],i5M.chart);n5M=this.stx.pixelFromTick(this.p1[0],i5M.chart);B5M=this.stx.pixelFromValueAdjusted(i5M,this.p0[0],this.p0[1]);e5M=this.stx.pixelFromValueAdjusted(i5M,this.p1[0],this.p1["1" * 1]);G0M=Math.min(e5M,B5M);q0M=Math.max(e5M,B5M);n4S.c3m(4);W0M=n4S.i3m(q0M,G0M);n4S.O3m(50);r0M=n4S.F3m(e5M,B5M,I5M,0,n5M);k0M={color:"auto",parameters:{pattern:Y1P,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=k0M;}o0M=this.getLineColor(this.parameters.trend.color);L5M.textBaseline="middle";this.stx.canvasFont(o1P,L5M);g0M=L5M.measureText("161.8%").width + 10;R0M=Number.MAX_VALUE;f5M=Number.MAX_VALUE;n4S.c3m(51);var I9o=n4S.i3m(12,1997,18,11,15);M0M=Number.MAX_VALUE * I9o;n4S.O3m(13);var b9o=n4S.F3m(11,12);K0M=Number.MAX_VALUE * b9o;S5M=this.color;if(S5M == H1P || A1M.isTransparent(S5M)){S5M=this.stx.defaultColor;}this.rays=[];for(var c0M=0;c0M < this.parameters.fibs.length;c0M++){B1P="au";B1P+="t";B1P+="o";n1P="a";n1P+="uto";C1P="a";C1P+="u";C1P+="to";A1P="a";A1P+="uto";a1P="l";a1P+="e";a1P+="f";a1P+="t";L5M.textAlign=a1P;L5M.fillStyle=S5M;p5M=this.parameters.fibs[c0M];if(!p5M.display)continue;u5M=this.stx.pixelFromValueAdjusted(i5M,this.p0[+"0"],e5M < B5M?Z0M - s0M * p5M.level:t0M + s0M * p5M.level);j0M=A1M.xIntersection({x0:I5M,x1:n5M,y0:B5M,y1:e5M},u5M);w5M=this.parameters.extendLeft?0:j0M;P5M=i5M.left + i5M.width;if(this.parameters.printLevels){n4S.O3m(9);var t9o=n4S.i3m(15,17,8002,9000);n4S.c3m(42);var w9o=n4S.F3m(12,3,1,1);N0M=Math.round(p5M.level * t9o) / w9o + "%";P5M-=g0M;if(this.parameters.printValues){L5M.fillStyle=S5M;this.stx.canvasFont("stx_yaxis",L5M);;}if(P5M < w5M){L5M.textAlign="right";}L5M.fillText(N0M,P5M,u5M);if(P5M < w5M){P5M+=+"5";}else {P5M-=+"5";}}if(this.parameters.printValues){if(j0M < i5M.width){d0M=this.stx.transformedPriceFromPixel(u5M,i5M);if(O0M.priceFormatter){d0M=O0M.priceFormatter(this.stx,i5M,d0M);}else {d0M=this.stx.formatYAxisPrice(d0M,i5M);}if(L5M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i5M,d0M,u5M,S5M,null,L5M);if(L5M == this.stx.chart.context){this.stx.startClip(i5M.name);}}}J5M=p5M.color;if(J5M == A1P || A1M.isTransparent(J5M)){J5M=this.color;}if(J5M == C1P || A1M.isTransparent(J5M)){J5M=this.stx.defaultColor;}h5M=p5M.color;if(h5M == n1P || A1M.isTransparent(h5M)){h5M=this.fillColor;}if(h5M == B1P || A1M.isTransparent(h5M)){h5M=this.stx.defaultColor;}L5M.fillStyle=h5M;T0M=A1M.clone(p5M.parameters);if(this.highlighted){T0M.opacity=1;}this.stx.plotLine(w5M,P5M,u5M,u5M,this.highlighted?o0M:J5M,"segment",L5M,i5M,T0M);this.rays.push([[w5M,u5M],[P5M,u5M]]);L5M.globalAlpha=0.05;L5M.beginPath();L5M.moveTo(P5M,u5M);L5M.lineTo(w5M,u5M);if(w5M){L5M.lineTo(n5M,e5M);}else {L5M.lineTo(w5M,e5M);}L5M.lineTo(P5M,e5M);if(typeof h5M != "undefined"){L5M.fill();}n4S.c3m(29);L5M.globalAlpha=n4S.F3m(1463518624,"1");if(u5M < f5M){R0M=j0M;f5M=u5M;}if(u5M > K0M){M0M=j0M;K0M=u5M;}}for(var b0M=0;b0M <= 1;b0M++){X5M=r0M?q0M - W0M * b0M:G0M + W0M * b0M;X5M=Math.round(X5M);if(X5M < f5M){R0M=A1M.xIntersection({x0:I5M,x1:n5M,y0:B5M,y1:e5M},X5M);f5M=X5M;}if(X5M > K0M){M0M=A1M.xIntersection({x0:I5M,x1:n5M,y0:B5M,y1:e5M},X5M);K0M=X5M;}}m0M=A1M.clone(this.parameters.trend.parameters);if(this.highlighted){n4S.O3m(21);m0M.opacity=n4S.F3m(1710361024,"1");}this.stx.plotLine(R0M,M0M,f5M,K0M,o0M,Q1P,L5M,i5M,m0M);if(this.highlighted){C0M=this.highlighted == "p0"?! ![]:! !0;U0M=this.highlighted == "p1"?! !{}:!"1";this.littleCircle(L5M,I5M,B5M,C0M);this.littleCircle(L5M,n5M,e5M,U0M);}};A1M.Drawing.fibonacci.prototype.reposition=function(y0M,x0M,F0M,A0M){if(!x0M){return;}n4S.i9S();A1M.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};A1M.Drawing.fibonacci.prototype.intersected=function(V0M,a0M,L0M){var K1P,E0M,D0M,z0M,l0M,H0M,Y0M;K1P="segmen";K1P+="t";E0M=this.p0;D0M=this.p1;if(!E0M || !D0M){return null;}n4S.J9S();z0M={0:E0M,1:D0M};for(var Q0M in z0M){if(this.pointIntersection(z0M[Q0M][0],z0M[Q0M][1],L0M)){n4S.c3m(2);this.highlighted=n4S.i3m((113,3880) === 524.96?!{}:"p",Q0M);return {action:"drag",point:"p" + Q0M};}}l0M=this.outer;H0M=this.rays;Y0M=l0M && this.lineIntersection(V0M,a0M,L0M,K1P,l0M.p0,l0M.p1);if(!Y0M){for(var v0M=0;v0M < H0M.length;v0M++){if(this.lineIntersection(V0M,a0M,L0M,"ray",H0M[v0M][0],H0M[v0M][1],! !{})){Y0M=! !{};break;}}}if(Y0M){this.highlighted=!0;return {action:"move",p0:A1M.clone(E0M),p1:A1M.clone(D0M),tick:V0M,value:a0M};}return null;};A1M.Drawing.fibonacci.prototype.reconstruct=function(u0M,i0M){i0M=A1M.replaceFields(i0M,A1M.reverseObject(A1M.Drawing.fibonacci.mapping));this.stx=u0M;this.parameters=i0M.parameters;if(!this.parameters){this.parameters=A1M.clone(this.stx.currentVectorParameters.fibonacci);}this.color=i0M.col;this.fillColor=i0M.fc;n4S.J9S();this.panelName=i0M.pnl;this.d0=i0M.d0;this.d1=i0M.d1;this.d2=i0M.d2;this.tzo0=i0M.tzo0;this.tzo1=i0M.tzo1;this.tzo2=i0M.tzo2;this.v0=i0M.v0;this.v1=i0M.v1;this.v2=i0M.v2;this.adjust();};A1M.Drawing.fibonacci.prototype.adjust=function(){var e0M;e0M=this.stx.panels[this.panelName];if(!e0M){return;}this.setPoint(0,this.d0,this.v0,e0M.chart);n4S.O3m(21);this.setPoint(n4S.F3m(435044320,"1"),this.d1,this.v1,e0M.chart);this.setOuter();};A1M.Drawing.fibonacci.prototype.serialize=function(){var P0M;P0M={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return A1M.replaceFields(P0M,A1M.Drawing.fibonacci.mapping);};A1M.Drawing.retracement=function(){this.name="retracement";};A1M.inheritsFrom(A1M.Drawing.retracement,A1M.Drawing.fibonacci);A1M.Drawing.fibprojection=function(){var h1P;h1P="fi";h1P+="bprojectio";h1P+="n";this.name=h1P;n4S.J9S();this.dragToDraw=!1;this.p2=null;};A1M.inheritsFrom(A1M.Drawing.fibprojection,A1M.Drawing.fibonacci);A1M.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];A1M.Drawing.fibprojection.prototype.click=function(p0M,h0M,X0M){var B0M,g4y,P4y,e4y;B0M=this.stx.panels[this.panelName];if(!B0M){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",h0M,X0M,B0M.chart);this.penDown=!"";return ![];}if(this.accidentalClick(h0M,X0M)){this.stx.undo();return ! !1;}if(this.p2 !== null){this.setPoint(2,this.p2["0" * 1],this.p2[1],B0M.chart);g4y=1192839691;P4y=639789212;e4y=2;for(var x4y=1;n4S.F6y(x4y.toString(),x4y.toString().length,26084) !== g4y;x4y++){this.parameters=A1M.clone(this.parameters);return ! ![];}if(n4S.P6y(e4y.toString(),e4y.toString().length,"7252" & 2147483647) !== P4y){this.parameters=A1M.clone(this.parameters);return ![];}}this.setPoint(1,h0M,X0M,B0M.chart);n4S.O3m(41);this.p2=[this.p1[0],this.p1[n4S.i3m(0,"1")]];return !"1";;};A1M.Drawing.fibprojection.prototype.render=function(w0M){var d1P,f1P,r1P,J0M,W8M,T8M,O8M,t8M,M8M,R8M,c8M,d8M,m8M,s8M,r8M,j8M,u1P,s1P,y1P,b8M,n0M,k8M,f0M,S0M,V1P,g8M,Z8M,K8M,I0M,o8M,q8M,S1P,N8M,C8M,U8M;d1P="a";d1P+="u";d1P+="t";d1P+="o";f1P="st";f1P+="x_";f1P+="yaxis";r1P="au";r1P+="t";r1P+="o";J0M=this.stx.panels[this.panelName];if(!J0M){return;}W8M=J0M.yAxis;if(!this.p1){return;}n4S.O3m(2);var Z9o=n4S.F3m(0,1);n4S.c3m(2);var D9o=n4S.i3m(0,1);T8M=this.p1[Z9o] - this.p0[D9o];O8M=this.stx.pixelFromTick(this.p0[0],J0M.chart);t8M=this.stx.pixelFromTick(this.p1[+"0"],J0M.chart);M8M=this.stx.pixelFromValueAdjusted(J0M,this.p0[0],this.p0[1]);R8M=this.stx.pixelFromValueAdjusted(J0M,this.p1[+"0"],this.p1[1]);c8M=null;d8M=null;if(this.p2){c8M=this.stx.pixelFromTick(this.p2[0],J0M.chart);d8M=this.stx.pixelFromValueAdjusted(J0M,this.p2[0],this.p2["1" * 1]);}m8M={color:r1P,parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" - 0}};if(!this.parameters.trend){this.parameters.trend=m8M;}s8M=this.getLineColor(this.parameters.trend.color);w0M.textBaseline="middle";this.stx.canvasFont(f1P,w0M);n4S.O3m(16);var J3o=n4S.i3m(4,141,150,5);r8M=w0M.measureText("161.8%").width + J3o;j8M=this.color;if(j8M == d1P || A1M.isTransparent(j8M)){j8M=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var G8M=0;G8M < this.parameters.fibs.length;G8M++){u1P="u";u1P+="n";u1P+="defi";u1P+="ned";s1P="segm";s1P+="e";s1P+="nt";y1P="a";y1P+="u";y1P+="t";y1P+="o";w0M.textAlign="left";w0M.fillStyle=j8M;b8M=this.parameters.fibs[G8M];if(!b8M.display)continue;n0M=this.stx.pixelFromValueAdjusted(J0M,this.p2[0],this.p2[1] + T8M * b8M.level);k8M=A1M.xIntersection({x0:O8M,x1:t8M,y0:M8M,y1:R8M},n0M);f0M=this.parameters.extendLeft?"0" << 47762464:O8M;S0M=J0M.left + J0M.width;if(this.parameters.printLevels){V1P="r";V1P+="i";V1P+="gh";V1P+="t";n4S.c3m(52);var M3o=n4S.F3m(3,986,7,3,7);n4S.c3m(53);var q3o=n4S.i3m(1,8,15,101,12);g8M=Math.round(b8M.level * M3o) / q3o + "%";S0M-=r8M;if(this.parameters.printValues){w0M.fillStyle=j8M;this.stx.canvasFont("stx_yaxis",w0M);;}if(S0M < f0M){w0M.textAlign=V1P;}w0M.fillText(g8M,S0M,n0M);if(S0M < f0M){S0M+=5;}else {S0M-=5;}}if(this.parameters.printValues){if(k8M < J0M.width){Z8M=this.stx.transformedPriceFromPixel(n0M,J0M);if(W8M.priceFormatter){Z8M=W8M.priceFormatter(this.stx,J0M,Z8M);}else {Z8M=this.stx.formatYAxisPrice(Z8M,J0M);}if(w0M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(J0M,Z8M,n0M,j8M,null,w0M);if(w0M == this.stx.chart.context){this.stx.startClip(J0M.name);}}}K8M=b8M.color;if(K8M == "auto" || A1M.isTransparent(K8M)){K8M=this.color;}if(K8M == "auto" || A1M.isTransparent(K8M)){K8M=this.stx.defaultColor;}I0M=b8M.color;if(I0M == "auto" || A1M.isTransparent(I0M)){I0M=this.fillColor;}if(I0M == y1P || A1M.isTransparent(I0M)){I0M=this.stx.defaultColor;}w0M.fillStyle=I0M;o8M=A1M.clone(b8M.parameters);if(this.highlighted){o8M.opacity=1;}this.stx.plotLine(f0M,S0M,n0M,n0M,this.highlighted?s8M:K8M,s1P,w0M,J0M,o8M);this.rays.push([[f0M,n0M],[S0M,n0M]]);n4S.O3m(4);w0M.globalAlpha=n4S.F3m("0.05",0);w0M.beginPath();w0M.moveTo(S0M,n0M);w0M.lineTo(f0M,n0M);if(f0M){w0M.lineTo(O8M,d8M);}else {w0M.lineTo(f0M,d8M);}w0M.lineTo(S0M,d8M);if(typeof I0M != u1P){w0M.fill();}w0M.globalAlpha=+"1";}}q8M=A1M.clone(this.parameters.trend.parameters);if(this.highlighted){q8M.opacity=1;}this.stx.plotLine(O8M,t8M,M8M,R8M,s8M,"segment",w0M,J0M,q8M);if(this.p2){this.stx.plotLine(t8M,c8M,R8M,d8M,s8M,"segment",w0M,J0M,q8M);}if(this.highlighted){S1P="p";S1P+="0";N8M=this.highlighted == S1P?! ![]:!1;C8M=this.highlighted == "p1"?! !1:! !"";U8M=this.highlighted == "p2"?! ![]:! !"";this.littleCircle(w0M,O8M,M8M,N8M);this.littleCircle(w0M,t8M,R8M,C8M);this.littleCircle(w0M,c8M,d8M,U8M);}};A1M.Drawing.fibprojection.prototype.move=function(F8M,x8M,y8M){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[x8M,y8M];}else {this.p2=[x8M,y8M];}this.render(F8M);};A1M.Drawing.fibprojection.prototype.reposition=function(D8M,A8M,z8M,l8M){var Q8M,v8M,E8M;if(!A8M){return;}Q8M=this.stx.panels[this.panelName];v8M=A8M.tick - z8M;E8M=A8M.value - l8M;if(A8M.action == "move"){this.setPoint(0,A8M.p0[0] - v8M,A8M.p0[1] - E8M,Q8M.chart);this.setPoint(1,A8M.p1[0] - v8M,A8M.p1[1] - E8M,Q8M.chart);this.setPoint(2,A8M.p2[0] - v8M,A8M.p2[1] - E8M,Q8M.chart);this.render(D8M);}else if(A8M.action == "drag"){this[A8M.point]=[z8M,l8M];this.setPoint(0,this.p0[+"0"],this.p0[1],Q8M.chart);this.setPoint(+"1",this.p1[+"0"],this.p1[1],Q8M.chart);n4S.O3m(15);this.setPoint(n4S.F3m(2147483647,"2"),this.p2[0],this.p2["1" >> 2135281216],Q8M.chart);this.render(D8M);}};A1M.Drawing.fibprojection.prototype.intersected=function(i8M,u8M,e8M){var L1P,Y8M,H8M,V8M,P8M,B8M,h8M,v1P;L1P="s";L1P+="e";L1P+="gm";L1P+="ent";Y8M=this.p0;H8M=this.p1;V8M=this.p2;if(!Y8M || !H8M || !V8M){return null;}P8M={0:Y8M,1:H8M,2:V8M};for(var a8M in P8M){if(this.pointIntersection(P8M[a8M]["0" * 1],P8M[a8M][1],e8M)){n4S.O3m(2);this.highlighted=n4S.F3m(4850 != 1614?"p":(+"5.64e+2",8.92e+3),a8M);return {action:"drag",point:"p" + a8M};}}n4S.J9S();B8M=this.rays;h8M=this.lineIntersection(i8M,u8M,e8M,"segment",Y8M,H8M) || this.lineIntersection(i8M,u8M,e8M,L1P,H8M,V8M);if(!h8M){for(var L8M="0" >> 1601237536;L8M < B8M.length;L8M++){v1P="r";v1P+="ay";if(this.lineIntersection(i8M,u8M,e8M,v1P,B8M[L8M][0],B8M[L8M][1],! ![])){h8M=! !{};break;}}}if(h8M){this.highlighted=! !1;return {action:"move",p0:A1M.clone(Y8M),p1:A1M.clone(H8M),p2:A1M.clone(V8M),tick:i8M,value:u8M};}return null;};A1M.Drawing.fibprojection.prototype.adjust=function(){n4S.J9S();var X8M;X8M=this.stx.panels[this.panelName];if(!X8M){return;}this.setPoint(0,this.d0,this.v0,X8M.chart);this.setPoint(1,this.d1,this.v1,X8M.chart);this.setPoint(2,this.d2,this.v2,X8M.chart);};A1M.Drawing.fibarc=function(){this.name="fibarc";;};A1M.inheritsFrom(A1M.Drawing.fibarc,A1M.Drawing.fibonacci);A1M.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];A1M.Drawing.fibarc.prototype.setOuter=function(){var p8M,w8M,J8M,S8M,I8M,n8M,f8M;p8M=this.stx.panels[this.panelName];if(!p8M){return;}this.outer={p0:A1M.clone(this.p0),p1:A1M.clone(this.p1)};w8M=this.stx.pixelFromValueAdjusted(p8M,this.p0[0],this.p0[1]);J8M=this.stx.pixelFromValueAdjusted(p8M,this.p1[0],this.p1[1]);S8M=this.stx.pixelFromTick(this.p0[0],p8M.chart);I8M=this.stx.pixelFromTick(this.p1[0],p8M.chart);n4S.c3m(48);n8M=n4S.F3m(w8M,J8M,2);n4S.J9S();f8M=A1M.xIntersection({x0:S8M,x1:I8M,y0:w8M,y1:J8M},n8M);this.outer.p0[1]=this.stx.valueFromPixel(n8M,p8M);this.outer.p0[0]=this.stx.tickFromPixel(f8M,p8M.chart);};A1M.Drawing.fibarc.prototype.intersected=function(O6M,M6M,d6M){var O1P,U1P,c6M,j6M,b6M,G6M,s6M,p1P,W6M,K6M,t6M,q6M,R6M;O1P="m";O1P+="o";O1P+="v";O1P+="e";U1P="segme";U1P+="nt";c6M=this.stx.panels[this.panelName];if(!c6M){return;}j6M=this.p0;b6M=this.p1;G6M=this.outer;if(!j6M || !b6M){return null;}s6M={0:j6M,1:b6M};for(var Z6M in s6M){if(this.pointIntersection(s6M[Z6M][0],s6M[Z6M][1],d6M)){p1P="d";p1P+="r";p1P+="a";p1P+="g";n4S.c3m(2);this.highlighted=n4S.i3m(658 >= 911?("f",0xce0):9734 == 6934?+"0xb96":(4989,179.34) < 3320?"p":("e",6.53e+3),Z6M);return {action:p1P,point:((9050,337.88) >= (1502,4260)?"v":325.9 == (896.52,4995)?"1.95e+3" ^ 0:"p") + Z6M};}}n4S.J9S();if(this.lineIntersection(O6M,M6M,d6M,U1P,G6M.p0,G6M.p1)){this.highlighted=! !"1";return {action:"move",p0:A1M.clone(j6M),p1:A1M.clone(b6M),tick:O6M,value:M6M};}W6M={x0:j6M[0],x1:b6M[0],y0:j6M[1],y1:b6M[+"1"]};K6M=A1M.convertBoxToPixels(this.stx,this.panelName,W6M);t6M={x:Math.abs(Math.sqrt(2) * (K6M.x1 - K6M.x0)),y:Math.abs(Math.sqrt(2) * (K6M.y1 - K6M.y0))};q6M=this.stx.pixelFromTick(O6M,c6M.chart);R6M=this.stx.pixelFromValueAdjusted(c6M,O6M,M6M);if(q6M + d6M.r < K6M.x1 - t6M.x || q6M - d6M.r > K6M.x1 + t6M.x){return null;}if(R6M + d6M.r < K6M.y1 - t6M.y || R6M - d6M.r > K6M.y1 + t6M.y){return null;}if(K6M.y0 < K6M.y1 && R6M - d6M.r > K6M.y1){return null;}if(K6M.y0 > K6M.y1 && R6M + d6M.r < K6M.y1){return null;}this.highlighted=!0;return {action:O1P,p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:O6M,value:M6M};};A1M.Drawing.fibarc.prototype.render=function(o6M){var J0P,b1P,I1P,T6M,F6M,U6M,k6M,N6M,r6M,v6M,E6M,D6M,A6M,D1P,Z1P,w1P,m6M,H6M,z6M,x6M,Y6M,V6M,t1P,C6M,y6M,g6M,l6M,a8y,A8y,C8y,M0P,q0P,a6M,L6M;J0P="l";J0P+="e";J0P+="f";J0P+="t";b1P="stx";b1P+="_yaxi";b1P+="s";I1P="mid";I1P+="dle";T6M=this.stx.panels[this.panelName];if(!T6M){return;}F6M=T6M.yAxis;if(!this.p1){return;}U6M=this.stx.pixelFromTick(this.p0["0" << 678592416],T6M.chart);k6M=this.stx.pixelFromTick(this.p1[0],T6M.chart);N6M=this.stx.pixelFromValueAdjusted(T6M,this.p0[+"0"],this.p0[1]);r6M=this.stx.pixelFromValueAdjusted(T6M,this.p1[0],this.p1[1]);n4S.O3m(54);v6M=n4S.i3m(r6M,N6M);n4S.O3m(55);E6M=Math.abs(n4S.i3m(U6M,r6M,N6M,k6M));D6M=this.getLineColor(this.parameters.trend.color);o6M.textBaseline=I1P;this.stx.canvasFont(b1P,o6M);A6M=this.getLineColor();for(var Q6M=0;Q6M < this.parameters.fibs.length;Q6M++){D1P="n";D1P+="o";D1P+="n";D1P+="e";Z1P="a";Z1P+="u";Z1P+="t";Z1P+="o";w1P="a";w1P+="u";w1P+="t";w1P+="o";o6M.fillStyle=A6M;m6M=this.parameters.fibs[Q6M];if(m6M.level < 0 || !m6M.display)continue;n4S.c3m(4);var i3o=n4S.F3m(13,12);n4S.O3m(56);var X3o=n4S.F3m(18,109,6);n4S.c3m(57);var E3o=n4S.i3m(20,6,1,15);H6M=Math.abs(this.p1[i3o] - this.p0["1" * X3o]) * Math.sqrt(E3o) * m6M.level;n4S.c3m(58);var j3o=n4S.F3m(11,5,109,2);n4S.O3m(42);var T3o=n4S.i3m(9,11,14,14);n4S.O3m(59);var k3o=n4S.i3m(7,17,16,358,5);n4S.c3m(3);var m3o=n4S.F3m(4,5,0);z6M=this.p1[j3o] + H6M * (v6M?T3o:k3o) * (F6M.flipped?m3o:+"1");x6M=this.stx.pixelFromValueAdjusted(T6M,this.p0[0],z6M);Y6M=A1M.xIntersection({x0:U6M,x1:k6M,y0:N6M,y1:r6M},x6M);if(this.parameters.printLevels){o6M.textAlign="center";n4S.O3m(60);var l3o=n4S.F3m(91,995,169,13,2);n4S.c3m(61);var R3o=n4S.i3m(12,25,10,15,6);V6M=Math.round(m6M.level * l3o) / R3o + "%";if(this.parameters.printValues){t1P="s";t1P+="t";t1P+="x_";t1P+="yaxis";o6M.fillStyle=A6M;this.stx.canvasFont(t1P,o6M);;}o6M.fillText(V6M,k6M,Math.round(x6M - 5));}o6M.textAlign="left";if(this.parameters.printValues){if(Y6M < T6M.width){C6M=z6M;if(F6M.priceFormatter){C6M=F6M.priceFormatter(this.stx,T6M,C6M);}else {C6M=this.stx.formatYAxisPrice(C6M,T6M);}if(o6M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(T6M,C6M,x6M,A6M,null,o6M);if(o6M == this.stx.chart.context){this.stx.startClip(T6M.name);}}}y6M=m6M.color;if(y6M == w1P || A1M.isTransparent(y6M)){y6M=this.getLineColor();}o6M.strokeStyle=this.highlighted?D6M:y6M;g6M=m6M.color;if(g6M == Z1P || A1M.isTransparent(g6M)){g6M=this.fillColor;}if(g6M == "auto" || A1M.isTransparent(g6M)){g6M=this.stx.defaultColor;}o6M.fillStyle=g6M;o6M.globalAlpha=this.highlighted?1:m6M.parameters.opacity;o6M.lineWidth=m6M.parameters.lineWidth;if(o6M.setLineDash){o6M.setLineDash(A1M.borderPatternToArray(o6M.lineWidth,m6M.parameters.pattern));o6M.lineDashOffset=+"0";;}o6M.save();o6M.beginPath();n4S.c3m(10);o6M.scale(n4S.F3m(1,E6M),1);n4S.c3m(6);o6M.arc(n4S.i3m(k6M,E6M),r6M,Math.abs(x6M - r6M),0,Math.PI,!v6M);if(this.pattern != D1P){o6M.stroke();}o6M.globalAlpha=0.05;o6M.fill();o6M.restore();if(o6M.setLineDash){o6M.setLineDash([]);}o6M.globalAlpha=1;}o6M.textAlign=J0P;l6M=A1M.clone(this.parameters.trend.parameters);if(this.highlighted){l6M.opacity=1;}a8y=-1755607147;A8y=1445680032;C8y=2;for(var B8y=1;n4S.F6y(B8y.toString(),B8y.toString().length,83521) !== a8y;B8y++){n4S.O3m(62);this.stx.plotLine(k6M,n4S.i3m(8,U6M,k6M),r6M,n4S.i3m(N6M,4,r6M,n4S.c3m(63)),D6M,"",o6M,T6M,l6M);C8y+=2;}if(n4S.F6y(C8y.toString(),C8y.toString().length,80728) !== A8y){M0P="s";M0P+="egme";M0P+="n";M0P+="t";n4S.c3m(48);this.stx.plotLine(k6M,n4S.i3m(U6M,k6M,2),r6M,n4S.F3m(N6M,r6M,2),D6M,M0P,o6M,T6M,l6M);}if(this.highlighted){q0P="p";q0P+="1";a6M=this.highlighted == "p0"?! !1:! !"";L6M=this.highlighted == q0P?! !"1":!"1";this.littleCircle(o6M,U6M,N6M,a6M);this.littleCircle(o6M,k6M,r6M,L6M);}};A1M.Drawing.fibfan=function(){this.name="fibfan";;};A1M.inheritsFrom(A1M.Drawing.fibfan,A1M.Drawing.fibonacci);n4S.O3m(4);A1M.Drawing.fibfan.prototype.recommendedLevels=[+"0",0.382,0.5,n4S.i3m("0.618",0),1];A1M.Drawing.fibfan.prototype.setOuter=function(){};A1M.Drawing.fibfan.prototype.render=function(i6M){var E0P,X0P,i0P,e6M,R1j,u6M,X6M,P6M,f6M,M1j,c1j,s1j,q1j,W1j,d1j,j1j,b1j,J6M,k0P,T0P,j0P,n6M,h6M,O1j,B6M,S6M,o1j,K1j,p6M,w6M,G1j,I6M,T1j,m1j;E0P="a";E0P+="u";E0P+="t";E0P+="o";X0P="161.";X0P+="8%";i0P="m";i0P+="i";i0P+="ddl";i0P+="e";e6M=this.stx.panels[this.panelName];if(!e6M){return;}R1j=e6M.yAxis;if(!this.p1){return;}u6M=this.stx.pixelFromTick(this.p0[0],e6M.chart);X6M=this.stx.pixelFromTick(this.p1[+"0"],e6M.chart);P6M=this.stx.pixelFromValueAdjusted(e6M,this.p0["0" ^ 0],this.p0[1]);f6M=this.stx.pixelFromValueAdjusted(e6M,this.p1[0],this.p1[1]);M1j=Math.min(f6M,P6M);c1j=Math.max(f6M,P6M);n4S.c3m(4);s1j=n4S.i3m(c1j,M1j);n4S.c3m(64);q1j=n4S.F3m(2147483647,u6M,X6M,f6M,"0",P6M);W1j=this.getLineColor(this.parameters.trend.color);i6M.textBaseline=i0P;this.stx.canvasFont("stx_yaxis",i6M);n4S.c3m(65);var F3o=n4S.i3m(235,15,10,5);d1j=i6M.measureText(X0P).width + F3o;j1j=Number.MAX_VALUE;n4S.c3m(66);var g3o=n4S.i3m(6,12,927,13,8);b1j=Number.MAX_VALUE * g3o;J6M=this.color;if(J6M == E0P || A1M.isTransparent(J6M)){J6M=this.stx.defaultColor;}this.rays=[];for(var t1j=0;t1j < this.parameters.fibs.length;t1j++){k0P="seg";k0P+="ment";T0P="au";T0P+="to";j0P="a";j0P+="uto";i6M.fillStyle=J6M;n6M=this.parameters.fibs[t1j];if(!n6M.display)continue;h6M=this.stx.pixelFromValueAdjusted(e6M,this.p0[0],(this.p0[+"1"] - this.p1[1]) * n6M.level + this.p1[1]);O1j=A1M.xIntersection({x0:X6M,x1:X6M,y0:P6M,y1:f6M},h6M);B6M=e6M.left;if(X6M > u6M){B6M+=e6M.width;}n4S.c3m(67);S6M=n4S.i3m(u6M,B6M,O1j,u6M,P6M,P6M,h6M);if(u6M > B6M - (this.parameters.printLevels?d1j + 5:0) && X6M > u6M)continue;else if(u6M < B6M + (this.parameters.printLevels?d1j + 5:0) && X6M < u6M)continue;if(this.parameters.printLevels){n4S.O3m(68);var P3o=n4S.i3m(720,63,4,7);n4S.c3m(2);var e3o=n4S.i3m(4,6);n4S.c3m(2);var z3o=n4S.F3m(1971,5912);n4S.O3m(48);var x3o=n4S.i3m(13,95,30);n4S.c3m(2);var G3o=n4S.F3m(2301,5);n4S.c3m(3);var c3o=n4S.F3m(33,15,8622);n4S.O3m(2);var N3o=n4S.i3m(3805,15);n4S.O3m(32);var W3o=n4S.F3m(7,1,6891);n4S.O3m(49);var Y3o=n4S.F3m(2171,4360,4342);o1j=Math.round(n6M.level * P3o) / e3o + ((z3o,948.65) > (x3o,"7498" | G3o)?542.20:"4010" - 0 !== c3o?"%":N3o == W3o?!0:(961.53,Y3o));if(X6M > u6M){B6M-=d1j;i6M.textAlign="left";}else {B6M+=d1j;i6M.textAlign="right";}if(this.parameters.printValues){i6M.fillStyle=J6M;this.stx.canvasFont("stx_yaxis",i6M);;}n4S.c3m(67);S6M=n4S.F3m(u6M,B6M,O1j,u6M,P6M,P6M,h6M);i6M.fillText(o1j,B6M,S6M);if(X6M > u6M){B6M-=5;}else {B6M+=5;}}i6M.textAlign="left";if(this.parameters.printValues){if(O1j < e6M.width){K1j=this.stx.transformedPriceFromPixel(h6M,e6M);if(R1j.priceFormatter){K1j=R1j.priceFormatter(this.stx,e6M,K1j);}else {K1j=this.stx.formatYAxisPrice(K1j,e6M);}if(i6M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(e6M,K1j,h6M,J6M,null,i6M);if(i6M == this.stx.chart.context){this.stx.startClip(e6M.name);}}}p6M=n6M.color;if(p6M == "auto" || A1M.isTransparent(p6M)){p6M=this.color;}if(p6M == j0P || A1M.isTransparent(p6M)){p6M=this.stx.defaultColor;}w6M=n6M.color;if(w6M == "auto" || A1M.isTransparent(w6M)){w6M=this.fillColor;}if(w6M == T0P || A1M.isTransparent(w6M)){w6M=this.stx.defaultColor;}i6M.fillStyle=w6M;if(this.parameters.printLevels){n4S.c3m(67);S6M=n4S.i3m(u6M,B6M,O1j,u6M,P6M,P6M,h6M);}G1j=A1M.clone(n6M.parameters);if(this.highlighted){G1j.opacity=1;}this.stx.plotLine(u6M,B6M,P6M,S6M,this.highlighted?W1j:p6M,k0P,i6M,e6M,G1j);this.rays.push([[u6M,P6M],[B6M,S6M]]);i6M.globalAlpha=0.05;i6M.beginPath();i6M.moveTo(B6M,S6M);i6M.lineTo(u6M,P6M);i6M.lineTo(B6M,P6M);i6M.fill();i6M.globalAlpha=1;if(h6M < j1j){j1j=h6M;}if(h6M > b1j){b1j=h6M;}}for(var Z1j=0;Z1j <= "1" >> 541100160;Z1j++){I6M=q1j?c1j - s1j * Z1j:M1j + s1j * Z1j;I6M=Math.round(I6M);if(I6M < j1j){j1j=I6M;}if(I6M > b1j){b1j=I6M;}}if(this.highlighted){T1j=this.highlighted == "p0"?! !{}:!1;m1j=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(i6M,u6M,P6M,T1j);this.littleCircle(i6M,X6M,f6M,m1j);}};A1M.Drawing.fibtimezone=function(){this.name="fibtimezone";;};A1M.inheritsFrom(A1M.Drawing.fibtimezone,A1M.Drawing.fibonacci);A1M.Drawing.fibtimezone.prototype.render=function(r1j){var l0P,m0P,k1j,g1j,x1j,E1j,D1j,Q1j,z1j,V1j,l1j,A1j,N1j,H1j,y1j,F1j,C1j,U1j,v1j,a1j,L1j,Y1j;l0P="s";l0P+="egm";n4S.J9S();l0P+="e";l0P+="nt";m0P="l";m0P+="e";m0P+="f";m0P+="t";k1j=this.stx.panels[this.panelName];if(!k1j){return;}if(!this.p1){return;}g1j=this.stx.pixelFromTick(this.p0[0],k1j.chart);x1j=this.stx.pixelFromTick(this.p1[0],k1j.chart);E1j=this.stx.pixelFromValueAdjusted(k1j,this.p0[0],this.p0[1]);D1j=this.stx.pixelFromValueAdjusted(k1j,this.p1[0],this.p1[1]);Q1j=[1,0];z1j=this.getLineColor(this.parameters.trend.color);r1j.textBaseline="middle";this.stx.canvasFont("stx_yaxis",r1j);V1j=20;l1j=this.p1["0" & 2147483647] - this.p0[0];A1j=this.color;if(A1j == "auto" || A1M.isTransparent(A1j)){A1j=this.stx.defaultColor;}r1j.textAlign="center";N1j=g1j;H1j=k1j.yAxis.top;y1j=k1j.yAxis.bottom;n4S.O3m(21);F1j=n4S.i3m(1373333888,"0");C1j=this.parameters.timezone.color;if(C1j == "auto" || A1M.isTransparent(C1j)){C1j=this.color;}if(C1j == "auto" || A1M.isTransparent(C1j)){C1j=this.stx.defaultColor;}U1j=this.parameters.timezone.color;if(U1j == "auto" || A1M.isTransparent(U1j)){U1j=this.fillColor;}if(U1j == "auto" || A1M.isTransparent(U1j)){U1j=this.stx.defaultColor;}if(this.parameters.printLevels){n4S.O3m(4);y1j-=n4S.F3m(V1j,7);}v1j=A1M.clone(this.parameters.timezone.parameters);if(this.highlighted){v1j.opacity=1;}do {N1j=this.stx.pixelFromTick(this.p0[0] + F1j * l1j,k1j.chart);if(g1j < x1j && N1j > k1j.left + k1j.width)break;else if(g1j > x1j && N1j < k1j.left)break;if(this.parameters.printLevels){r1j.fillStyle=A1j;r1j.fillText(x1j > g1j?F1j:F1j * -1,N1j,y1j + ("7" ^ 0));}r1j.fillStyle=U1j;this.stx.plotLine(N1j,N1j,+"0",y1j,this.highlighted?z1j:C1j,"segment",r1j,k1j,v1j);r1j.globalAlpha=0.05;r1j.beginPath();r1j.moveTo(g1j,H1j);r1j.lineTo(N1j,H1j);r1j.lineTo(N1j,y1j);r1j.lineTo(g1j,y1j);r1j.fill();r1j.globalAlpha=1;n4S.c3m(69);var o3o=n4S.i3m(1,12,11);F1j=Q1j[0] + Q1j[o3o];Q1j.unshift(F1j);}while(l1j);r1j.textAlign=m0P;this.stx.plotLine(g1j,x1j,E1j,D1j,z1j,l0P,r1j,k1j,v1j);if(this.highlighted){a1j=this.highlighted == "p0"?! !{}:!1;L1j=this.highlighted == "p1"?! ![]:![];this.littleCircle(r1j,g1j,E1j,a1j);this.littleCircle(r1j,x1j,D1j,L1j);}else {Y1j=this.stx.valueFromPixel(k1j.height / 2,k1j);this.setPoint(0,this.p0[0],Y1j,k1j.chart);this.setPoint(1,this.p1[0],Y1j,k1j.chart);}};A1M.Drawing.fibtimezone.prototype.intersected=function(h1j,X1j,e1j){var i1j,P1j,p1j,B1j,R0P,w1j;i1j=this.p0;P1j=this.p1;p1j=this.stx.panels[this.panelName];if(!i1j || !P1j || !p1j){return null;}B1j={0:i1j,1:P1j};for(var u1j in B1j){if(this.pointIntersection(B1j[u1j][0],B1j[u1j]["1" | 1],e1j)){R0P="d";R0P+="r";R0P+="a";R0P+="g";n4S.O3m(2);this.highlighted=n4S.F3m((+"4120",1908) === 3255?! !1:"p",u1j);return {action:R0P,point:(756.98 !== 501?"p":1.45e+3) + u1j};}}w1j=this.lineIntersection(h1j,X1j,e1j,"segment");if(w1j || e1j.x0 <= this.p0[0] && e1j.x1 >= i1j[0]){this.highlighted=!0;return {action:"move",p0:A1M.clone(i1j),p1:A1M.clone(P1j),tick:h1j,value:X1j};}n4S.J9S();return null;};A1M.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];n4S.i9S();this.points=[["M",3,0,"L",7,0,2670 === (9385,161.19)?(0x73b,1.88e+3):"L",7,5,"L",10,5,6110 === 314.01?1335 <= (5875,287.98)?(2.44e+3,8.46e+3):5741 != ("193.89" - 0,7573)?! !"1":(4.97e+3,+"8.63e+3"):"L",5,10,"L",0,5,2130 < (903.74,178)?(5.91e+3,"b"):"L",3,+"5",(709.97,+"343.43") === 163.52?6.39e+3:"L",3,0]];};A1M.inheritsFrom(A1M.Drawing.arrow_v0,A1M.Drawing.shape);A1M.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];n4S.O3m(21);this.points=[["M",1,0,"L",3,2,4780 > ("111.01" - 0,345.63)?5640 == 1973?39.85:"L":("504.73" - 0,! !"1"),5,0,"479.01" * 1 === (965,3416)?("m",0x247):(8350,3270) <= (9044,805.5)?! !1:"L",6,1,"L",4,3,(8952,4200) != +"7592"?(831,+"7596") <= 4590?"a":"L":6.75e+3,6,5,(7222,312) > 7383?(! ![],9.01e+3):(+"1200","1905" << 1017679040) == +"1344"?(0x4b7,!"1"):"L",5,6,"954.32" * 1 != (5340,7186)?"L":(!0,"a"),3,4,933 == (7280,"695.56" - 0)?9288 > 574.02?1910 == 3239?0x228:("a",!{}):(+"96.41","P"):"L",+"1",6,(3891,450) !== (94.79,8552)?"L":+"965" == 7610?(0x2706,+"250.10"):! !1,0,n4S.F3m(955547808,"5"),"L",2,+"3",(774.79,5989) == (907.45,1730)?(4.76e+3,0x1f73):"L",0,1,(8280,1020) === (987.42,"5030" | 162)?(670.49,"2550" ^ 0) > (399.55,681.65)?(105.43,"d"):(0x10db,"O"):"L",1,+"0"]];;};A1M.inheritsFrom(A1M.Drawing.xcross,A1M.Drawing.shape);A1M.Drawing.check=function(){this.name="check";this.dimension=[8,9];n4S.O3m(15);this.points=[["M",1,5,(5784,185.04) === (470.86,4176)?735.77:"L",0,6,(5450,884.17) == +"3645"?+"7.83e+3":"L",2,8,("7517" | 3412) >= (8321,4860)?"L":"O",n4S.F3m(2147483647,"7"),1,(+"1542",4350) == 7607?(0x186b,"k"):(258.23,7160) == (811.99,3669)?0xfd7:"L",6,0,"L",2,6,"L",1,+"5"]];n4S.i9S();;};A1M.inheritsFrom(A1M.Drawing.check,A1M.Drawing.shape);A1M.Drawing.star=function(){var F0P;n4S.J9S();F0P="s";F0P+="t";F0P+="ar";this.name=F0P;this.dimension=[+"12",12];n4S.c3m(39);this.points=[["M",n4S.i3m(0,"0"),4,(7675,968.47) === (4011,+"363")?0x1827:"8480" * 1 === (231.72,6118)?("n",0x12dc):(867.78,3541) >= 6257?(3.00e+2,0xfc0):"L",4,4,"L",n4S.i3m("5.5",1,n4S.O3m(6)),0,"L",7,4,(734.35,495.67) == +"7600"?5.83e+3:"L",11,4,(803.76,151.09) == ("9710" << 1690361504,1135)?(![],2.75e+2):8105 !== (457.89,5210)?"L":("P","I"),8,n4S.i3m(6,"7",n4S.c3m(39)),"L",+"9",11,1980 != (3920,326.38)?9249 != ("550" & 2147483647,9230)?(1674,7673) < (836.63,346.65)?(153.41,284.61):"L":(9.38e+3,+"2.32e+3"):! !"",5.5,9,+"4770" < (7437,8997)?(+"9000",87) != 437?"L":(+"676.93",1270) < (4490,7836)?(7.56e+3,0x379):("I",9.50e+3):3.28e+2,2,11,"L",3,+"7",1880 <= (7710,"5100" | 4652)?(736.43,318.01) >= 2070?("1790" | 174) == (710,58.11)?"0x82b" >> 1593729984:0x1c4b:"L":(+"649.78",864.05),0,4]];;};A1M.inheritsFrom(A1M.Drawing.star,A1M.Drawing.shape);A1M.Drawing.heart=function(){this.name="heart";n4S.c3m(41);this.dimension=[23,n4S.i3m(0,"20")];n4S.O3m(21);this.points=[["M",11,3,+"5910" == (712.79,"7860" << 2124661056)?(!0,49):(5760,"9170" << 673719744) == 2069?(0x2226,!1):"B",11,2.4,10,+"0",6,0,"B",0,0,0,7.5,0,+"7.5","B",0,11,n4S.F3m(2027151680,"4"),15.4,11,19,1201 != (9250,2840)?(7240,493.95) != (+"711.97",+"9940")?"B":431.09:! !{},18,15.4,22,11,22,7.5,(4220,71.48) > 5290?"P":"B",22,7.5,22,0,n4S.i3m(16,"16",n4S.O3m(39)),0,4830 !== 9594?"B":(+"5951",+"7221") >= (2408,3776)?"m":117.45,+"13",0,11,+"2.4",n4S.i3m(10,"11",n4S.c3m(39)),3]];;};A1M.inheritsFrom(A1M.Drawing.heart,A1M.Drawing.shape);A1M.Drawing.focusarrow=function(){n4S.i9S();this.name="focusarrow";n4S.c3m(21);this.dimension=[n4S.F3m(1614056448,"7"),5];n4S.O3m(41);this.points=[["M",0,n4S.F3m(0,"0"),(6360,87.55) != 849?"L":6120 < (1840,3152)?(0x1788,!"1"):(! !0,+"0x1362"),2,2,6650 >= (3880,6335)?"L":! ![],0,4,(+"3270",7071) === 6360?("U",3.06e+3):(4770,5380) == (7963,4057)?(+"3018",8542) < 971?(! ![],591.24):("a",! !"1"):"L",0,0],[+"2470" != 976.57?"M":(667.65,1320) != (+"654.52",402)?"L":(0x1bd3,7.68e+3),6,+"0",+"2930" <= 232.34?(0x1057,"H"):221.52 == ("2280" ^ 0)?382 <= (+"440.71",7240)?(! ![],!{}):8.06e+3:"L",4,2,"L",6,4,"L",6,0]];;};A1M.inheritsFrom(A1M.Drawing.focusarrow,A1M.Drawing.shape);A1M.Drawing.crossline=function(){this.name="crossline";};A1M.inheritsFrom(A1M.Drawing.crossline,A1M.Drawing.horizontal);A1M.extend(A1M.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(J1j,n1j){return ![];},adjust:function(){var S1j;S1j=this.stx.panels[this.panelName];if(!S1j){return;}this.setPoint(0,this.d0,this.v0,S1j.chart);this.p1=A1M.clone(this.p0);},intersected:function(f1j,K3j,d3j){var I1j,g0P,P0P;if(!this.p0 || !this.p1){return null;}n4S.c3m(4);this.p1[n4S.i3m("0",0)]+=1;I1j=this.lineIntersection(f1j,K3j,d3j,"line");this.p1=A1M.clone(this.p0);if(!I1j){g0P="li";g0P+="n";g0P+="e";this.p1[1]+=1;I1j=this.lineIntersection(f1j,K3j,d3j,g0P);this.p1=A1M.clone(this.p0);if(!I1j){return null;}}this.highlighted=! !"1";if(this.pointIntersection(this.p0[0],this.p0[1],d3j)){P0P="p";P0P+="0";this.highlighted=P0P;}return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:f1j,value:K3j};},render:function(G3j){var j3j,Z3j,t3j,M3j,q3j,z6y,x6y,G6y,e0P,O3j,b3j,R3j,W3j,c3j,s3j,z0P,o3j;j3j=this.stx.panels[this.panelName];if(!j3j){return;}Z3j=this.stx.pixelFromTick(this.p0[0],j3j.chart);t3j=this.stx.pixelFromValueAdjusted(j3j,this.p0[0],this.p0[1]);M3j=this.getLineColor();q3j={pattern:this.pattern,lineWidth:this.lineWidth};n4S.c3m(15);z6y=n4S.i3m(2147483647,"7980609");n4S.O3m(41);x6y=-n4S.i3m(0,"1774826940");G6y=+"2";n4S.i9S();for(var N6y=1;n4S.P6y(N6y.toString(),N6y.toString().length,"56876" | 52260) !== z6y;N6y++){n4S.O3m(70);this.stx.plotLine(Z3j,n4S.i3m(939,Z3j),t3j,t3j,M3j,"vertical",G3j,j3j,q3j);n4S.c3m(6);this.stx.plotLine(Z3j,Z3j,t3j,n4S.F3m(t3j,221),M3j,"vertical",G3j,j3j,q3j);G6y+=2;}if(n4S.P6y(G6y.toString(),G6y.toString().length,31313) !== x6y){e0P="ve";e0P+="rt";e0P+="i";e0P+="cal";n4S.c3m(4);this.stx.plotLine(Z3j,n4S.i3m(Z3j,312),t3j,t3j,M3j,"vertical",G3j,j3j,q3j);n4S.c3m(70);this.stx.plotLine(Z3j,Z3j,t3j,n4S.F3m(515,t3j),M3j,e0P,G3j,j3j,q3j);}n4S.O3m(2);this.stx.plotLine(Z3j,n4S.F3m(Z3j,100),t3j,t3j,M3j,"horizontal",G3j,j3j,q3j);n4S.c3m(2);this.stx.plotLine(Z3j,Z3j,t3j,n4S.F3m(t3j,100),M3j,"vertical",G3j,j3j,q3j);if(this.axisLabel && !this.repositioner){this.stx.endClip();O3j=this.p0[1];if(j3j.chart.transformFunc){O3j=j3j.chart.transformFunc(this.stx,j3j.chart,O3j);}if(j3j.yAxis.priceFormatter){O3j=j3j.yAxis.priceFormatter(this.stx,j3j,O3j);}else {O3j=this.stx.formatYAxisPrice(O3j,j3j);}this.stx.createYAxisLabel(j3j,O3j,t3j,M3j);this.stx.startClip(j3j.name);if(this.p0["0" | 0] >= 0 && !this.stx.chart.xAxis.noDraw){b3j=this.stx.dateFromTick(this.p0[0],j3j.chart,! !1);if(!A1M.ChartEngine.isDailyInterval(this.stx.layout.interval)){W3j=b3j.getSeconds() * +"1000" + b3j.getMilliseconds();if(Q1M.Date && this.stx.displayZone){R3j=new Q1M.Date(b3j.getTime(),this.stx.displayZone);b3j=new Date(R3j.getFullYear(),R3j.getMonth(),R3j.getDate(),R3j.getHours(),R3j.getMinutes());b3j=new Date(b3j.getTime() + W3j);}}else {b3j.setHours(0,+"0",0,0);}c3j=A1M.mmddhhmm(A1M.yyyymmddhhmm(b3j));if(j3j.chart.xAxis.formatter){c3j=j3j.chart.xAxis.formatter(b3j,this.name,null,null,c3j);}else if(this.stx.internationalizer){if(b3j.getHours() !== 0 || b3j.getMinutes() !== +"0"){s3j=this.stx.internationalizer.monthDay.format(b3j);s3j+=" " + this.stx.internationalizer.hourMinute.format(b3j);}else {s3j=this.stx.internationalizer.yearMonthDay.format(b3j);}c3j=s3j;}this.stx.endClip();this.stx.createXAxisLabel({panel:j3j,txt:c3j,x:Z3j,backgroundColor:M3j,color:null,pointed:! ![],padding:2});this.stx.startClip(j3j.name);}}if(this.highlighted){z0P="p";z0P+="0";o3j=this.highlighted == z0P?! ![]:! !"";this.littleCircle(G3j,Z3j,t3j,o3j);}}},! ![]);A1M.Drawing.speedarc=function(){this.name="speedarc";n4S.J9S();this.printLevels=! !"1";};A1M.inheritsFrom(A1M.Drawing.speedarc,A1M.Drawing.segment);A1M.extend(A1M.Drawing.speedarc.prototype,{defaultOpacity:"0.25" * 1,configs:[x0P,"fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;n4S.J9S();this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(T3j,m3j,x3j){var k3j,y3j,g3j,N3j,C3j,U3j;n4S.J9S();if(!this.p0 || !this.p1){return null;}k3j={0:this.p0,1:this.p1};for(var r3j in k3j){if(this.pointIntersection(k3j[r3j][0],k3j[r3j][1],x3j)){n4S.c3m(2);this.highlighted=n4S.i3m((283.38,9703) < 624?![]:3183 <= "9040" - 0?6940 != 3037?"p":"X":5.86e+3,r3j);return {action:"drag",point:(2452 == 440.44?"l":8190 < +"1700"?(9.18e+3,! !{}):"p") + r3j};}}y3j=this.lineIntersection(T3j,m3j,x3j,this.name);if(y3j){this.highlighted=!0;return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:T3j,value:m3j};}g3j=this.p1[0] - (this.p0[0] - this.p1[0]);N3j=this.p0[0];n4S.c3m(15);C3j=this.p1[n4S.F3m(2147483647,"1")];U3j=this.p0[1];if(T3j > Math.max(g3j,N3j) || T3j < Math.min(g3j,N3j)){return null;}if(m3j > Math.max(U3j,C3j) || m3j < Math.min(U3j,C3j)){return null;}this.highlighted=!"";return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:T3j,value:m3j};},render:function(F3j){var c0P,G0P,A3j,l3j,v3j,D3j,Q3j,Y3j,V3j,H3j,E3j,z2P,x2P,G2P,L3j,i3j,a3j,u3j,e3j,P3j,B3j;c0P="seg";c0P+="ment";G0P="au";G0P+="to";A3j=this.stx.panels[this.panelName];if(!A3j){return;}if(!this.p1){return;}n4S.i9S();l3j=this.stx.pixelFromTick(this.p0[+"0"],A3j.chart);v3j=this.stx.pixelFromTick(this.p1[0],A3j.chart);D3j=this.stx.pixelFromValueAdjusted(A3j,this.p0[0],this.p0[1]);Q3j=this.stx.pixelFromValueAdjusted(A3j,this.p1[+"0"],this.p1["1" & 2147483647]);n4S.c3m(54);Y3j=n4S.i3m(Q3j,D3j);n4S.O3m(55);V3j=Math.abs(n4S.F3m(l3j,Q3j,D3j,v3j));H3j=this.getLineColor();F3j.strokeStyle=H3j;E3j=this.fillColor;if(E3j == G0P || A1M.isTransparent(E3j)){E3j=this.stx.defaultColor;}F3j.fillStyle=E3j;if(F3j.setLineDash){z2P=-195236874;x2P=- +"1253772034";n4S.O3m(4);G2P=n4S.i3m("2",0);for(var N2P="1" >> 620440128;n4S.P6y(N2P.toString(),N2P.toString().length,46709) !== z2P;N2P++){F3j.setLineDash(A1M.borderPatternToArray(this.lineWidth,this.pattern));F3j.lineDashOffset=0;G2P+=2;}if(n4S.F6y(G2P.toString(),G2P.toString().length,12212) !== x2P){F3j.setLineDash(A1M.borderPatternToArray(this.lineWidth,this.pattern));F3j.lineDashOffset=6;};}this.stx.canvasFont("stx_yaxis",F3j);for(var z3j=1;z3j < 3;z3j++){n4S.O3m(13);var H3o=n4S.F3m(8,7);n4S.c3m(18);var a3o=n4S.i3m(1,7,8,0);n4S.c3m(49);var A3o=n4S.i3m(5,1,5);n4S.c3m(4);var C3o=n4S.F3m(42,39);L3j=Math.abs(this.p1[H3o] - this.p0[a3o]) * Math.sqrt(A3o) * z3j / C3o;n4S.c3m(71);var n3o=n4S.F3m(4,19,9,2);n4S.c3m(4);var B3o=n4S.F3m(8,7);n4S.c3m(72);var Q3o=n4S.i3m(0,2,4,23,11);i3j=this.p1[+"1"] + L3j * (Y3j?n3o:B3o) * (A3j.yAxis.flipped?- +"1":Q3o);a3j=this.stx.pixelFromValueAdjusted(A3j,this.p0[0],i3j);F3j.save();F3j.beginPath();n4S.c3m(10);F3j.scale(n4S.F3m(1,V3j),1);n4S.O3m(6);F3j.arc(n4S.i3m(v3j,V3j),Q3j,Math.abs(a3j - Q3j),0,Math.PI,!Y3j);F3j.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){F3j.stroke();}F3j.globalAlpha=+"0.1";F3j.fill();F3j.restore();F3j.globalAlpha=1;if(this.printLevels){F3j.fillStyle=H3j;F3j.textAlign="center";n4S.c3m(2);u3j=n4S.F3m(z3j,"/3");F3j.fillText(u3j,v3j,Math.round(a3j - 5));F3j.fillStyle=E3j;}}F3j.textAlign="left";e3j={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(l3j,v3j,D3j,Q3j,H3j,c0P,F3j,A3j,e3j);if(F3j.setLineDash){F3j.setLineDash([]);}if(this.highlighted){P3j=this.highlighted == "p0"?!"":!1;B3j=this.highlighted == "p1"?! !{}:!{};this.littleCircle(F3j,l3j,D3j,P3j);this.littleCircle(F3j,v3j,Q3j,B3j);}},reconstruct:function(X3j,h3j){this.stx=X3j;this.color=h3j.col;this.fillColor=h3j.fc;n4S.i9S();this.panelName=h3j.pnl;this.pattern=h3j.ptrn;this.lineWidth=h3j.lw;this.d0=h3j.d0;this.d1=h3j.d1;this.tzo0=h3j.tzo0;this.tzo1=h3j.tzo1;this.v0=h3j.v0;this.v1=h3j.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !"1");A1M.Drawing.speedline=function(){this.name="speedline";n4S.i9S();this.printLevels=! !1;};A1M.inheritsFrom(A1M.Drawing.speedline,A1M.Drawing.speedarc);A1M.extend(A1M.Drawing.speedline.prototype,{intersected:function(f3j,K7j,d7j){var J3j,n3j,S3j,N0P,I3j,W0P;n4S.J9S();J3j=this.p0;n3j=this.p1;if(!J3j || !n3j){return null;}S3j={0:J3j,1:n3j};for(var p3j in S3j){if(this.pointIntersection(S3j[p3j][0],S3j[p3j][1],d7j)){N0P="dr";N0P+="a";N0P+="g";n4S.O3m(2);this.highlighted=n4S.i3m("p",p3j);return {action:N0P,point:"p" + p3j};}}I3j=this.rays;for(var w3j=0;w3j < I3j.length;w3j++){W0P="r";W0P+="a";W0P+="y";if(this.lineIntersection(f3j,K7j,d7j,W0P,I3j[w3j][0],I3j[w3j][1],! !{})){this.highlighted=! ![];return {action:"move",p0:A1M.clone(J3j),p1:A1M.clone(n3j),tick:f3j,value:K7j};}}return null;},render:function(j7j){var o0P,Y0P,R7j,b7j,Z7j,O7j,M7j,C7j,G7j,W7j,U7j,x7j,y7j,g7j,N7j,t7j,c7j,q7j,m7j,s7j,T7j,r7j,k7j,H0P,F7j,A7j;o0P="mid";o0P+="d";o0P+="le";Y0P="aut";Y0P+="o";R7j=this.stx.panels[this.panelName];if(!R7j){return;}if(!this.p1){return;}b7j=this.stx.pixelFromTick(this.p0[0],R7j.chart);Z7j=this.stx.pixelFromTick(this.p1[0],R7j.chart);O7j=this.stx.pixelFromValueAdjusted(R7j,this.p0[0],this.p0[1]);M7j=this.stx.pixelFromValueAdjusted(R7j,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",j7j);C7j=this.getLineColor();G7j=this.color;if(G7j == "auto" || A1M.isTransparent(G7j)){G7j=this.stx.defaultColor;}j7j.strokeStyle=G7j;W7j=this.fillColor;if(W7j == Y0P || A1M.isTransparent(W7j)){W7j=this.stx.defaultColor;}j7j.fillStyle=W7j;U7j={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};g7j=["1","2/3","1/3","3/2",772.54 <= (371.16,7079)?"3":4180 == (8848,+"9598")?(0x255f,0x1ae0):! !0];n4S.i9S();n4S.c3m(6);N7j=[n4S.i3m("1",1),n4S.F3m("2",3,n4S.O3m(73)),n4S.i3m(1,"3",n4S.c3m(74)),n4S.i3m(3,2,n4S.O3m(10)),3];t7j=[];this.rays=[];for(var o7j=0;o7j < N7j.length;o7j++){c7j=N7j[o7j];if(c7j > 1 && !this.extension)continue;q7j=this.stx.pixelFromValueAdjusted(R7j,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * c7j);if(c7j > 1){m7j=A1M.xIntersection({x0:b7j,x1:Z7j,y0:O7j,y1:q7j},M7j);t7j.push(m7j);}else {m7j=A1M.xIntersection({x0:Z7j,x1:Z7j,y0:O7j,y1:M7j},q7j);t7j.push(q7j);}s7j=c7j > 1?m7j:Z7j;T7j=c7j > 1?M7j:q7j;if(!this.confineToGrid){s7j=R7j.left;if(Z7j > b7j){s7j+=R7j.width;}n4S.c3m(67);T7j=n4S.i3m(b7j,s7j,Z7j,b7j,O7j,O7j,q7j);}if(this.printLevels){if(c7j != 1 || this.extension){j7j.fillStyle=G7j;r7j=0;k7j=0;if(O7j > M7j){n4S.O3m(15);k7j=-n4S.i3m(2147483647,"5");j7j.textBaseline="bottom";}else {k7j=+"5";j7j.textBaseline="top";}if(b7j > Z7j){r7j=5;j7j.textAlign="right";}else {r7j=-5;j7j.textAlign="left";}if(c7j > 1){j7j.fillText(g7j[o7j],m7j + (this.confineToGrid?0:r7j),M7j);}else {j7j.fillText(g7j[o7j],Z7j,q7j + (this.confineToGrid?0:k7j));}j7j.fillStyle=W7j;}}this.stx.plotLine(b7j,s7j,O7j,T7j,this.highlighted?C7j:G7j,"segment",j7j,R7j,U7j);if(c7j == 1){x7j=s7j;y7j=T7j;}this.rays.push([[b7j,O7j],[s7j,T7j]]);j7j.globalAlpha=0.1;j7j.beginPath();j7j.moveTo(s7j,T7j);j7j.lineTo(b7j,O7j);j7j.lineTo(x7j,y7j);j7j.fill();n4S.O3m(4);j7j.globalAlpha=n4S.i3m("1",0);}j7j.textAlign="left";j7j.textBaseline=o0P;if(this.confineToGrid){j7j.globalAlpha=0.3;j7j.beginPath();n4S.O3m(4);j7j.strokeRect(b7j,O7j,n4S.i3m(Z7j,b7j),n4S.i3m(M7j,O7j));j7j.moveTo(b7j,t7j[1]);j7j.lineTo(Z7j,t7j[1]);j7j.moveTo(b7j,t7j["2" << 1516849824]);j7j.lineTo(Z7j,t7j[2]);if(this.extension){j7j.moveTo(t7j[3],O7j);j7j.lineTo(t7j[3],M7j);j7j.moveTo(t7j[4],O7j);j7j.lineTo(t7j[4],M7j);}j7j.stroke();j7j.globalAlpha=1;}if(this.highlighted){H0P="p";H0P+="0";F7j=this.highlighted == H0P?!0:![];A7j=this.highlighted == "p1"?!0:!{};this.littleCircle(j7j,b7j,O7j,F7j);this.littleCircle(j7j,Z7j,M7j,A7j);}}},! !"1");A1M.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! ![];};A1M.inheritsFrom(A1M.Drawing.gannfan,A1M.Drawing.speedline);A1M.extend(A1M.Drawing.gannfan.prototype,{render:function(Q7j){var B0P,n0P,a0P,D7j,v7j,z7j,E7j,a7j,h7j,l7j,V7j,X7j,p7j,w7j,P7j,H7j,J7j,B7j,Y7j,L7j,u7j,e7j,A0P,C0P,n7j,S7j;B0P="m";B0P+="idd";B0P+="l";B0P+="e";n0P="le";n0P+="f";n0P+="t";a0P="a";a0P+="ut";a0P+="o";D7j=this.stx.panels[this.panelName];if(!D7j){return;}if(!this.p1){return;}v7j=this.stx.pixelFromTick(this.p0[+"0"],D7j.chart);z7j=this.stx.pixelFromTick(this.p1["0" - 0],D7j.chart);E7j=this.stx.pixelFromValueAdjusted(D7j,this.p0[+"0"],this.p0[1]);a7j=this.stx.pixelFromValueAdjusted(D7j,this.p1["0" >> 1610213120],this.p1[+"1"]);this.stx.canvasFont("stx_yaxis",Q7j);h7j=this.getLineColor();l7j=this.color;n4S.J9S();if(l7j == "auto" || A1M.isTransparent(l7j)){l7j=this.stx.defaultColor;}Q7j.strokeStyle=l7j;V7j=this.fillColor;if(V7j == a0P || A1M.isTransparent(V7j)){V7j=this.stx.defaultColor;}Q7j.fillStyle=V7j;X7j={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};n4S.c3m(6);P7j=[1,2,n4S.i3m("3",1),4,8,n4S.F3m(1,"2",n4S.c3m(74)),n4S.i3m("1",3,n4S.O3m(73)),n4S.F3m(1,4,n4S.O3m(10)),n4S.i3m("1",8,n4S.O3m(73))];this.rays=[];for(var i7j=0;i7j < P7j.length;i7j++){H7j=P7j[i7j];n4S.O3m(75);J7j=n4S.i3m(H7j,v7j,v7j,z7j);n4S.O3m(76);B7j=n4S.F3m(E7j,a7j,E7j,H7j);Y7j=D7j.left;if(z7j > v7j){Y7j+=D7j.width;}n4S.c3m(67);L7j=n4S.i3m(v7j,Y7j,z7j,v7j,E7j,E7j,B7j);if(this.printLevels){Q7j.fillStyle=l7j;u7j=0;e7j=+"0";if(E7j > a7j){e7j=+"5";Q7j.textBaseline="top";}else {e7j=-5;Q7j.textBaseline="bottom";}if(v7j > z7j){u7j=5;Q7j.textAlign="left";}else {A0P="ri";A0P+="gh";A0P+="t";u7j=-5;Q7j.textAlign=A0P;}if(H7j > 1){n4S.O3m(2);Q7j.fillText(n4S.i3m(H7j,"x1"),n4S.F3m(J7j,u7j),a7j);}else {C0P="1";C0P+="x";n4S.O3m(46);Q7j.fillText(n4S.F3m(H7j,1,C0P),z7j,n4S.F3m(B7j,e7j,n4S.O3m(2)));}Q7j.fillStyle=V7j;}this.stx.plotLine(v7j,Y7j,E7j,L7j,this.highlighted?h7j:l7j,"segment",Q7j,D7j,X7j);this.rays.push([[v7j,E7j],[Y7j,L7j]]);if(H7j == 1){p7j=Y7j;w7j=L7j;}n4S.c3m(4);Q7j.globalAlpha=n4S.F3m("0.1",0);Q7j.beginPath();Q7j.moveTo(Y7j,L7j);Q7j.lineTo(v7j,E7j);Q7j.lineTo(p7j,w7j);Q7j.fill();Q7j.globalAlpha=1;}Q7j.textAlign=n0P;Q7j.textBaseline=B0P;if(this.highlighted){n7j=this.highlighted == "p0"?! !{}:![];S7j=this.highlighted == "p1"?!"":!1;this.littleCircle(Q7j,v7j,E7j,n7j);this.littleCircle(Q7j,z7j,a7j,S7j);}}},! ![]);A1M.Drawing.timecycle=function(){n4S.J9S();this.name="timecycle";this.printLevels=!0;};A1M.inheritsFrom(A1M.Drawing.timecycle,A1M.Drawing.speedarc);A1M.extend(A1M.Drawing.timecycle.prototype,{intersected:function(b2j,O2j,K2j){var I7j,d2j,Z2j,j2j,t2j;I7j=this.p0;d2j=this.p1;Z2j=this.stx.panels[this.panelName];if(!I7j || !d2j || !Z2j){return null;}j2j={0:I7j,1:d2j};for(var f7j in j2j){if(this.pointIntersection(j2j[f7j][0],j2j[f7j][1],K2j)){n4S.O3m(2);this.highlighted=n4S.i3m((9870,+"905.74") <= +"748.07"?711.86:"p",f7j);return {action:"drag",point:"p" + f7j};}}n4S.J9S();t2j=this.lineIntersection(b2j,O2j,K2j,"segment");if(t2j || K2j.x0 <= this.p0["0" << 1012647136] && K2j.x1 >= I7j["0" - 0]){this.highlighted=!"";return {action:"move",p0:A1M.clone(I7j),p1:A1M.clone(d2j),tick:b2j,value:O2j};}return null;},render:function(R2j){var K0P,Q0P,M2j,s2j,T2j,g2j,N2j,r2j,C2j,A2j,U2j,c2j,x2j,W2j,o2j,m2j,y2j,G2j,k2j,Q2j,v2j,E2j,F2j;K0P="a";K0P+="u";K0P+="to";Q0P="m";Q0P+="idd";Q0P+="le";M2j=this.stx.panels[this.panelName];if(!M2j){return;}if(!this.p1){return;}s2j=this.stx.pixelFromTick(this.p0[0],M2j.chart);T2j=this.stx.pixelFromTick(this.p1[0],M2j.chart);n4S.J9S();g2j=this.stx.pixelFromValueAdjusted(M2j,this.p0["0" * 1],this.p0[1]);N2j=this.stx.pixelFromValueAdjusted(M2j,this.p1[0],this.p1[1]);r2j=0;C2j=this.getLineColor();R2j.textBaseline=Q0P;this.stx.canvasFont("stx_yaxis",R2j);A2j=+"20";U2j=this.p1[+"0"] - this.p0[0];R2j.textAlign="center";c2j=s2j;x2j=M2j.yAxis.top;W2j=M2j.yAxis.bottom;o2j=this.color;if(o2j == K0P || A1M.isTransparent(o2j)){o2j=this.stx.defaultColor;}m2j=this.fillColor;if(m2j == "auto" || A1M.isTransparent(m2j)){m2j=this.stx.defaultColor;}if(this.printLevels){n4S.c3m(77);W2j-=n4S.F3m("7",A2j);}y2j={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};G2j=[];R2j.save();R2j.fillStyle=m2j;R2j.globalAlpha=0.05;do {c2j=this.stx.pixelFromTick(this.p0[0] + r2j * U2j,M2j.chart);r2j++;if(s2j < T2j && c2j > M2j.left + M2j.width)break;else if(s2j > T2j && c2j < M2j.left)break;else if(c2j < M2j.left || c2j > M2j.left + M2j.width)continue;R2j.beginPath();R2j.moveTo(s2j,x2j);R2j.lineTo(c2j,x2j);R2j.lineTo(c2j,W2j);R2j.lineTo(s2j,W2j);R2j.fill();G2j.push({c:r2j,x:c2j});}while(U2j);R2j.globalAlpha=1;k2j=0;for(var q2j=0;q2j < G2j.length;q2j++){this.stx.plotLine(G2j[q2j].x,G2j[q2j].x,0,W2j,this.highlighted?C2j:o2j,"segment",R2j,M2j,y2j);if(this.printLevels){R2j.fillStyle=o2j;n4S.c3m(78);var K3o=n4S.F3m(13,14,4,15,18);Q2j=this.stx.chart.context.measureText(G2j[q2j].c).width + K3o;if(Q2j < this.stx.layout.candleWidth + k2j){R2j.fillText(G2j[q2j].c,G2j[q2j].x,W2j + 7);k2j=0;}else {k2j+=this.stx.layout.candleWidth;}}}R2j.restore();R2j.textAlign="left";this.stx.plotLine(s2j,T2j,g2j,N2j,C2j,"segment",R2j,M2j,y2j);if(this.highlighted){v2j=this.highlighted == "p0"?! ![]:!{};E2j=this.highlighted == "p1"?!0:![];this.littleCircle(R2j,s2j,g2j,v2j);this.littleCircle(R2j,T2j,N2j,E2j);}else {F2j=this.stx.valueFromPixel(M2j.height / 2,M2j);this.setPoint(0,this.p0[0],F2j,M2j.chart);n4S.O3m(21);this.setPoint(n4S.i3m(1309257952,"1"),this.p1["0" << 723402464],F2j,M2j.chart);}}},! !1);A1M.Drawing.regression=function(){var h0P;h0P="regres";h0P+="sion";n4S.i9S();this.name=h0P;};A1M.inheritsFrom(A1M.Drawing.regression,A1M.Drawing.segment);A1M.extend(A1M.Drawing.regression.prototype,{configs:[r0P,"lineWidth",f0P,d0P,"color1",V0P,y0P,"active2","color2",s0P,"pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(z2j){var u0P,D2j;u0P="a";u0P+="u";u0P+="t";u0P+="o";A1M.Drawing.copyConfig(this,z2j);D2j=this.stx.currentVectorParameters;this.active1=! !D2j.active1;this.active2=! !D2j.active2;this.active3=! !D2j.active3;this.color1=D2j.color1 || "auto";this.color2=D2j.color2 || "auto";this.color3=D2j.color3 || u0P;this.lineWidth1=D2j.lineWidth1;this.lineWidth2=D2j.lineWidth2;this.lineWidth3=D2j.lineWidth3;this.pattern1=D2j.pattern1;this.pattern2=D2j.pattern2;this.pattern3=D2j.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]',S0P],click:function(e2j,Y2j,V2j){var H2j,l2j,a2j,L2j;if(Y2j < 0){return;}this.copyConfig();H2j=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,Y2j,V2j,H2j.chart);this.penDown=!"";l2j=this.stx;this.field=l2j.highlightedDataSetField;if(!this.field && H2j != l2j.chart.panel){for(var i2j in l2j.chart.seriesRenderers){a2j=l2j.chart.seriesRenderers[i2j];if(a2j.params.panel == H2j.name){this.field=a2j.seriesParams[0].field;break;}}for(var u2j in l2j.layout.studies){L2j=l2j.layout.studies[u2j];if(L2j.panel == H2j.name){this.field=Object.keys(L2j.outputMap)[0];break;}}}return ! !0;}if(this.accidentalClick(Y2j,V2j)){return this.dragToDraw;}this.setPoint(1,Y2j,V2j,H2j.chart);this.penDown=!"1";return ! !"1";;},getYValue:function(J2j){var L0P,h2j,X2j,p2j,n2j,B2j,P2j,w2j;L0P="C";L0P+="lo";L0P+="s";L0P+="e";h2j=this.stx.chart.dataSet[J2j];X2j=this.stx.chart.dataSet[J2j];if(!h2j){return null;}p2j=this.stx.panels[this.panelName];n2j=this.stx.getYAxisByField(p2j,this.field) || p2j.yAxis;if(this.stx.charts[p2j.name] && p2j.chart.transformFunc && n2j == p2j.yAxis){X2j=h2j.transform;}if(!X2j){return null;}B2j=null;P2j=null;w2j=this.stx.defaultPlotField || L0P;if(this.field){P2j=A1M.existsInObjectChain(X2j,this.field);if(!P2j){return null;}B2j=P2j=P2j.obj[P2j.member];if(h2j != X2j){B2j=A1M.existsInObjectChain(h2j,this.field);B2j=B2j.obj[B2j.member];}if(typeof P2j == "object"){P2j=P2j[w2j];B2j=B2j[w2j];}}else {P2j=X2j[w2j];B2j=h2j[w2j];}return {transformed:P2j,untransformed:B2j};},render:function(O9j){var v0P,I2j,K9j,d9j,o9j,Z9j,T9j,t9j,c9j,C9j,U9j,x9j,y9j,s9j,m9j,S2j,j9j,F9j,A9j,G9j,q9j,Q9j,W9j,r9j,k9j,R9j,M9j,g9j,N9j,E9j,v9j,D9j,b9j,p0P,z9j,l9j;v0P="s";v0P+="eg";v0P+="men";v0P+="t";I2j=this.stx.panels[this.panelName];if(!I2j){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" * 1] < 0){return;}K9j=this.stx.pixelFromTick(this.p0[0],I2j.chart);d9j=this.stx.pixelFromTick(this.p1[0],I2j.chart);if(K9j < I2j.left && d9j < I2j.left){return;}if(K9j > I2j.right && d9j > I2j.right){return;}o9j=this.stx.getYAxisByField(I2j,this.field);Z9j=[];T9j=[];t9j=0;c9j=0;n4S.c3m(39);C9j=n4S.F3m(0,"0");U9j=0;x9j=Math.min(this.p1[0],this.p0[0]);n4S.O3m(79);var h3o=n4S.F3m(13,18,13,2430,13);y9j=Math.max(this.p1[0],this.p0[0]) + h3o;n4S.c3m(4);s9j=n4S.i3m(y9j,x9j);for(var f2j=x9j;f2j < y9j;f2j++){m9j=this.getYValue(f2j);if(m9j){Z9j.push(m9j.transformed);T9j.push(m9j.untransformed);}}S2j=Z9j.length;n4S.O3m(80);j9j=n4S.i3m(1,S2j,2,S2j);F9j=Math.pow(j9j,2);n4S.O3m(81);A9j=n4S.F3m(3,S2j,2,j9j,1);for(f2j=+"0";f2j < S2j;f2j++){C9j+=S2j * Z9j[f2j] - t9j;t9j+=Z9j[f2j];U9j+=S2j * T9j[f2j] - c9j;c9j+=T9j[f2j];}n4S.c3m(82);G9j=n4S.i3m(t9j,F9j,A9j,j9j,S2j,S2j,C9j);n4S.O3m(83);q9j=n4S.F3m(t9j,j9j,G9j,S2j);n4S.c3m(82);Q9j=n4S.F3m(c9j,F9j,A9j,j9j,S2j,S2j,U9j);n4S.c3m(83);W9j=n4S.i3m(c9j,j9j,G9j,S2j);if(this.p0[0] < this.p1[0]){r9j=q9j;n4S.O3m(26);k9j=n4S.i3m(G9j,q9j,s9j);n4S.O3m(29);this.p0[n4S.i3m(1783450656,"1")]=W9j;n4S.O3m(26);this.p1[1]=n4S.F3m(Q9j,W9j,s9j);}else {n4S.O3m(26);r9j=n4S.i3m(G9j,q9j,s9j);k9j=q9j;n4S.O3m(26);this.p0[1]=n4S.F3m(Q9j,W9j,s9j);this.p1[1]=W9j;}R9j=this.stx.pixelFromTransformedValue(r9j,I2j,o9j);M9j=this.stx.pixelFromTransformedValue(k9j,I2j,o9j);g9j=this.getLineColor();N9j={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(K9j,d9j,R9j,M9j,g9j,"segment",O9j,I2j,N9j);n4S.c3m(4);this.stx.plotLine(K9j,K9j,n4S.F3m(R9j,20),n4S.i3m(R9j,20,n4S.c3m(2)),g9j,v0P,O9j,I2j,N9j);n4S.c3m(4);this.stx.plotLine(d9j,d9j,n4S.i3m(M9j,20),n4S.F3m(M9j,"20",n4S.c3m(84)),g9j,"segment",O9j,I2j,N9j);if(this.active1 || this.active2 || this.active3){n4S.c3m(10);E9j=n4S.F3m(t9j,S2j);v9j=0;for(f2j=0;f2j < S2j;f2j++){v9j+=Math.pow(Z9j[f2j] - E9j,"2" & 2147483647);}n4S.O3m(10);D9j=Math.sqrt(n4S.i3m(v9j,S2j));b9j={context:O9j,panel:I2j,points:{0:{x:K9j,v:r9j},1:{x:d9j,v:k9j}},stddev:D9j,yAxis:o9j};this.lines={};if(this.active1){this.renderStddev(922.5 < (53.56,874.03)?("R",![]):"1","p",b9j);this.renderStddev((41,6310) != 8485?"1":535.63,"n",b9j);}if(this.active2){this.renderStddev(3940 === (5440,+"669.29")?!"1":1530 >= (575.22,7576)?1.56e+3:9920 <= (296.64,+"5430")?435:"2","p",b9j);this.renderStddev(6720 !== ("6090" | 5256,9130)?"2":81.90,+"4440" == (365.58,4290)?("Q",0x1acb):"n",b9j);}if(this.active3){this.renderStddev(233.54 < (472.99,8000)?"3":(9880,292.19) === 4410?0xb87:(0x1ae4,"m"),"p",b9j);this.renderStddev("3",(4816,"5250" | 0) === 1323?+"954.91":"3046" - 0 < (1601,1242)?("R",0x24f2):"n",b9j);}}if(!this.highlighted){this.pixelX=[K9j,d9j];this.pixelY=[R9j,M9j];}else {p0P="p";p0P+="1";z9j=this.highlighted == "p0"?! !{}:!"1";l9j=this.highlighted == p0P?! ![]:! !0;this.littleCircle(O9j,K9j,R9j,z9j);this.littleCircle(O9j,d9j,M9j,l9j);}},renderStddev:function(u9j,S9j,e9j){var I0P,O0P,U0P,p9j,I9j,f9j,K4j,P9j,w9j,J9j,h9j,X9j,a9j,Y9j,B9j,H9j,V9j,L9j,i9j,d4j,j4j,n9j,b4j;I0P="mid";I0P+="dle";O0P="seg";O0P+="me";O0P+="nt";U0P="std";U0P+="d";U0P+="ev";n4S.c3m(85);p9j=n4S.i3m(u9j,U0P,S9j);n4S.c3m(2);I9j=n4S.F3m("color",u9j);n4S.O3m(2);f9j=n4S.F3m("pattern",u9j);n4S.c3m(2);K4j=n4S.i3m("lineWidth",u9j);P9j=e9j.points;w9j=P9j[+"0"].v;J9j=P9j[1].v;h9j=e9j.stddev;X9j=S9j === (6140 != 158.67?"n":7800 === (9340,4828)?(!0,!"1"):(208.43,+"7517") !== (509,+"6673")?(566.76,0x19b8):("895" << 1362633248,"M"))?u9j * -1:u9j * 1;a9j=this.stx;Y9j=e9j.panel;B9j=e9j.yAxis;H9j={name:p9j,color:this.getLineColor(this[I9j]),type:O0P,y0:a9j.pixelFromTransformedValue(w9j + h9j * X9j,Y9j,B9j),y1:a9j.pixelFromTransformedValue(J9j + h9j * X9j,Y9j,B9j),params:{pattern:this[f9j],lineWidth:this[K4j]}};if(this.lines){this.lines[p9j]=H9j;}V9j=e9j.context;L9j=P9j[+"0"].x;i9j=P9j[1].x;a9j.plotLine(L9j,i9j,H9j.y0,H9j.y1,H9j.color,H9j.type,V9j,Y9j,H9j.params);a9j.plotLine(L9j,L9j,H9j.y0 - 10,H9j.y0 + 10,H9j.color,H9j.type,V9j,Y9j,H9j.params);a9j.plotLine(i9j,i9j,H9j.y1 - 10,H9j.y1 + 10,H9j.color,H9j.type,V9j,Y9j,H9j.params);n4S.c3m(2);d4j=n4S.i3m(u9j,"2490" * 1 == 1970?(9350,3612) === ("2970" << 116148864,521.26)?626.60:"8.13e+3" | 7810:"\u03c3");n4S.c3m(3);var r3o=n4S.F3m(22,18,1);j4j=Math.max(L9j,i9j) + r3o;n9j=L9j < i9j?H9j.y1:H9j.y0;V9j.fillStyle=H9j.color;V9j.save();V9j.textBaseline=I0P;V9j.fillText(d4j,j4j,n9j);V9j.restore();if(e9j.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(L9j >= Y9j.chart.left && L9j <= Y9j.chart.right || i9j >= Y9j.chart.left && i9j <= Y9j.chart.right){n4S.c3m(86);b4j=n4S.F3m(h9j,X9j,L9j < i9j?J9j:w9j);a9j.endClip();a9j.createYAxisLabel(Y9j,e9j.formatPrice(b4j,B9j),n9j,H9j.color,null,V9j,B9j);a9j.startClip(Y9j.name);}}},intersected:function(t4j,R4j,q4j){var M4j,c4j,b0P,s4j,W4j,o4j,G4j,Z4j,t0P;if(!this.pixelX || !this.pixelY){return null;}M4j=this.repositionIntersection(t4j,R4j);if(M4j){return M4j;}c4j={0:this.pixelX,1:this.pixelY};for(var O4j=0;O4j < 2;O4j++){if(this.pointIntersection(c4j[0][O4j],c4j[1][O4j],q4j,! ![])){b0P="d";b0P+="r";b0P+="a";b0P+="g";n4S.c3m(2);this.highlighted=n4S.i3m(6235 != 4758?"p":0x26fc,O4j);return {action:b0P,point:(2260 == (636,604.01)?(! ![],!""):4310 === (764.26,8.68)?(2296,69) >= 6577?(0x1830,2.34e+3):(9.99e+3,"z"):"p") + O4j};}}s4j=this;W4j=this.pixelX[0];n4S.c3m(41);o4j=this.pixelX[n4S.i3m(0,"1")];G4j=function(m4j){var r4j,k4j;r4j=[W4j,m4j.y0];k4j=[o4j,m4j.y1];return s4j.lineIntersection(t4j,R4j,q4j,s4j.name,r4j,k4j,! !{});};Z4j=G4j({y0:this.pixelY[0],y1:this.pixelY[1]});if(!Z4j && this.lines){for(var T4j in this.lines){if(G4j(this.lines[T4j])){Z4j=!0;break;}}}if(Z4j){t0P="m";t0P+="ove";this.highlighted=! !{};return {action:t0P,p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:t4j,value:R4j};}return null;},repositionIntersection:function(g4j,N4j){n4S.i9S();var Z0P,w0P;if(!this.p0 || !this.p1){return ! !"";}if(this == this.stx.repositioningDrawing && this.highlighted){Z0P="dra";Z0P+="g";if(this.highlighted === ! !1){w0P="m";w0P+="o";w0P+="v";w0P+="e";return {action:w0P,p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:g4j,value:N4j};}return {action:Z0P,point:this.highlighted};}return ! !0;},lineIntersection:function(E4j,D4j,A4j,Q4j,U4j,x4j,v4j){var F4j,C4j,y4j;if(!v4j){n4S.O3m(2);console.log(n4S.i3m(Q4j," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !{};}if(!U4j){U4j=this.p0;}if(!x4j){x4j=this.p1;}if(!(U4j && x4j)){return ! !0;}F4j=this.stx;C4j=A1M.convertBoxToPixels(F4j,this.panelName,A4j);if(C4j.x0 === undefined){return !{};}y4j={x0:U4j[0],x1:x4j[0],y0:U4j[1],y1:x4j[1]};return A1M.boxIntersects(C4j.x0,C4j.y0,C4j.x1,C4j.y1,y4j.x0,y4j.y0,y4j.x1,y4j.y1);},boxIntersection:function(l4j,H4j,z4j){if(z4j.cx0 > Math.max(this.pixelX[+"0"],this.pixelX[1]) || z4j.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !{};}n4S.i9S();if(!this.stx.repositioningDrawing && (z4j.cy1 < this.pixelY[0] || z4j.cy0 > this.pixelY[1])){return !{};}return ! !"1";},reconstruct:function(V4j,Y4j){var R2P,F2P,g2P;this.stx=V4j;this.color=Y4j.col;this.color1=Y4j.col1;this.color2=Y4j.col2;this.color3=Y4j.col3;this.active1=Y4j.dev1;this.active2=Y4j.dev2;this.active3=Y4j.dev3;this.panelName=Y4j.pnl;this.pattern=Y4j.ptrn;this.pattern1=Y4j.ptrn1;this.pattern2=Y4j.ptrn2;this.pattern3=Y4j.ptrn3;this.lineWidth=Y4j.lw;this.lineWidth1=Y4j.lw1;this.lineWidth2=Y4j.lw2;this.lineWidth3=Y4j.lw3;this.d0=Y4j.d0;R2P=390077133;F2P=-624318963;g2P=+"2";for(var e2P=1;n4S.P6y(e2P.toString(),e2P.toString().length,55645) !== R2P;e2P++){this.d1=Y4j.d1;this.tzo0=Y4j.tzo0;this.tzo1=Y4j.tzo1;g2P+=2;}if(n4S.P6y(g2P.toString(),g2P.toString().length,46112) !== F2P){this.d1=Y4j.d1;this.tzo0=Y4j.tzo0;this.tzo1=Y4j.tzo1;}this.field=Y4j.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);A1M.Drawing.trendline=function(){var D0P;D0P="tr";D0P+="en";D0P+="dline";this.name=D0P;};A1M.inheritsFrom(A1M.Drawing.trendline,A1M.Drawing.segment);A1M.Drawing.trendline.prototype.configs=["color","fillColor",J5P,"pattern","font"];A1M.Drawing.trendline.prototype.measure=function(){;};A1M.Drawing.trendline.prototype.reconstruct=function(a4j,L4j){var O8y,I8y,b8y;A1M.Drawing.segment.prototype.reconstruct.call(this,a4j,L4j);O8y=-965887762;I8y=2127963253;b8y=2;for(var w8y=1;n4S.F6y(w8y.toString(),w8y.toString().length,22540) !== O8y;w8y++){this.callout=new A1M.Drawing.callout();this.callout.reconstruct(a4j,L4j.callout);b8y+=2;}if(n4S.P6y(b8y.toString(),b8y.toString().length,97722) !== I8y){this.callout=new A1M.Drawing.callout();this.callout.reconstruct(a4j,L4j.callout);}};A1M.Drawing.trendline.prototype.serialize=function(){var i4j;n4S.i9S();i4j=A1M.Drawing.segment.prototype.serialize.call(this);i4j.callout=this.callout.serialize();return i4j;};A1M.Drawing.trendline.prototype.render=function(p4j){var M5P,u4j,X7P,E7P,j7P,K5j,B4j,h4j,e4j,P4j,w4j,X4j,J4j,d5j,n4j,j5j,b5j,S4j,I4j,f4j,O5j,Z5j,i5P,q5P,t5j,R5j;M5P="%";M5P+=") ";u4j=this.stx.panels[this.panelName];if(!u4j){return;}A1M.Drawing.segment.prototype.render.call(this,p4j);if(!this.callout){X7P=-533754907;E7P=962378137;j7P=2;for(var k7P=1;n4S.P6y(k7P.toString(),k7P.toString().length,61665) !== X7P;k7P++){this.callout=new A1M.Drawing.callout();K5j=A1M.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,K5j);j7P+=2;}if(n4S.F6y(j7P.toString(),j7P.toString().length,90611) !== E7P){this.callout=new A1M.Drawing.callout();K5j=A1M.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,K5j);}this.callout=new A1M.Drawing.callout();K5j=A1M.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,K5j);}this.callout.p0=A1M.clone(this.p0);B4j=this.stx.pixelFromTick(this.p0[0],u4j.chart);h4j=this.stx.pixelFromTick(this.p1[0],u4j.chart);e4j=this.stx.pixelFromValueAdjusted(u4j,this.p0[+"0"],this.p0[+"1"]);P4j=this.stx.pixelFromValueAdjusted(u4j,this.p1["0" - 0],this.p1[1]);if(!isFinite(e4j) || !isFinite(P4j)){return;}n4S.O3m(7);w4j=n4S.F3m(2,h4j,B4j);n4S.O3m(7);X4j=n4S.F3m(2,P4j,e4j);this.fontSize=A1M.stripPX(this.font && this.font.size || +"13");n4S.O3m(87);var f3o=n4S.i3m(6,50406,14,9180);n4S.O3m(85);var d3o=n4S.F3m(3,6376,11);n4S.O3m(88);var V3o=n4S.i3m(4754,4754,8,4742);n4S.O3m(2);var y3o=n4S.i3m(9303,13);n4S.O3m(3);var s3o=n4S.i3m(11,19,6659);n4S.c3m(85);var u3o=n4S.F3m(20,353,4927);n4S.O3m(89);var S3o=n4S.i3m(1151,1,1159,1,1151);n4S.c3m(4);var L3o=n4S.i3m(1684853549,13);J4j=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((f3o,d3o) < V3o?(y3o,s3o):u3o > (S3o,"7834" << L3o)?"K":"c")?+"0":+"50");d5j=Math.sqrt(Math.pow(h4j - B4j,2) + Math.pow(P4j - e4j,2));n4S.O3m(2);var v3o=n4S.i3m(0,1);n4S.O3m(90);var p3o=n4S.i3m(229,9,3,1,19);n4S.c3m(91);var U3o=n4S.F3m(5,6,7,1,5);n4j=J4j / (d5j || J4j) * (this.p1[v3o] < this.p0[+"1"]?p3o:U3o);n4S.c3m(92);j5j=n4S.i3m(n4j,P4j,X4j,w4j);n4S.c3m(23);b5j=n4S.F3m(n4j,w4j,X4j,h4j);this.callout.p0[0]=this.stx.tickFromPixel(j5j,u4j.chart);this.callout.p0[1]=this.stx.priceFromPixel(b5j,u4j);this.callout.v0=this.callout.p0[1];this.callout.p1=A1M.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};n4S.c3m(33);var O3o=n4S.F3m(18,0,13,32);S4j=this.p1[O3o] - this.p0[+"1"];n4S.O3m(48);var I3o=n4S.i3m(9,88,10);n4S.c3m(93);var b3o=n4S.F3m(6,20,8,2,4);n4S.O3m(4);var t3o=n4S.i3m(24,22);this.callout.text="" + Number(S4j).toFixed(I3o) + (this.p0[b3o] === +"0"?"":" (" + Number(100 * S4j / this.p0[1]).toFixed(t3o) + M5P) + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";I4j=Math.floor((this.p0[0] + this.p1["0" | 0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > ("1" & 2147483647) && Math.abs(this.p0[0] - this.p1[0]) < "20" >> 2060271072){O5j=this.stx.pixelFromTick(I4j,u4j.chart);n4S.c3m(94);Z5j=n4S.F3m(h4j,P4j,e4j,O5j,B4j,B4j,e4j);f4j=this.stx.priceFromPixel(Z5j,u4j) || X4j;}else {f4j=this.stx.priceFromPixel(X4j,u4j);}this.callout.stem={t:I4j,v:f4j};this.callout.renderText();this.callout.render(p4j);if(this.highlighted){i5P="p";i5P+="1";q5P="p";q5P+="0";t5j=this.highlighted == q5P?! ![]:! !"";R5j=this.highlighted == i5P?! !{}:![];this.littleCircle(p4j,B4j,e4j,t5j);this.littleCircle(p4j,h4j,P4j,R5j);}};A1M.Drawing.trendline.prototype.lineIntersection=function(M5j,c5j,s5j,G5j){return A1M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M5j,c5j,s5j,"segment");};A1M.Drawing.trendline.prototype.intersected=function(W5j,o5j,m5j){var T5j,q5j;if(!this.p0 || !this.p1){return null;}T5j=this.callout.intersected(W5j,o5j,m5j);n4S.i9S();q5j=A1M.Drawing.segment.prototype.intersected.call(this,W5j,o5j,m5j);this.callout.highlighted=! !(T5j || q5j);if(q5j){return q5j;}else if(T5j){return {action:"move",p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:W5j,value:o5j};}return null;};A1M.Drawing.average=function(){var X5P;n4S.i9S();X5P="av";X5P+="er";X5P+="ag";X5P+="e";this.name=X5P;};A1M.inheritsFrom(A1M.Drawing.average,A1M.Drawing.regression);A1M.extend(A1M.Drawing.average.prototype,{configs:A1M.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var k5P,T5P,j5P,E5P,r5j,g5j,C5j,U5j,N5j,k5j;if(this.p0 && this.p1){k5P=".mStickyIn";k5P+="terior";T5P=" ";T5P+="&sig";T5P+="m";T5P+="a;";j5P=",";j5P+=" ";E5P="&e";E5P+="nsp";E5P+=";";this.stx.setMeasure(0,!{},this.p0[0],this.p1["0" ^ 0],! !"1",this.name);r5j=[];g5j="";if(this.active1){r5j.push(168 == (535.49,+"5070")?(8.38e+3,8.73e+3):"1");}if(this.active2){r5j.push("2");}if(this.active3){r5j.push(+"7640" >= (+"425.26",1470)?(549.51,910.7) != (2440,414)?4020 != 7700?"3":("k",451):(8.74e+3,!{}):5.99e+3);}if(r5j.length){g5j=E5P + r5j.join(j5P) + T5P;}C5j=(this.stx.drawingContainer || document).querySelector(".mMeasure");U5j=this.stx.controls.mSticky;N5j=U5j && U5j.querySelector(k5P);if(C5j){C5j.innerHTML+=g5j;}if(N5j){k5j=[];k5j.push(A1M.capitalize(this.name));k5j.push(this.field || this.stx.defaultPlotField || "Close");k5j.push(N5j.innerHTML + g5j);N5j.innerHTML=k5j.join("<br>");}}},render:function(E5j){var x5j,F5j,A5j,H5j,Q5j,i5j,u5j,w5j,e5j,a5j,v5j,z5j,Y5j,l5j,y5j,V5j,L5j,P5j,h5j,D5j,V2P,y2P,s2P,X5j,p5j;n4S.i9S();x5j=this.stx.panels[this.panelName];if(!x5j){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" >> 1748207136] < +"0"){return;}F5j=this.stx.pixelFromTick(this.p0[0],x5j.chart);A5j=this.stx.pixelFromTick(this.p1[0],x5j.chart);if(F5j < x5j.left && A5j < x5j.left){return;}if(F5j > x5j.right && A5j > x5j.right){return;}H5j=this.stx.getYAxisByField(x5j,this.field);Q5j=this.stx;function B5j(J5j,n5j){if(n5j && n5j.priceFormatter){J5j=n5j.priceFormatter(Q5j,x5j,J5j);}else {J5j=Q5j.formatYAxisPrice(J5j,x5j,null,n5j);}n4S.J9S();return J5j;}i5j=Math.min(this.p1[+"0"],this.p0[+"0"]);n4S.c3m(95);var w3o=n4S.i3m(122381323,9,1835719703,122381314,9);n4S.c3m(58);var Z3o=n4S.i3m(4,20,879,11);u5j=Math.max(this.p1[0],this.p0["0" << w3o]) + Z3o;n4S.O3m(4);w5j=n4S.i3m(u5j,i5j);e5j=0;a5j=[];for(v5j=i5j;v5j < u5j;v5j++){z5j=this.getYValue(v5j);if(z5j !== null){e5j+=z5j.transformed;a5j.push(z5j);}}Y5j=a5j.length;if(!Y5j){return;}n4S.O3m(10);l5j=n4S.i3m(e5j,Y5j);y5j=Q5j.pixelFromTransformedValue(l5j,x5j,H5j);V5j=this.getLineColor();L5j={pattern:this.pattern,lineWidth:this.lineWidth};Q5j.plotLine(F5j,A5j,y5j,y5j,V5j,"segment",E5j,x5j,L5j);n4S.c3m(4);Q5j.plotLine(F5j,F5j,n4S.i3m(y5j,20),n4S.i3m(y5j,20,n4S.c3m(2)),V5j,"segment",E5j,x5j,L5j);n4S.c3m(4);Q5j.plotLine(A5j,A5j,n4S.i3m(y5j,20),n4S.i3m(y5j,20,n4S.c3m(2)),V5j,"segment",E5j,x5j,L5j);if(this.axisLabel && !this.highlighted && !this.penDown){if(F5j >= x5j.chart.left && F5j <= x5j.chart.right || A5j >= x5j.chart.left && A5j <= x5j.chart.right){Q5j.endClip();Q5j.createYAxisLabel(x5j,B5j(l5j,H5j),y5j,V5j,null,E5j,H5j);Q5j.startClip(x5j.name);}}if(this.active1 || this.active2 || this.active3){P5j=0;for(v5j=0;v5j < Y5j;v5j++){z5j=a5j[v5j];P5j+=Math.pow(z5j.transformed - l5j,2);}n4S.c3m(10);h5j=Math.sqrt(n4S.i3m(P5j,Y5j));D5j={context:E5j,formatPrice:B5j,panel:x5j,points:{0:{x:F5j,v:l5j},1:{x:A5j,v:l5j}},stddev:h5j,yAxis:H5j};this.lines={};if(this.active1){this.renderStddev(("6340" | 4228) == 663.63?(923.88,"k"):"1","p",D5j);this.renderStddev((31.11,"439.91" - 0) > (591.53,95.69)?(9038,35.38) != (925.16,316.34)?(706.77,+"883.65") == "56.79" * 1?("848.25" * 1,"u"):"1":0x2174:"t","n",D5j);}if(this.active2){this.renderStddev((70.22,8194) == 2220?(+"0x78e",! ![]):"2",(7970,3085) > ("52.85" * 1,+"3942")?(!"",44.82):"p",D5j);this.renderStddev(("1400" >> 764787296,909.29) > (5570,3700)?4.60e+3:"2","n",D5j);}if(this.active3){this.renderStddev((3103,439.54) >= 4226?0xc55:7265 <= "54.41" - 0?(949.64,"6.82e+2" | 680):"3","p",D5j);this.renderStddev("3","n",D5j);}}if(!this.highlighted){this.pixelX=[F5j,A5j];this.pixelY=[y5j,y5j];}else {V2P=-2130765079;y2P=443925169;s2P=+"2";for(var S2P="1" - 0;n4S.P6y(S2P.toString(),S2P.toString().length,+"81452") !== V2P;S2P++){X5j=this.highlighted == "p0"?! !"1":! !0;n4S.c3m(39);s2P+=n4S.F3m(0,"2");}if(n4S.P6y(s2P.toString(),s2P.toString().length,7863) !== y2P){X5j=this.highlighted !== ""?!{}:! ![];}p5j=this.highlighted == "p1"?!0:!1;this.littleCircle(E5j,F5j,y5j,X5j);this.littleCircle(E5j,A5j,y5j,p5j);}},reconstruct:function(I5j,S5j){n4S.J9S();this.axisLabel=S5j.al;A1M.Drawing.regression.prototype.reconstruct.call(this,I5j,S5j);},serialize:function(){var f5j,x9y,G9y,c9y;f5j=A1M.Drawing.regression.prototype.serialize.call(this);f5j.al=this.axisLabel;x9y=-1949089829;G9y=1211074434;c9y=2;n4S.J9S();for(var W9y=1;n4S.F6y(W9y.toString(),W9y.toString().length,95654) !== x9y;W9y++){return f5j;}if(n4S.P6y(c9y.toString(),c9y.toString().length,73494) !== G9y){return f5j;}}},! ![]);A1M.Drawing.quadrant=function(){this.name="quadrant";};A1M.inheritsFrom(A1M.Drawing.quadrant,A1M.Drawing.regression);A1M.extend(A1M.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(b0j){var m5P,d0j,K0j,j0j,O0j,c0j,Z0j,t0j,q0j,s0j,W0j,o0j,T0j,m0j,r0j,G0j,R0j,k0j,M0j,l5P,R5P,N0j,C0j;m5P="a";m5P+="uto";d0j=this.stx;K0j=d0j.panels[this.panelName];if(!K0j){return;}if(!this.p1){return;}j0j=d0j.pixelFromTick(this.p0[0],K0j.chart);O0j=d0j.pixelFromTick(this.p1[0],K0j.chart);if(j0j < K0j.left && O0j < K0j.left){return;}if(j0j > K0j.right && O0j > K0j.right){return;}c0j=this.stx.getYAxisByField(K0j,this.field);Z0j=null;t0j=null;for(var g0j=Math.max("0" * 1,Math.min(this.p1[0],this.p0[0]));g0j <= Math.min(d0j.chart.dataSet.length - ("1" >> 537089152),Math.max(this.p1[0],this.p0[+"0"]));g0j++){q0j=this.getYValue(g0j);if(q0j !== null){if(Z0j === null || q0j.transformed > Z0j){Z0j=q0j.transformed;}if(t0j === null || q0j.transformed < t0j){t0j=q0j.transformed;}}}s0j=d0j.pixelFromTransformedValue(Z0j,K0j,c0j);n4S.c3m(96);W0j=d0j.pixelFromTransformedValue(n4S.i3m(t0j,4,Z0j,3),K0j,c0j);n4S.J9S();n4S.O3m(97);o0j=d0j.pixelFromTransformedValue(n4S.i3m(3,0,"2",t0j,Z0j),K0j,c0j);n4S.O3m(7);T0j=d0j.pixelFromTransformedValue(n4S.i3m(2,t0j,Z0j),K0j,c0j);n4S.O3m(98);m0j=d0j.pixelFromTransformedValue(n4S.i3m(t0j,"3",2,Z0j),K0j,c0j);n4S.c3m(99);r0j=d0j.pixelFromTransformedValue(n4S.i3m(Z0j,"3",2100713280,4,t0j),K0j,c0j);G0j=d0j.pixelFromTransformedValue(t0j,K0j,c0j);this.p0[+"1"]=+"0";this.p1[1]=! !0;R0j=this.getLineColor();k0j=this.fillColor;if(k0j == m5P || A1M.isTransparent(k0j)){k0j=d0j.defaultColor;}b0j.fillStyle=k0j;M0j={pattern:this.pattern,lineWidth:this.lineWidth};d0j.plotLine(j0j,O0j,s0j,s0j,R0j,"segment",b0j,K0j,M0j);d0j.plotLine(j0j,O0j,G0j,G0j,R0j,"segment",b0j,K0j,M0j);if(this.name == "quadrant"){d0j.plotLine(j0j,O0j,W0j,W0j,R0j,"segment",b0j,K0j,M0j);d0j.plotLine(j0j,O0j,r0j,r0j,R0j,"segment",b0j,K0j,M0j);}else if(this.name == "tirone"){l5P="s";l5P+="egm";l5P+="en";l5P+="t";d0j.plotLine(j0j,O0j,o0j,o0j,R0j,"segment",b0j,K0j,M0j);d0j.plotLine(j0j,O0j,m0j,m0j,R0j,l5P,b0j,K0j,M0j);}d0j.plotLine(j0j,j0j,s0j,G0j,R0j,"segment",b0j,K0j,M0j);d0j.plotLine(O0j,O0j,s0j,G0j,R0j,"segment",b0j,K0j,M0j);d0j.plotLine(j0j,O0j,T0j,T0j,R0j,"segment",b0j,K0j,A1M.extend(M0j,{opacity:this.name == "tirone"?0.2:1}));b0j.globalAlpha=0.1;b0j.beginPath();n4S.c3m(4);b0j.fillRect(j0j,s0j,n4S.i3m(O0j,j0j),n4S.i3m(G0j,s0j));if(this.name == "quadrant"){n4S.O3m(4);b0j.fillRect(j0j,W0j,n4S.i3m(O0j,j0j),n4S.i3m(r0j,W0j));}else if(this.name == "tirone"){n4S.O3m(4);b0j.fillRect(j0j,o0j,n4S.i3m(O0j,j0j),n4S.i3m(m0j,o0j));}b0j.globalAlpha=1;if(!this.highlighted){this.pixelX=[j0j,O0j];this.pixelY=[s0j,G0j,T0j];if(this.name === "quadrant"){this.pixelY.push(W0j,r0j);}if(this.name === "tirone"){this.pixelY.push(o0j,m0j);}}else {R5P="p";R5P+="0";N0j=this.highlighted == R5P?! !{}:!{};C0j=this.highlighted == "p1"?! !{}:! !0;this.littleCircle(b0j,j0j,T0j,N0j);this.littleCircle(b0j,O0j,T0j,C0j);}},intersected:function(A0j,Q0j,E0j){var v0j,F0j,D0j,F5P;var {pixelX:U0j, pixelY:x0j}=this;if(!U0j || !x0j){return null;}v0j=this.repositionIntersection(A0j,Q0j);if(v0j){return v0j;}for(var y0j=0;y0j < 2;y0j++){if(this.pointIntersection(U0j[y0j],x0j["2" & 2147483647],E0j,! ![])){n4S.c3m(2);this.highlighted=n4S.F3m((7830,505.34) !== 4620?"p":+"0x1f88",y0j);return {action:"drag",point:(927.2 != (2865,9070)?(6020,1078) !== (+"6680",685.75)?"p":+"8.22e+2":208.94) + y0j};}}F0j=[];U0j.forEach(z0j=>{n4S.J9S();F0j.push({p0:[z0j,x0j["0" & 2147483647]],p1:[z0j,x0j[+"1"]]});});x0j.forEach(l0j=>{F0j.push({p0:[U0j[0],l0j],p1:[U0j[1],l0j]});});n4S.J9S();D0j=F0j.some(({p0:H0j, p1:Y0j})=>{n4S.i9S();return this.lineIntersection(A0j,Q0j,E0j,this.name,H0j,Y0j,! !"1");});if(D0j){F5P="m";F5P+="o";F5P+="v";F5P+="e";this.highlighted=!"";return {action:F5P,p0:A1M.clone(this.p0),p1:A1M.clone(this.p1),tick:A0j,value:Q0j};}return null;},reconstruct:function(a0j,V0j){this.stx=a0j;this.color=V0j.col;this.fillColor=V0j.fc;this.panelName=V0j.pnl;this.pattern=V0j.ptrn;this.lineWidth=V0j.lw;this.d0=V0j.d0;this.d1=V0j.d1;this.tzo0=V0j.tzo0;this.tzo1=V0j.tzo1;this.field=V0j.fld;this.adjust();},serialize:function(){n4S.i9S();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});A1M.Drawing.tirone=function(){n4S.J9S();this.name="tirone";};A1M.inheritsFrom(A1M.Drawing.tirone,A1M.Drawing.quadrant);A1M.Drawing.elliottwave=function(){var i4y,X4y,E4y;this.name="elliottwave";i4y=1952081692;X4y=822476941;E4y=2;for(var T4y=1;n4S.P6y(T4y.toString(),T4y.toString().length,45145) !== i4y;T4y++){this.lastPoint=2;this.points=[];this.pts=[];this.dx=5;this.dy=!98;this.dragToDraw=! !"1";E4y+=2;}n4S.J9S();if(n4S.P6y(E4y.toString(),E4y.toString().length,76703) !== X4y){this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!"1";}this.annotationPoints=[];this.edit=null;};A1M.inheritsFrom(A1M.Drawing.elliottwave,A1M.Drawing.annotation);A1M.Drawing.elliottwave.defaultTemplate={impulse:["I","II",g5P,"IV","V"],corrective:["A","B",+"668.53" >= (5764,556.96)?(6875,4820) == "3830" >> 1802719520?(0x148c,1.96e+3):"C":(151.17,"g")],decoration:"enclosed",showLines:!""};A1M.Drawing.elliottwave.prototype.initializeSettings=function(L0j){n4S.J9S();L0j.currentVectorParameters.waveParameters=A1M.clone(A1M.Drawing.elliottwave.defaultTemplate);};A1M.Drawing.elliottwave.prototype.configs=[P5P,"lineWidth","lineColor","pattern",e5P,z5P];A1M.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]",x5P];A1M.Drawing.elliottwave.prototype.construct=function(i0j,e0j){var u0j;this.stx=i0j;this.panelName=e0j.name;u0j=i0j.currentVectorParameters;Object.assign(this,u0j.waveParameters);};A1M.Drawing.elliottwave.prototype.serialize=function(){var W5P,N5P,B0j,c5P,G5P;W5P="s";W5P+="z";N5P="s";n4S.J9S();N5P+="t";B0j={};for(var P0j="0" >> 1836047872;P0j < this.points.length;P0j++){c5P="t";c5P+="z";c5P+="o";G5P="t";G5P+="z";G5P+="o";n4S.c3m(2);B0j[n4S.i3m("d",P0j)]=this[n4S.F3m((3850,497.54) < (+"9880",7052)?3400 == (4609,932.54)?320:"d":(0x1159,! ![]),P0j)];n4S.O3m(2);B0j[n4S.i3m(G5P,P0j)]=this[n4S.F3m(c5P,P0j)];n4S.O3m(2);B0j[n4S.i3m(+"808" > (1080,9914)?("r",9.25e+3):(4300,2720) <= (250.29,82.13)?(! !0,"x"):"v",P0j)]=this[n4S.F3m("v",P0j)];}B0j.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:A1M.removeNullValues(A1M.replaceFields(this.font,{style:N5P,size:W5P,weight:"wt",family:"fl"}))},B0j);};A1M.Drawing.elliottwave.prototype.reconstruct=function(X0j,h0j){var o5P,Y5P;o5P="enclo";o5P+="sed";Y5P="siz";Y5P+="e";this.stx=X0j;this.color=h0j.col;this.panelName=h0j.pnl;this.pattern=h0j.ptrn;this.lineWidth=h0j.lw;this.font=A1M.replaceFields(h0j.fnt,{st:"style",sz:Y5P,wt:"weight",fl:"family"});this.decoration=h0j.decor;this.showLines=h0j.show;this.dx=h0j.dx;this.dy=h0j.dy;this.trend=h0j.trend;this.annotationPoints=h0j.annotations.split(5600 != +"9535"?4275 != 535?",":(9.51e+3,0x216a):0xbb7);if(h0j.decor === o5P){this.calculateRadius(X0j.chart.tempCanvas.context);}this.maxSegments=h0j.mxSeg;this.reconstructPoints(h0j);this.adjust();};A1M.Drawing.elliottwave.prototype.reconstructPoints=function(w0j){var J0j,H5P,n0j,S0j;J0j=this.stx.panels[this.panelName];if(!J0j){return;}for(var p0j=0;p0j < this.annotationPoints.length;p0j++){H5P="t";H5P+="z";H5P+="o";n4S.c3m(2);this[n4S.i3m("d",p0j)]=w0j[n4S.F3m(8560 != 461.38?"d":5.70e+2,p0j)];n4S.O3m(2);this[n4S.F3m(2710 === (+"376.23",374)?2854 != (722.61,8310)?0x17da:"L":"v",p0j)]=w0j[n4S.i3m((28,612.81) !== 979.25?"v":![],p0j)];n4S.O3m(2);this[n4S.F3m(H5P,p0j)]=w0j[n4S.i3m("tzo",p0j)];n0j=A1M.strToDateTime(w0j["d" + p0j]);S0j=this.stx.tickFromDate(n0j,J0j.chart);this.points.push([S0j,w0j[(3484 !== (+"5920",3334)?"v":315.09) + p0j]]);}};A1M.Drawing.elliottwave.prototype.calculateRadius=function(d8j){var I0j,K8j;this.getFontString();d8j.font=this.fontString;I0j=0;for(var f0j=0;f0j < this.annotationPoints.length;f0j++){K8j=d8j.measureText(this.annotationPoints[f0j]).width;if(I0j < K8j){I0j=K8j;}}this.enclosedRadius=I0j;};A1M.Drawing.elliottwave.prototype.check=function(Z8j,R8j,j8j){var b8j,O8j;if(j8j === 1 && this.points.length === 2){return ! !{};}n4S.c3m(4);b8j=this.points[n4S.i3m(j8j,1)];if(b8j && Z8j <= b8j[0]){return !"1";}n4S.c3m(2);O8j=this.points[n4S.F3m(j8j,1)];if(O8j && Z8j >= O8j[0]){return !{};}if(!t8j(this.points)){return ![];}n4S.J9S();function t8j(c8j){for(var M8j=2;M8j < c8j.length;M8j++){if(Math.sign(c8j[M8j][1] - c8j[M8j - 1][1]) == Math.sign(c8j[M8j - 1][1] - c8j[M8j - 2][+"1"])){return ![];}}return !"";}return ! !1;};A1M.Drawing.elliottwave.prototype.move=function(s8j,G8j,q8j){this.copyConfig();n4S.O3m(100);var D3o=n4S.i3m(11,5,1,4,17);n4S.J9S();this.points[this.lastPoint + D3o]=[G8j,q8j];this.render(s8j);};A1M.Drawing.elliottwave.prototype.adjust=function(){var o8j,T8j;o8j=this.stx.panels[this.panelName];if(!o8j){return;}n4S.J9S();for(var W8j=0;this.maxSegments + 1 > W8j;W8j++){n4S.c3m(2);T8j=this[n4S.i3m("d",W8j)];this.setPoint(W8j,T8j,this["v" + W8j],o8j.chart);this.points[W8j][0]=this.stx.tickFromDate(A1M.strToDateTime(T8j),o8j.chart);n4S.O3m(2);this.points[W8j][1]=this[n4S.F3m(3097 == (1430,7010)?("252.52" - 0,"i"):"v",W8j)];}};A1M.Drawing.elliottwave.prototype.click=function(g8j,m8j,r8j){var k8j,a5P;k8j=this.stx.panels[this.panelName];if(!k8j){return;}this.copyConfig();if(!this.penDown){a5P="en";a5P+="closed";this.setPoint(0,m8j,r8j,k8j.chart);this.points.push(this.p0);this.penDown=! ![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(5720 >= (163.84,3360)?"0":(+"419.85",899) != ("6900" | 4132,361.59)?+"0x108b":(659,3.73e+3));if(this.decoration === a5P){this.calculateRadius(g8j);}n4S.c3m(3);var J8o=n4S.i3m(3,15,13);this.maxSegments=this.annotationPoints.length - J8o;this.trend=1;return ![];}if(this.accidentalClick(m8j,r8j)){this.penDown=! !{};return !1;}if(this.check(m8j,r8j,this.lastPoint + ("1" ^ 0))){this.lastPoint++;this.setPoint(this.lastPoint,m8j,r8j,k8j.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !{};}}return ![];};A1M.Drawing.elliottwave.prototype.render=function(N8j){var U8j,a8j,B8j,h8j,X8j,L8j,i8j,y8j,F8j,u8j,A8j,x8j,n5P,C5P,A5P,v8j,D8j,Q8j,z8j,l8j,p8j,w8j,B5P,H8j,Y8j,E8j,e8j,P8j,J8j,V8j;U8j=this.stx.panels[this.panelName];if(!U8j){return;}a8j=this.stx;B8j=this.annotationPoints;h8j=this.pattern?A1M.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();N8j.font=this.fontString;N8j.textAlign="center";N8j.textBaseline="middle";N8j.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(N8j);}this.lastFontString=this.fontString;X8j=this.getLineColor();N8j.fillStyle=N8j.strokeStyle=X8j;N8j.save();N8j.setLineDash(h8j);L8j=this.dx;i8j=this.dy;y8j=this.points;F8j=this.pts;n4S.i9S();u8j=!this.showLines && this.highlighted;A8j=y8j.length;if(this.penDown && this.segment){n4S.c3m(101);var M8o=n4S.i3m(2378,17,5,16,12);x8j=this.trend * (A8j % M8o - 0.5) < 0;if(U8j.yAxis.flipped){x8j=!x8j;}this.drawDropZone(N8j,y8j[A8j - 2][1],this.stx.priceFromPixel(U8j.yAxis[x8j?"top":"bottom"]),y8j[A8j - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){n5P="b";n5P+="ottom";C5P="t";C5P+="o";C5P+="p";A5P="m";A5P+="a";A5P+="x";v8j=parseInt(this.highlighted.substring(+"1",this.highlighted.length),10);n4S.O3m(102);var q8o=n4S.i3m(1,5,6,1);x8j=this.trend * (v8j % q8o - 0.5) > 0;n4S.c3m(4);D8j=y8j[n4S.i3m(v8j,1)];n4S.c3m(2);Q8j=y8j[n4S.i3m(v8j,1)];z8j=v8j > 0?D8j[1]:Q8j[1];if(Q8j){z8j=Math[x8j?A5P:"min"](z8j,Q8j[1]);}if(U8j.yAxis.flipped){x8j=!x8j;}this.drawDropZone(N8j,z8j,this.stx.priceFromPixel(U8j.yAxis[x8j?C5P:n5P]),D8j?D8j[0]:null,Q8j?Q8j[0]:null);}for(var C8j=0;C8j < A8j;C8j++){l8j=y8j[C8j];p8j=a8j.pixelFromTick(l8j[0],U8j.chart);w8j=a8j.pixelFromValueAdjusted(U8j,l8j[0],l8j[1]);F8j[C8j]=[p8j,w8j];}C8j=0;if(this.showLines || u8j){N8j.beginPath();if(u8j){N8j.globalAlpha=0.3;}for(;C8j < F8j.length;C8j++){N8j.lineTo(F8j[C8j][0],F8j[C8j][1]);}N8j.stroke();C8j=0;}N8j.restore();for(;C8j < A8j;C8j++){B5P="par";B5P+="enthes";B5P+="e";B5P+="s";H8j=C8j % 2?L8j:-L8j;Y8j=C8j % 2?i8j:-i8j;H8j*=this.trend;Y8j*=this.trend;if(U8j.yAxis.flipped){H8j*=-1;Y8j*=- +"1";}E8j=F8j[C8j];n4S.c3m(21);e8j=E8j[n4S.F3m(380928384,"2")]=E8j[0] + H8j;n4S.c3m(4);var i8o=n4S.F3m(2,1);P8j=E8j[3]=E8j[i8o] + Y8j;J8j=this.enclosedRadius || 8;V8j=B8j[C8j];if(this.decoration === B5P){n4S.c3m(85);V8j=n4S.i3m(V8j,133.66 > (5010,23.92)?"(":(7360,8826) == (3140,8640)?(0x20b5,"266.50" - 0):104.72,(595.1,"7991" << 1365097984) != 3687?")":(8520,"405" & 2147483647) > ("1030" - 0,4785)?(6.97e+3,1.16e+3):4.83e+3);}N8j.fillText(V8j,e8j,P8j);if(this.decoration === "enclosed"){N8j.beginPath();N8j.arc(e8j,P8j,J8j,0,2 * Math.PI,![]);N8j.stroke();}if(this.highlighted){N8j.save();this.littleCircle(N8j,this.pts[C8j][0],this.pts[C8j][1],this.highlighted === "p" + C8j);N8j.restore();}}};A1M.Drawing.elliottwave.prototype.reposition=function(t6j,n8j,f8j,K6j){var Q5P,j6j,b6j,O6j,I8j,d6j,Z6j;Q5P="m";Q5P+="o";Q5P+="ve";if(!n8j){return;}j6j=this.stx.panels[this.panelName];b6j=n8j.tick - f8j;O6j=n8j.value - K6j;if(n8j.action === Q5P){for(var S8j=0;n8j.points.length > S8j;S8j++){I8j=n8j.points[S8j];this.setPoint(S8j,I8j[0] - b6j,I8j[1] - O6j,j6j.chart);n4S.O3m(4);var X8o=n4S.i3m(15,14);this.points[S8j]=[I8j[0] - b6j,I8j["1" | X8o] - O6j];}}if(n8j.action === "drag"){d6j=n8j.point;Z6j=this.points;Z6j[d6j]=[f8j,K6j];if(this.check(f8j,K6j,d6j)){this.setPoint(d6j,f8j,K6j,j6j.chart);;};}this.render(t6j);};A1M.Drawing.elliottwave.prototype.intersected=function(c6j,s6j,G6j){var q6j,K5P,M6j;if(!this.p0 || !this.p1){return null;}for(var R6j=0;this.points.length > R6j;R6j++){K5P="s";K5P+="eg";K5P+="me";K5P+="nt";M6j=this.points[R6j];if(this.pointIntersection(M6j[0],M6j[1],G6j)){n4S.c3m(2);this.highlighted=n4S.i3m((+"5250",8410) <= ("7778" >> 445107136,1280)?"D":"p",R6j);return {action:"drag",point:R6j,tick:c6j,value:s6j};}if(this.points[R6j + 1] && this.lineIntersection(c6j,s6j,G6j,K5P,M6j,this.points[R6j + 1])){this.highlighted=! !"1";q6j={action:"move",points:A1M.clone(this.points),tick:c6j,value:s6j};}}n4S.J9S();return q6j;};A1M.Drawing.elliottwave.prototype.measure=function(){var W6j,m6j,T6j,o6j;if(this.points.length >= "2" << 2136168704){W6j=this.points;this.stx.setMeasure(W6j[0][1],W6j[W6j.length - 1][+"1"],W6j[0][0],W6j[W6j.length - 1][0],! !{});m6j=this.stx.controls.mSticky;T6j=m6j && m6j.querySelector(".mStickyInterior");if(T6j){o6j=[];o6j.push(A1M.capitalize("Elliott Wave"));if(this.getYValue){o6j.push(this.field || this.stx.defaultPlotField || "Close");}o6j.push(T6j.innerHTML);T6j.innerHTML=o6j.join("<br>");}}};A1M.Drawing.printProjection=function(y6j,L6j,r6j){var g6j,N6j,l6j,F6j,H6j,A6j,Y6j,Q6j,x6j,D6j,U6j,V6j,z6j,E6j,k6j,a6j;g6j=L6j.arr;n4S.J9S();if(g6j.length > 1){N6j=g6j[0][0];l6j=Math.round(y6j.chart.maxTicks * 0.75);for(var C6j=1;C6j < g6j.length;C6j++){n4S.O3m(4);F6j=g6j[n4S.F3m(C6j,1)][0];H6j=g6j[C6j][0];A6j=A1M.strToDateTime(F6j);Y6j=A1M.strToDateTime(H6j).getTime();Q6j=y6j.standardMarketIterator(A6j);x6j=0;while(A6j.getTime() < Y6j){A6j=Q6j.next();x6j+=1;}D6j=A1M.strToDateTime(F6j).getTime();if(D6j > A1M.strToDateTime(r6j[r6j.length - 1].Date).getTime()){n4S.O3m(4);var E8o=n4S.F3m(10,9);U6j=r6j.length - E8o;x6j+=1;}else {for(U6j=r6j.length - +"1";U6j >= 0;U6j--){if(D6j <= A1M.strToDateTime(r6j[U6j].Date).getTime())break;}}V6j={x0:+"0",x1:x6j,y0:r6j[U6j].Close,y1:g6j[C6j]["1" | 0]};N6j=A1M.strToDateTime(F6j);Q6j=y6j.standardMarketIterator(N6j);z6j=!{};for(var v6j=0;v6j <= x6j;v6j++){if(!z6j){z6j=!0;}else {N6j=Q6j.next();}if(N6j.getTime() <= r6j[r6j.length - 1].DT.getTime())continue;E6j=A1M.yIntersection(V6j,v6j);if(!E6j){E6j=0;}n4S.c3m(4);var j8o=n4S.i3m(190000,180000);k6j=Math.round(E6j * +"10000") / j8o;if(k6j === "0" << 1777652608){k6j=g6j[C6j][1];}a6j={Date:A1M.yyyymmddhhmmssmmm(N6j),DT:N6j,Open:k6j,Close:k6j,High:k6j,Low:k6j,Volume:"0" - 0,Adj_Close:k6j,Split_Close:k6j,projection:! !{}};if(y6j.layout.interval == "minute")if(l6j-- < 0)break;r6j[r6j.length]=a6j;}}}};}};s9H=u6j=>{var h5P,i6j;h5P="unde";h5P+="fine";h5P+="d";i6j=typeof _CIQ !== h5P?_CIQ:u6j.CIQ;if(!i6j.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {i6j.formatEquation=function(w6j){var x5S=O7dd;var B6j,X6j,e6j,h6j,P6j;B6j="";X6j=[];e6j="";h6j=![];for(var p6j=1;p6j < w6j.length;p6j++){P6j=w6j[p6j];if(P6j == ((7080,8359) >= ("526.83" * 1,9630)?("S",! !"1"):(+"2110",613.36) <= 5058?"[":(0x2665,0x1dc7)) && !h6j){h6j=! !{};}else if(P6j == ((935.34,+"763.04") <= 6574?"]":148.2 != ("2640" - 0,7930)?(9.08e+2,213):("J",0x1597)) && h6j){h6j=![];if(e6j !== ""){X6j.push(e6j);x5S.c3m(85);B6j+=x5S.i3m(e6j,"[","]");}e6j="";}else if(h6j){e6j+=P6j;}else if(P6j == "+" || P6j == "-" || P6j == "*" || P6j == (3730 != (932.66,596)?2020 === (31.49,"5650" - 0)?!1:8600 === (1805,124.93)?(560.30,! ![]):"/":! !{}) || P6j == ":" || P6j == (347.22 <= (6520,3119)?"%":!"") || P6j == (367.29 >= 94.28?"(":(! !{},6.45e+3)) || P6j == (2071 != (+"258",4299)?")":(4.82e+3,!0))){if(e6j !== "" && isNaN(e6j)){X6j.push(e6j);x5S.c3m(85);B6j+=x5S.i3m(e6j,771 === (78,7880)?(705.59,"5.06e+3" | 4800):(8860,7195) !== 843.17?"[":+"669.67","]");}else {B6j+=e6j;}if(P6j == ":"){P6j=(1058,545.64) !== (9764,463.87)?"/":("2106" >> 1299798592,8610) !== "707.13" - 0?(4.42e+2,1.72e+3):(150.29,531.47);}B6j+=P6j;e6j="";}else if(P6j != (903.08 !== (+"2700",407.8)?" ":776.01 <= (2339,4130)?4.40e+3:(1.30e+3,0x655))){e6j+=P6j;}}if(e6j !== "" && isNaN(e6j)){X6j.push(e6j);x5S.O3m(85);B6j+=x5S.F3m(e6j,(245.09,9291) <= (2740,4838)?(5.30e+3,"7.00e+0" & 2147483647):"[",618.7 >= 4981?! !"":"]");}else {B6j+=e6j;}return {equation:B6j,symbols:X6j};};i6j.fetchEquationChart=function(J6j,j14){var I6j,f6j,K14,d14,S6j;I6j=i6j.formatEquation(J6j.symbol);f6j=I6j.symbols;O7dd.J9S();K14=[];d14=J6j.stx;J6j.stx=null;for(var n6j=0;n6j < f6j.length;n6j++){S6j=i6j.shallowClone(J6j);S6j.stx=d14;S6j.symbol=f6j[n6j];S6j.symbolObject={symbol:f6j[n6j]};K14.push(S6j);}J6j.stx=d14;d14.quoteDriver.multiFetch(K14,function(c14){var R14,b14,O14,Z14,s14;R14={};J6j.loadMoreReplace=!0;b14={charge:0};for(var t14=0;t14 < c14.length;t14++){O14=c14[t14];if(O14.dataCallback.error){j14({error:O14.dataCallback.error});return;}R14[O14.params.symbol]=O14.dataCallback.quotes;J6j.loadMoreReplace=J6j.loadMoreReplace && O14.params.loadMoreReplace;J6j.moreToLoad=J6j.moreToLoad || O14.dataCallback.moreAvailable;Z14=O14.dataCallback.attribution;if(Z14){if(Z14.charge){b14.charge+=Z14.charge;}b14.source=Z14.source;if(b14.exchange === undefined){b14.exchange=Z14.exchange;}else if(b14.exchange != Z14.exchange){b14.exchange="";};}}if(K14.length || !(J6j.loadMore || J6j.update)){try{s14=i6j.computeEquationChart(I6j.equation,R14);j14({quotes:s14,moreAvailable:J6j.moreToLoad,attribution:b14});}catch(G14){var M14;M14={error:"Invalid equation: " + I6j.equation};if(G14.name && G14.name == "NoException"){M14.suppressAlert=!"";}j14(M14);}}});};}};G9H=W14=>{var q14;q14=typeof _CIQ !== "undefined"?_CIQ:W14.CIQ;if(!q14.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!q14.Marker.Performance){q14.ChartEngine.prototype.removeDOMMarker=function(o14){O7dd.J9S();var r5P;r5P="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#";r5P+="remove instead.";console.warn(r5P);q14.Marker.Performance.prototype.removeDOMMarker.call(o14.params.node,o14);};q14.ChartEngine.prototype.drawMarkers=function(){var f5P;f5P="CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Perfor";f5P+="mance.drawMarkers instead.";console.warn(f5P);q14.Marker.Performance.drawMarkers(this);};q14.ChartEngine.prototype.calculateMarkerStyles=function(T14,m14){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");q14.Marker.Performance.calculateMarkerStyles(this,T14,m14);};q14.ChartEngine.prototype.drawCircleMarker=function(r14,k14,g14){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");q14.Marker.Performance.drawCircleMarker(r14,k14,g14);};q14.ChartEngine.prototype.drawSquareMarker=function(N14,C14,U14){var d5P;d5P="CIQ.ChartEngine#drawSquareMarker is scheduled ";d5P+="for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.";console.warn(d5P);O7dd.J9S();q14.Marker.Performance.drawSquareMarker(N14,C14,U14);};q14.ChartEngine.prototype.drawCalloutMarker=function(x14,y14,F14){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");O7dd.J9S();q14.Marker.Performance.drawCalloutMarker(x14,y14,F14);};q14.ChartEngine.prototype.drawMarkerStem=function(A14,Q14,v14){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");q14.Marker.Performance.drawMarkerStem(A14,Q14,v14);};q14.ChartEngine.prototype.positionDOMMarkers=function(){O7dd.i9S();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");q14.Marker.Performance.drawMarkers(this);};q14.Marker.Performance=function(z14){var s5P,y5P,V5P,D14,E14,H14,V14,l14,Y14,a14,u5P,L14;s5P="c";s5P+="allo";s5P+="u";s5P+="t";y5P="h";y5P+="4";V5P="<div c";V5P+="l";V5P+="ass=\"stx-vis";V5P+="ual\">";this.params={displayCategory:! !1,displayStem:! !1,invert:! !"",story:"",headline:""};q14.extend(this.params,z14);D14=this.template=document.createElement("TEMPLATE");O7dd.c3m(103);D14.innerHTML=O7dd.i3m('<div class="stx-marker-content">','<div class="stx-stem"></div>',"</div>","</div>","</div>",V5P,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker highlight">');E14=this.template.content.cloneNode(! ![]);H14=E14.querySelector(".stx-marker",D14);H14.classList.add(z14.type);H14.classList.add(z14.category);V14=E14.querySelector(".stx-visual",D14);l14=E14.querySelector(".stx-marker-expand");Y14=E14.querySelector(y5P,D14);a14=E14.querySelector(+"759.06" < (+"789.4",970.8)?"p":(123.15,! !{}),D14);Y14.innerText=this.params.headline;a14.innerText=this.params.story;this.hasText=! !z14.headline || ! !z14.story;this.deferAttach=! !1;this.node=E14.firstChild;this.node.params=this.params;this.visual=V14;this.expand=l14;if(z14.type === s5P){u5P=".stx-m";u5P+="arker-c";u5P+="on";u5P+="tent";L14=l14.removeChild(Y14);E14.querySelector(u5P,D14).insertBefore(L14,l14);}};q14.inheritsFrom(q14.Marker.Performance,q14.Marker.NodeCreator,![]);q14.Marker.Performance.consolidateExpanded=function(X14){var m5S=O7dd;var i14,u14,B14,S5P,P14,h14;i14=X14.markerHelper.highlighted;if(!i14.length){return;}m5S.O3m(40);var T8o=m5S.i3m(11,4,16);u14=i14[i14.length - "1" * T8o];B14=u14.params.node;if(!u14.consolidated){u14.consolidated=[];}for(var e14=i14.length - +"2";e14 >= 0;e14--){S5P="<con";S5P+="soli";S5P+="date";S5P+="d>";P14=p14(i14[e14]);m5S.O3m(85);h14=m5S.F3m(P14,S5P,"</consolidated>");if(P14.length){B14.expand.innerHTML+=h14;}}u14.stxNodeCreator.quickCache(u14);m5S.J9S();function p14(S14){var J14,w14,n14;J14=S14.params.node;w14=J14.expand;if(!w14){return "";}n14=w14.style.display !== "none"?w14.innerHTML:"";return n14;}};q14.Marker.Performance.reconstituteExpanded=function(d34){var I14,S8y,L8y,v8y,j34,b34,K34;I14=d34.markerHelper.highlighted;S8y=-99399159;L8y=-1354094624;v8y=2;for(var U8y=+"1";O7dd.F6y(U8y.toString(),U8y.toString().length,28126) !== S8y;U8y++){if(~I14.length && -d34.activeMarker){return;}v8y+=2;}if(O7dd.F6y(v8y.toString(),v8y.toString().length,"63220" & 2147483647) !== L8y){if(!I14.length || !d34.activeMarker){return;}}I14=[d34.activeMarker];for(var f14=I14.length - 1;f14 >= 0;f14--){j34=I14[f14];b34=j34.params.node;K34=b34.expand;while(K34.lastElementChild.nodeName === "CONSOLIDATED"){K34.removeChild(K34.lastElementChild);}}};q14.Marker.Performance.drawMarkers=function(c34){var M34,O34,t34,R34,s34,G34;M34=c34.getMarkerArray("all");O34=c34.chart;for(var Z34=0;Z34 < M34.length;Z34++){t34=M34[Z34];R34=t34.stxNodeCreator;s34=O34.dataSegment[0].tick;G34=O34.dataSegment[O34.dataSegment.length - 1].tick;if(s34 <= t34.tick <= G34){if(R34 && R34.drawMarker){R34.drawMarker(t34);}}}};q14.Marker.Performance.calculateMarkerStyles=function(W34,o34,r34){var L5P,q34,v5P,T34,p5P,m34;L5P=".stx-marker-templa";L5P+="tes";q34=document.querySelector(L5P);if(!q34){v5P="D";v5P+="I";v5P+="V";q34=document.createElement(v5P);q34.style.visibility="hidden";q34.style.left="-1000px";document.body.append(q34);}q34.appendChild(o34.node);T34=getComputedStyle(o34.stxNodeCreator.visual);if(!W34.styles.stx_marker_stem){p5P=".stx";p5P+="-st";p5P+="em";m34=getComputedStyle(document.querySelector(p5P,o34.node));W34.styles.stx_marker_stem=W34.cloneStyle(m34);}W34.styles[r34]=W34.cloneStyle(T34);q34.removeChild(o34.node);};q14.Marker.Performance.drawCircleMarker=function(U34,v34,g34){var U5P,A34,Q34,k34,N34,C34,x34,y34,F34,O5P;U5P="normal bold 12px Roboto, Helvetica, sans-s";U5P+="erif";A34=U34.params.stx;Q34=A34.chart;k34=Q34.context;N34=g34.x;C34=g34.y;x34=g34.radius;y34=g34.label;F34=g34.color?g34.color:v34.backgroundColor;k34.beginPath();k34.setLineDash([]);k34.lineWidth=1;k34.fillStyle=F34;k34.strokeStyle=F34;k34.font=U5P;k34.arc(N34,C34,x34,+"0",2 * Math.PI,!{});k34.fill();k34.stroke();k34.closePath();if(y34){O5P="w";O5P+="hi";O5P+="t";O5P+="e";k34.fillStyle=q14.colorsEqual("white",k34.fillStyle)?"black":O5P;k34.fillText(y34.charAt(0).toUpperCase(),N34 - 4,C34 + 1);}if(U34.highlight || U34.active){k34.beginPath();O7dd.O3m(2);k34.arc(N34,C34,O7dd.F3m(x34,4),0,("2" & 2147483647) * Math.PI,!{});k34.stroke();k34.closePath();}};q14.Marker.Performance.drawSquareMarker=function(V34,e34,D34){var a5S=O7dd;a5S.i9S();var i34,u34,E34,H34,Y34,z34,a34,L34,l34;i34=V34.params.stx;u34=i34.chart;E34=u34.context;H34=D34.x;Y34=D34.y;z34=D34.half;a34=D34.label;L34=D34.color?D34.color:e34.backgroundColor;a5S.c3m(6);l34=a5S.F3m(z34,2);E34.beginPath();E34.setLineDash([]);E34.lineWidth=1;E34.fillStyle=L34;E34.strokeStyle=L34;E34.font="normal bold 12px Roboto, Helvetica, sans-serif";a5S.O3m(4);E34.rect(a5S.F3m(H34,z34),a5S.F3m(Y34,z34),l34,l34);E34.fill();if(V34.highlight || V34.active){a5S.O3m(12);E34.rect(a5S.i3m(4,z34,H34),a5S.F3m(4,z34,Y34,a5S.O3m(12)),a5S.F3m(l34,8,a5S.c3m(2)),a5S.F3m(l34,8,a5S.O3m(2)));}E34.stroke();E34.closePath();if(a34){E34.fillStyle=q14.colorsEqual("white",E34.fillStyle)?"black":"white";E34.fillText(a34.charAt(+"0").toUpperCase(),H34 - ("4" & 2147483647),Y34 + 1);}};q14.Marker.Performance.drawCalloutMarker=function(X34,O74,B34){var d74,j74,P34,h34,Z74,w34,J34,n34,S34,I34,b74,p34,f34,K74;d74=X34.params.stx;j74=d74.chart;P34=j74.context;h34=X34.params;Z74=B34.x;w34=B34.y;J34=B34.half;n34=B34.midWidth;S34=B34.headline;I34=B34.color?B34.color:O74.backgroundColor;b74=J34 * 2 || 25;p34=Math.round(P34.measureText(S34).width);f34=n34?n34 * 2:p34 + 8;P34.beginPath();P34.setLineDash([]);P34.lineWidth=1;P34.fillStyle=I34;P34.strokeStyle=I34;P34.font="normal bold 12px Roboto, Helvetica, sans-serif";P34.rect(h34.box.x0,h34.box.y0,f34,b74);P34.fill();P34.stroke();P34.closePath();P34.beginPath();P34.fillStyle=X34.highlight || X34.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";O7dd.c3m(104);K74=O7dd.F3m(p34,f34,"2","20");P34.rect(h34.box.x0 + K74,w34 - J34,p34 + ("40" >> 566366816),"22" ^ 0);O7dd.i9S();P34.fill();P34.stroke();P34.closePath();P34.fillStyle="black";P34.fillText(S34,h34.box.x0 + K74 + 10,w34);};q14.Marker.Performance.drawMarkerStem=function(R74,G74,M74){var q74,W74,t74,c74,m74,s74,o74,T74;q74=R74.params.stx;W74=q74.chart;t74=W74.context;c74=M74.x;m74=M74.y;t74.beginPath();t74.strokeStyle=G74.borderLeftColor;t74.setLineDash([1,1]);s74=q14.stripPX(G74.height);o74=M74.invert?R74.params.box.y0:R74.params.box.y1;T74=M74.invert?R74.params.box.y0 - s74:R74.params.box.y1 + s74;t74.moveTo(c74,o74);t74.lineTo(c74,T74);t74.stroke();t74.closePath();};q14.Marker.Performance.prototype.drawMarker=function(r74){var U5S=O7dd;U5S.J9S();var t5P,b5P,I5P,v74,g74,V74,a74,l74,N74,y74,F74,L74,H74,E74,Y74,D74,C74,z74,k74,A74,Q74,i74,u74,U74,x74;t5P="c";t5P+="a";t5P+="llout";b5P="s";b5P+="q";b5P+="ua";b5P+="re";I5P="st";I5P+="x_mar";I5P+="ker_";v74=r74.params;g74=r74.params.stx;if(!g74){return;}V74=g74.chart;a74=V74.dataSegment;if(!a74.length){return;}l74=g74.panels[r74.params.panelName];N74=r74.stxNodeCreator.params;y74=N74.type;F74=N74.category;L74=N74.headline;H74=N74.displayCategory;E74=N74.color;Y74=N74.invert;U5S.c3m(105);D74=U5S.i3m(y74,F74,I5P,9860 === +"3520"?!"1":7180 > 7630?!1:"_");if(!g74.styles[D74]){q14.Marker.Performance.calculateMarkerStyles(g74,r74,D74);}C74=r74.style=g74.styles[D74];z74=g74.styles.stx_marker_stem;U5S.O3m(42);var k8o=U5S.F3m(21,12,1,1);U5S.O3m(8);var m8o=U5S.F3m(1,19,20);k74=parseInt(C74.height,k8o) / m8o;U5S.O3m(2);var l8o=U5S.F3m(3,7);U5S.c3m(3);var R8o=U5S.F3m(17,16,1);A74=parseInt(C74.width,l8o) / R8o;Q74=N74.displayStem?parseInt(z74.height,10) + parseInt(z74.marginBottom,+"10"):0;U5S.c3m(106);var F8o=U5S.F3m(4,3760999756,12,7,1253666606);i74=Q74 + parseInt(C74.height,"10" << F8o);u74=Q74?Q74 + k74:0;U74=g74.pixelFromDate(v74.x);x74=v74.node.calculateYPosition({marker:r74,panel:l74,height:i74,half:k74,offset:u74,inverted:Y74});if(!r74.tick && r74.tick !== 0){return;}v74.box={x0:U74 - (A74 || k74),y0:x74 - k74,x1:U74 + (A74 || k74),y1:x74 + k74,midY:k74,midX:A74 || k74,stemHeight:Q74};if(!H74){F74=H74;}g74.startClip(l74.name);if(y74 === "circle"){q14.Marker.Performance.drawCircleMarker(r74,C74,{x:U74,y:x74,radius:k74,label:F74,color:E74});}else if(y74 === b5P){q14.Marker.Performance.drawSquareMarker(r74,C74,{x:U74,y:x74,half:k74,label:F74,color:E74});}else if(y74 === t5P){q14.Marker.Performance.drawCalloutMarker(r74,C74,{x:U74,y:x74,half:k74,midWidth:A74,headline:L74,color:E74});}else {U5S.O3m(85);console.warn(U5S.i3m(y74,"Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}if(N74.displayStem){q14.Marker.Performance.drawMarkerStem(r74,z74,{x:U74,y:x74,invert:Y74});}g74.endClip();if(r74.attached){this.positionPopUpNode(r74);}};q14.Marker.Performance.prototype.positionPopUpNode=function(P74){var C5S=O7dd;var w5P,J74,h74,e74,n74,p74,B74,S74,j24,b24,O24,Z24,I74,X74,d24,f74,w74,K24,t24;w5P="px) trans";w5P+="lateY(";if(!P74.attached || !P74.params.box){return;}J74=P74.params;h74=J74.stx;e74=J74.box;n74=P74.params.node.expand;p74=h74.chart.dataSet;B74=h74.chart.dataSegment;if(P74.tick){j24=[p74[B74[0] && B74[0].tick - 1],p74[B74[0] && B74[0].tick - 2]];b24=h74.getFirstLastDataRecord(j24.concat(B74),"Date");C5S.O3m(32);var g8o=C5S.i3m(4,1,5);C5S.O3m(8);var P8o=C5S.i3m(20,39,20);O24=[p74[B74[B74.length - +"1"].tick + g8o],p74[B74[B74.length - P8o].tick + +"2"]];Z24=h74.getFirstLastDataRecord(B74.concat(O24),"Date",! !{});S74=b24.DT <= p74[P74.tick].DT && p74[P74.tick].DT <= Z24.DT;}else {S74=!1;}if(!P74.highlight && !P74.active){S74=![];}n74.style.visibility=S74?"":"hidden";if(!S74){return;}I74=h74.panels[J74.panelName];X74=n74.rects;C5S.O3m(4);var e8o=C5S.i3m(4,2);d24=X74.height / e8o;w74=P74.node.params.infoOffset || 0;if(P74.node.params.infoOnLeft){f74=e74.x0 - X74.width - w74 < I74.left?e74.x1 + w74:e74.x0 - X74.width - w74;}else {f74=e74.x0 + X74.width > I74.right?e74.x0 - X74.width - w74:e74.x1 + w74;}f74-=h74.chart.left;K24=e74.y0 - d24 >= I74.top?e74.y0 + e74.midY - d24:e74.y0;C5S.i9S();if(!J74.avoidFlush && e74.y1 + e74.stemHeight === I74.yAxis.bottom && X74.height > e74.y1 - e74.y0 + e74.stemHeight){K24=e74.y1 - X74.height + e74.stemHeight;}K24-=h74.chart.panel.top;t24="translateX(" + Math.floor(f74) + w5P + Math.floor(K24) + "px) translateZ(0)";n74.style.transform=t24;n74.transform={translateX:f74,translateY:K24};};q14.Marker.Performance.prototype.quickCache=function(c24){var s24,R24,M24,G24;s24=c24.params.node;R24=s24.expand;M24=c24.style;G24=q14.stripPX(M24.marginLeft) + q14.stripPX(M24.marginRight) + q14.stripPX(M24.borderRight) + q14.stripPX(M24.borderLeft);R24.rects=R24.getBoundingClientRect();O7dd.i9S();R24.scrollBarWidth=R24.rects.width - R24.clientWidth - G24;};q14.Marker.Performance.prototype.calculateYPosition=function(k24){var k8S=O7dd;var D5P,Z5P,r24,W24,C24,g24,m24,U24,d8y,V8y,y8y,o24,x24,y24,T24,N24,F24,q24,A24,Q24;D5P="t";D5P+="o";D5P+="p";Z5P="on";Z5P+="_";Z5P+="candle";r24=k24.marker;W24=k24.panel;C24=k24.height;g24=k24.half;m24=k24.offset;U24=k24.inverted;d8y=-2039786976;V8y=-343911899;y8y=2;for(var u8y=+"1";k8S.F6y(u8y.toString(),u8y.toString().length,"82427" - 0) !== d8y;u8y++){o24=r24.params.stx;x24=o24.chart;y24=o24.chart.highLowBars;y8y+=2;}if(k8S.F6y(y8y.toString(),y8y.toString().length,37070) !== V8y){o24=r24.params.stx;x24=o24.chart;y24=o24.chart.highLowBars;}T24=x24.dataSet[r24.tick];if(!T24){return;}N24=y24?T24.High:T24.Close;F24=r24.params.yPositioner;switch(F24){case "value":if(r24.params.y || r24.params.y === 0){q24=o24.pixelFromPrice(r24.params.y,W24) - C24 * 0.5 + g24;}else {q24=o24.pixelFromPrice(N24,W24) - m24;}break;case "above_candle":q24=o24.pixelFromPrice(N24,W24) - m24;break;case "below_candle":q24=o24.pixelFromPrice(T24.Low || N24,W24);if(U24 && m24){q24+=m24;}else {q24+=g24;}break;case Z5P:(A24=T24.High || T24.Close,Q24=T24.Low || T24.Low === 0 || T24.Close);k8S.c3m(107);var z8o=k8S.i3m(4,4,1,0);q24=o24.pixelFromPrice((A24 + Q24) / z8o,W24) - C24 * 0.5 + g24;break;case D5P:q24=o24.pixelFromPrice(W24.yAxis.high,W24);if(U24 && m24){q24+=m24;}else {q24+=g24;}break;case "bottom":q24=o24.pixelFromPrice(W24.yAxis.low,W24) - (m24 || g24);break;default:break;}return q24;};q14.Marker.Performance.prototype.prepareForHolder=function(E24){var v24,D24;v24=this.expand;O7dd.J9S();D24=E24.params.stx;v24.classList.add(this.params.type);D24.markerHelper.domMarkers.push(E24);return v24;};q14.Marker.Performance.prototype.addToHolder=function(H24){var l24,z24;l24=this.expand;z24=H24.params.stx;q14.Marker.Performance.reconstituteExpanded(z24);q14.Marker.Performance.consolidateExpanded(z24);this.quickCache(H24);function Y24(V24){var q9y,i9y,X9y;z24.activeMarker=H24;z24.activeMarker.click({cx:V24.clientX,cy:V24.clientY,panel:z24.currentPanel});q9y=332951685;i9y=253006346;X9y=+"2";for(var j9y=1;O7dd.P6y(j9y.toString(),j9y.toString().length,61200) !== q9y;j9y++){V24.stopPropagation();X9y+=+"2";}if(O7dd.F6y(X9y.toString(),X9y.toString().length,"5936" ^ 0) !== i9y){V24.stopPropagation();}}if(l24.clickClosure){return;}l24.addEventListener("mousedown",Y24);l24.addEventListener("touchstart",Y24,{passive:! !0});l24.clickClosure=Y24;};q14.Marker.Performance.prototype.remove=function(L24){var a24,u24,e24,i24;a24=L24.params.stx;if(!a24){return;}if(!a24.markerHelper.domMarkers){return;}u24=a24.markerHelper.domMarkers.indexOf(L24);O7dd.J9S();if(u24 != -1){a24.markerHelper.domMarkers.splice(u24,1);}if(L24.attached){e24=a24.panels[L24.params.panelName];i24=L24.params.node.expand;if(i24.parentNode === e24.subholder){e24.subholder.removeChild(i24);}i24.removeEventListener("click",i24.clickClosure);}};q14.Marker.Performance.prototype.click=function(p24){var h24,w24,B24;if(!this.hasText){return;}if(typeof arguments[0] === "number"){p24={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[+"3"]};}var {cx:X24, cy:J24, marker:P24, panel:n24}=p24;h24=P24.params.stx;if(P24.attached){B24=this.expand;if(B24.rects.width - B24.scrollBarWidth + B24.transform.translateX < h24.backOutX(X24) && h24.backOutX(X24) < B24.rects.width + B24.transform.translateX){return;}this.remove(P24);}else {h24.addToHolder(P24);w24=! !1;}P24.attached=!P24.attached;P24.active=!P24.active;if(w24){P24.stxNodeCreator.positionPopUpNode(P24);}};}};q9H=I24=>{var J6P,S24;J6P="und";J6P+="ef";J6P+="ine";J6P+="d";S24=typeof _CIQ !== J6P?_CIQ:I24.CIQ;S24.Renderer.OHLC.requestNew=function(M94,f24){var K94,j94,b94,O94,Z94,t94,q6P,M6P,R94;K94=null;j94=f24.hlc;b94=f24.colored;O94=f24.hollow;Z94=f24.volume;t94=f24.histogram;for(var d94=+"0";d94 < M94.length;d94++){q6P="h";q6P+="l";q6P+="c";M6P="co";M6P+="lored";R94=M94[d94];switch(R94){case "bar":case "candle":K94=R94;break;case "volume":Z94=!"";break;case "hollow":O94=! ![];break;case M6P:b94=! !{};break;case "histogram":t94=! ![];K94="candle";break;case q6P:j94=! !{};K94="bar";break;default:return null;}}if(K94 === null){return null;}return new S24.Renderer.OHLC({params:S24.extend(f24,{type:K94,hlc:j94,colored:b94,hollow:O94,volume:Z94,histogram:t94})});};S24.Renderer.OHLC.getChartParts=function(m94,T94){var u6P,s6P,y6P,V6P,d6P,f6P,r6P,h6P,K6P,Q6P,B6P,n6P,C6P,A6P,a6P,H6P,o6P,Y6P,W6P,N6P,c6P,G6P,x6P,z6P,e6P,P6P,g6P,F6P,R6P,l6P,m6P,k6P,T6P,j6P,E6P,X6P,i6P,G94,q94,W94,c94,s94,o94;u6P="border";u6P+="_";u6P+="color_";u6P+="even";s6P="fill_color_";s6P+="even";y6P="stx_h";y6P+="ol";y6P+="l";y6P+="ow_candle_even";V6P="b";V6P+="ord";V6P+="er_co";V6P+="lor_down";d6P="ho";d6P+="l";d6P+="l";d6P+="ow";f6P="fi";f6P+="l";f6P+="l_color_u";f6P+="p";r6P="stx";r6P+="_holl";r6P+="ow_candle_up";h6P="ca";h6P+="n";h6P+="dl";h6P+="e";K6P="border";K6P+="_color";K6P+="_e";K6P+="ven";Q6P="stx_ho";Q6P+="ll";Q6P+="ow_candle_ev";Q6P+="en";B6P="c";B6P+="an";B6P+="dle";n6P="fill_c";n6P+="olor_up";C6P="b";C6P+="order_c";C6P+="olor_down";A6P="hollo";A6P+="w";a6P="bo";a6P+="rder_color_";a6P+="up";H6P="s";H6P+="ha";H6P+="d";H6P+="ow";o6P="b";o6P+="order_";o6P+="col";o6P+="or_up";Y6P="can";Y6P+="dl";Y6P+="e";W6P="border_c";W6P+="olor_";W6P+="eve";W6P+="n";N6P="sha";N6P+="do";N6P+="w";c6P="stx_candle_shadow";c6P+="_down";G6P="cand";G6P+="le";x6P="border_c";x6P+="o";x6P+="lo";x6P+="r_up";z6P="s";z6P+="h";z6P+="ad";z6P+="ow";e6P="s";e6P+="had";e6P+="ow";P6P="c";P6P+="andl";P6P+="e";g6P="stx_b";g6P+="ar_";g6P+="ev";g6P+="en";F6P="b";F6P+="a";F6P+="r";R6P="bo";R6P+="rd";R6P+="er_col";R6P+="or";l6P="b";l6P+="a";l6P+="r";m6P="border_c";m6P+="olo";m6P+="r_even";k6P="histo";k6P+="gr";k6P+="am";T6P="b";T6P+="o";T6P+="rder_color_down";j6P="fill_colo";j6P+="r_d";j6P+="own";E6P="hist";E6P+="o";E6P+="gram";X6P="h";X6P+="is";X6P+="togra";X6P+="m";i6P="fi";i6P+="ll_col";i6P+="o";i6P+="r_up";O7dd.c3m(6);G94=O7dd.F3m("1",1);q94=2;W94=4;c94=8;s94=+"16";o94=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:c94,fill:i6P,border:"border_color_up",useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:X6P,drawType:E6P,style:"stx_histogram_down",condition:s94,fill:j6P,border:T6P,useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"histogram",drawType:k6P,style:"stx_histogram_even",condition:o94,fill:"fill_color_even",border:m6P,skipIfPass:! ![],useColorInMap:! ![],useBorderStyleProp:! !{}},{type:l6P,drawType:"bar",style:m94 || "stx_bar_chart",border:R6P,useColorInMap:!""},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:T94?c94:G94,border:"border_color_up",useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:T94?s94:q94,border:"border_color_down",useColorInMap:! !1},{type:"bar",drawType:F6P,style:g6P,condition:T94?o94:W94,border:"border_color_even",skipIfPass:! !{},useColorInMap:! ![]},{type:P6P,drawType:e6P,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:z6P,style:"stx_candle_shadow_up",condition:c94,border:x6P},{type:G6P,drawType:"shadow",style:c6P,condition:s94,border:"border_color_down"},{type:"candle",drawType:N6P,style:"stx_candle_shadow_even",condition:o94,border:W6P,skipIfPass:! !1},{type:"candle",drawType:Y6P,style:"stx_candle_up",condition:c94,fill:"fill_color_up",border:o6P,useColorInMap:! !1,useBorderStyleProp:! ![]},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:s94,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:!""},{type:"hollow",drawType:H6P,style:"stx_hollow_candle_up",condition:G94,border:a6P},{type:A6P,drawType:"shadow",style:"stx_hollow_candle_down",condition:q94,border:C6P},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:W94,border:"border_color_even",skipIfPass:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:G94 | s94,fill:n6P,border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:q94 | s94,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![]},{type:"hollow",drawType:B6P,style:Q6P,condition:W94 | s94,fill:"fill_color_even",border:K6P,skipIfPass:! !1,useColorInMap:! !{}},{type:"hollow",drawType:h6P,style:r6P,condition:G94 | c94,fill:f6P,border:"border_color_up"},{type:d6P,drawType:"candle",style:"stx_hollow_candle_down",condition:q94 | c94,fill:"fill_color_down",border:V6P},{type:"hollow",drawType:"candle",style:y6P,condition:W94 | c94,fill:s6P,border:u6P}];;};S24.Renderer.Bars=function(k94){var r94;this.construct(k94);r94=this.params;r94.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};r94.hlc=r94.volume=r94.hollow=r94.histogram=!"1";};S24.inheritsFrom(S24.Renderer.Bars,S24.Renderer.OHLC,!{});S24.Renderer.HLC=function(N94){var g94;this.construct(N94);g94=this.params;g94.type="bar";g94.hlc=! ![];this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];g94.volume=g94.hollow=g94.histogram=! !0;};S24.inheritsFrom(S24.Renderer.HLC,S24.Renderer.Bars,!{});S24.Renderer.Shading=function(C94){this.construct(C94);this.beenSetup=!"1";this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=!"";}};S24.inheritsFrom(S24.Renderer.Shading,S24.Renderer.Lines,![]);S24.Renderer.Shading.requestNew=function(A94,Q94){var U94,y94,F94;U94=null;O7dd.J9S();y94=null;for(var x94=0;x94 < A94.length;x94++){F94=A94[x94];if(F94 == "rangechannel"){U94="rangechannel";}else if(F94 == "step"){y94=! !{};}}if(U94 === null){return null;}return new S24.Renderer.Shading({params:S24.extend(Q94,{type:U94,step:y94})});};S24.Renderer.Shading.prototype.setShading=function(v94){if(v94.constructor != Array){v94=[v94];}this.shading=v94;};S24.Renderer.Shading.prototype.draw=function(){var p6P,l94,E94,H94,v6P,L6P,S6P,h94,V94,X94,i94,p94,Y94,z94,u94,e94,w94,U6P,D94,L94,P94,B94,a94;p6P="r";p6P+="an";p6P+="gechannel";l94=this.stx;E94=this.params;H94=l94.panels[E94.panel].chart;O7dd.J9S();if(E94.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {v6P="s";v6P+="tx_lin";v6P+="e_";v6P+="up";L6P="Sha";L6P+="ding";S6P="H";S6P+="igh";this.beenSetup=! !{};E94.display=this.seriesParams[0].display;E94.yAxis=this.seriesParams[0].yAxis;h94=this.seriesParams["0" | 0].color || "auto";V94=this.seriesParams[0].symbol;X94="";if(V94){O7dd.O3m(2);X94=O7dd.i3m(V94,".");}this.removeAllSeries(! !{});i94=E94.name;l94.addSeries(null,{symbol:V94,loadData:! !V94,field:S6P,renderer:L6P,name:i94,style:v6P,display:E94.display,shareYAxis:! ![]});l94.addSeries(null,{symbol:V94,loadData:! !V94,field:"Low",renderer:"Shading",name:i94,style:"stx_line_down",display:E94.display,shareYAxis:! !"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[+"1"].id,color:h94});}}function J94(I94){var n94,f94,S94;n94=Y94[I94];if(n94){f94=n94.parameters.field;S94=n94.parameters.subField;O7dd.O3m(2);return O7dd.F3m(f94,S94?"." + S94:"");}O7dd.J9S();return I94;}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");p94=this;this.errTimeout=setTimeout(function(){p94.errTimeout=null;},10000);}}Y94={};for(z94=0;z94 < this.seriesParams.length;z94++){u94={};if(H94.series[this.seriesParams[z94].id]){u94=S24.clone(H94.series[this.seriesParams[z94].id].parameters);}Y94[this.seriesParams[z94].id]={parameters:S24.extend(S24.extend(u94,E94),this.seriesParams[z94]),yValueCache:this.caches[this.seriesParams[z94].id]};}l94.drawSeries(H94,Y94,E94.yAxis,this);if(H94.legend && E94.type == p6P){if(!H94.legend.colorMap){H94.legend.colorMap={};}e94=E94.display;w94=[l94.getCanvasColor("stx_line_up"),l94.getCanvasColor("stx_line_down")];H94.legend.colorMap[e94]={color:w94,display:e94,isBase:this == l94.mainSeriesRenderer};;}for(z94 in Y94){this.caches[z94]=Y94[z94].yValueCache;}for(z94=0;z94 < this.shading.length;z94++){U6P="au";U6P+="t";U6P+="o";D94=this.shading[z94];L94=D94.color;if(D94.color == U6P){L94=l94.defaultColor;}if(!D94.primary){D94.primary="Close";}if(!D94.secondary && this.seriesParams[0]){D94.secondary=this.seriesParams[0].field;}if(!D94.secondary)continue;else if(!Y94[D94.primary] && D94.primary != "Close")continue;else if(!Y94[D94.secondary])continue;else if(D94.primary == "Close" && E94.yAxis && E94.yAxis != H94.yAxis)continue;P94=J94(D94.primary).split(("2089" ^ 0,3901) != +"844.77"?".":!"");B94=J94(D94.secondary).split(".");a94={topBand:P94[0],topSubBand:P94[1],topColor:D94.greater || L94 || l94.containerColor,topAxis:E94.yAxis,bottomBand:B94[0],bottomSubBand:B94[1],bottomColor:D94.lesser || L94 || l94.containerColor,bottomAxis:D94.primary == "Close"?null:E94.yAxis,tension:E94.tension || H94.tension,opacity:0.1,step:E94.step};if(!a94.topColor && !a94.bottomColor)continue;if(!E94.highlight && l94.highlightedDraggable){a94.opacity*=0.3;}S24.fillIntersecting(l94,E94.panel,a94);}};S24.Renderer.Histogram=function(K44){this.construct(K44);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! ![];if(this.params.yAxis){this.params.bindToYAxis=! ![];if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};S24.inheritsFrom(S24.Renderer.Histogram,S24.Renderer,! !"");S24.Renderer.Histogram.prototype.adjustYAxis=function(){O7dd.i9S();var d44;d44=this.params.yAxis;if(!d44 || d44.baseline){return;}d44.min=+"0";d44.highValue/=this.params.heightPercentage || +"1";};S24.Renderer.Histogram.prototype.draw=function(){var j44,b44,O44,Z44;j44=S24.clone(this.params);j44.type=j44.subtype;this.useSum=j44.subtype == "stacked";if(!j44.yAxis || j44.yAxis == this.stx.chart.yAxis){j44.bindToYAxis=! !"1";}this.stx.drawHistogram(j44,this.seriesParams);b44=j44.yAxis && j44.yAxis.baseline;if(b44 && b44.color){O44=this.stx.panels[this.params.panel];Z44=this.stx.pixelFromPrice(b44.value,O44,this.params.yAxis) - 0.5;this.stx.plotLine({x0:O44.left,x1:O44.right,y0:Z44,y1:Z44,color:b44.color,type:"line",context:O44.chart.context,confineToPanel:O44,pattern:b44.pattern || "solid",lineWidth:b44.lineWidth || 1,opacity:b44.opacity || "0.8" - 0,globalCompositeOperation:"destination-over"});}};S24.Renderer.Histogram.prototype.getBasis=function(s44,G44,q44){var M44,c44,t44;M44=0;O7dd.J9S();if(s44 && this.useSum){for(var R44=0;R44 < this.seriesParams.length;R44++){c44=this.seriesParams[R44].field;if(c44 === G44)break;t44=s44[c44];if(t44 && typeof t44 === "object"){t44=t44[q44 || this.seriesParams[R44].subField || this.stx.chart.defaultPlotField || "Close"];}if(t44){M44+=t44;}}}return M44;};S24.Renderer.Heatmap=function(W44){this.construct(W44);O7dd.J9S();this.params.type="heatmap";this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=! !1;};S24.inheritsFrom(S24.Renderer.Heatmap,S24.Renderer,!{});S24.Renderer.Heatmap.requestNew=function(m44,k44){O7dd.i9S();var o44,r44;o44=null;for(var T44=0;T44 < m44.length;T44++){r44=m44[T44];if(r44 == "heatmap"){o44="heatmap";}}if(o44 === null){return null;}return new S24.Renderer.Heatmap({params:S24.extend(k44,{type:o44})});};S24.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(S24.clone(this.params),this.seriesParams);};S24.Renderer.Scatter=function(g44){this.construct(g44);this.standaloneBars=this.barsHaveWidth=! ![];O7dd.J9S();this.bounded=! ![];};S24.inheritsFrom(S24.Renderer.Scatter,S24.Renderer.Lines,!1);S24.Renderer.Scatter.requestNew=function(U44,y44){var N44,O6P,x44;N44=null;for(var C44=0;C44 < U44.length;C44++){O6P="sc";O6P+="att";O6P+="er";O6P+="plot";x44=U44[C44];if(x44 == O6P){N44="scatter";}}if(N44 === null){return null;}return new S24.Renderer.Scatter({params:S24.extend(y44,{type:N44})});};S24.Renderer.Scatter.prototype.drawIndividualSeries=function(v44,A44){var E8y,j8y,T8y,I6P,Q44,F44;E8y=1819169277;j8y=-857973367;T8y=2;for(var m8y=+"1";O7dd.P6y(m8y.toString(),m8y.toString().length,"82109" - 0) !== E8y;m8y++){I6P="Error, Scatter re";I6P+="nderer requires customChart.";I6P+="js";Q44=this.stx.panels[A44.panel] || v44.panel;F44={colors:[]};if(this.stx.scatter){F44=this.stx.scatter(Q44,A44);}else {console.warn(I6P);}T8y+=2;}if(O7dd.P6y(T8y.toString(),T8y.toString().length,"80745" >> 1173784192) !== j8y){Q44=this.stx.panels[A44.panel] && v44.panel;F44={colors:[]};if(this.stx.scatter){F44=this.stx.scatter(Q44,A44);}else {console.warn("");}}return F44;};};W9H=D44=>{var E44,w6P;E44=typeof _CIQ !== "undefined"?_CIQ:D44.CIQ;if(!E44.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {w6P="A";w6P+="ccumulation/Di";w6P+="strib";w6P+="ution";E44.Studies.calculateAccumulationDistribution=function(i44,Y44){var L44,t6P,b6P,z44,H44,V44,a44;L44=Y44.chart.scrubbed;for(var l44=Y44.startFrom;l44 < L44.length;l44++){t6P="Result";t6P+=" ";b6P="Use ";b6P+="Volume";if(!l44)continue;z44=L44[l44];if(z44.futureTick)break;O7dd.O3m(108);H44=L44[O7dd.F3m(2147483647,"1",l44)];V44=0;if(z44.Close > H44.Close){V44=z44.Close - Math.min(z44.Low,H44.Close);}else if(z44.Close < H44.Close){V44=z44.Close - Math.max(z44.High,H44.Close);}if(Y44.inputs[b6P]){V44*=z44.Volume;}a44=H44[t6P + Y44.name];if(!a44){a44=0;}a44+=V44;if(!isNaN(z44.Close)){z44["Result " + Y44.name]=a44;}}};E44.Studies.studyLibrary=E44.extend(E44.Studies.studyLibrary,{"W Acc Dist":{name:w6P,calculateFN:E44.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !0}}});}};o9H=e44=>{var Z6P,u44;O7dd.J9S();Z6P="undef";Z6P+="ine";Z6P+="d";u44=typeof _CIQ !== Z6P?_CIQ:e44.CIQ;if(!u44.Studies){console.error("adx feature requires first activating studies feature.");}else {u44.Studies.calculateADX=function(t54,P44){var b8S=O7dd;var X44,p44,w44,I44,f44,K54,d54,B44,M9P,J44,n44,D6P,J9P,j54,b54,O54,i9P,q9P,X9P,Z54;u44.Studies.calculateStudyATR(t54,P44);X44=P44.chart.scrubbed;p44=P44.days;w44=parseInt(P44.inputs["Smoothing Period"],+"10");if(!w44 && w44 !== 0){w44=p44;}if(X44.length < P44.days + 1){P44.error=!0;return;}I44=0;f44=0;K54=0;d54=+"0";for(var h44=Math.max(1,P44.startFrom);h44 < X44.length;h44++){M9P="_";M9P+="sm+DM ";B44=X44[h44];J44=Math.max(0,B44.High - X44[h44 - ("1" << 1587903456)].High);n44=Math.max(0,X44[h44 - 1].Low - B44.Low);if(J44 > n44){n44=0;}else if(n44 > J44){J44=0;}else {J44=n44=0;}if(h44 <= p44){D6P="True";D6P+=" Ra";D6P+="nge";D6P+=" ";f44+=J44;K54+=n44;I44+=B44[D6P + P44.name];}else {J9P="_sm";J9P+="-DM ";b8S.O3m(102);var x8o=b8S.F3m(4,13,10,1);b8S.c3m(4);var G8o=b8S.F3m(10,9);f44=X44[h44 - x8o]["_sm+DM " + P44.name] * (p44 - G8o) / p44 + J44;b8S.c3m(109);var c8o=b8S.F3m(11,4,1,4,10);K54=X44[h44 - +"1"][J9P + P44.name] * (p44 - c8o) / p44 + n44;b8S.c3m(3);var N8o=b8S.F3m(6,5,0);b8S.O3m(110);var W8o=b8S.F3m(4,4,34,5,6);I44=X44[h44 - N8o]["_smTR " + P44.name] * (p44 - W8o) / p44 + B44["True Range " + P44.name];}B44[M9P + P44.name]=f44;B44["_sm-DM " + P44.name]=K54;B44["_smTR " + P44.name]=I44;if(h44 < p44)continue;b8S.c3m(111);j54=b8S.i3m(I44,"100",f44);b8S.c3m(112);b54=b8S.F3m(K54,I44,100);b8S.O3m(113);var Y8o=b8S.F3m(92,8,19,14,11);O54=Y8o * Math.abs(j54 - b54) / (j54 + b54);B44["+DI " + P44.name]=j54;B44["-DI " + P44.name]=b54;if(P44.inputs.Series !== ! !0 && w44){if(h44 < p44 + w44 - ("1" | 1)){if(h44 == P44.startFrom){for(var S44=p44;S44 < P44.startFrom;S44++){i9P="-";i9P+="DI";i9P+=" ";q9P="+";q9P+="D";q9P+="I ";b8S.c3m(114);var o8o=b8S.i3m(19,93,18,423,93);d54+=o8o * Math.abs(X44[S44]["+DI " + P44.name] - X44[S44]["-DI " + P44.name]) / (X44[S44][q9P + P44.name] + X44[S44][i9P + P44.name]);}}d54+=O54;}else if(h44 == p44 + w44 - +"1"){b8S.O3m(10);B44["ADX " + P44.name]=b8S.F3m(d54,w44);}else {b8S.c3m(48);var H8o=b8S.i3m(6,65,11);B44["ADX " + P44.name]=(X44[h44 - ("1" - 0)]["ADX " + P44.name] * (w44 - H8o) + O54) / w44;}}if(P44.inputs.Histogram){X9P="-";X9P+="D";X9P+="I";X9P+=" ";Z54=P44.name + "_hist";if(!B44["+DI " + P44.name] && B44["+DI " + P44.name] !== +"0")continue;if(!B44["-DI " + P44.name] && B44["-DI " + P44.name] !== +"0")continue;B44[Z54]=B44["+DI " + P44.name] - B44[X9P + P44.name];if(P44.inputs.Series === !{}){B44["+DI " + P44.name]=null;B44["-DI " + P44.name]=null;}P44.outputMap[Z54]="";}}};u44.Studies.displayADX=function(M54,R54,W54){var E9P,o54,c54,s54,T54,m54,G54,q54;E9P="Not";E9P+="hing to";E9P+=" display";o54=R54.underlay?0.3:R54.inputs.Series?"0.4" * 1:1;if(R54.inputs.Series && R54.inputs.Shading){c54="+DI " + R54.name;s54="-DI " + R54.name;T54=u44.Studies.determineColor(R54.outputs[R54.outputMap[c54]]);m54=u44.Studies.determineColor(R54.outputs[R54.outputMap[s54]]);G54=R54.getYAxis(M54);q54={topBand:c54,bottomBand:s54,topColor:T54,bottomColor:m54,skipTransform:M54.panels[R54.panel].name != R54.chart.name,topAxis:G54,bottomAxis:G54,opacity:0.3};if(!R54.highlight && M54.highlightedDraggable){q54.opacity*=0.3;}u44.fillIntersecting(M54,R54.panel,q54);}if(R54.inputs.Histogram){u44.Studies.createHistogram(M54,R54,W54,! !0,o54);}if(R54.inputs.Series !== !{}){u44.Studies.displaySeriesAsLine(M54,R54,W54);}else if(!R54.inputs.Series && !R54.inputs.Histogram){M54.displayErrorAsWatermark(R54.panel,M54.translateIf(R54.name) + ": " + M54.translateIf(E9P));}};u44.Studies.studyLibrary=u44.extend(u44.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:u44.Studies.calculateADX,seriesFN:u44.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! ![],Shading:!"1",Histogram:![]},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};T9H=k54=>{var D4S=O7dd;var t6y,w6y,Z6y,r54,a9P,H9P;D4S.i9S();t6y=-1860174663;w6y=1662989549;Z6y=2;for(var M9y=+"1";D4S.F6y(M9y.toString(),M9y.toString().length,84645) !== t6y;M9y++){r54=typeof _CIQ !== "undefined"?_CIQ:k54.CIQ;D4S.c3m(15);Z6y+=D4S.F3m(2147483647,"2");}if(D4S.P6y(Z6y.toString(),Z6y.toString().length,90233) !== w6y){r54=-_CIQ != ""?_CIQ:k54.CIQ;}if(!r54.Studies){console.error("alligator feature requires first activating studies feature.");}else {a9P="#";a9P+="FF000";a9P+="0";H9P="A";H9P+="l";H9P+="li";H9P+="gator";r54.Studies.calculateAlligator=function(A54,C54){var j9P,U54,g54,R9P,l9P,m9P,k9P,T9P,e9P,F9P,y54,F54,x54,P9P,g9P,z9P;j9P="Sho";j9P+="w Lines";U54={J:Number(C54.inputs["Jaw Period"]),T:Number(C54.inputs["Teeth Period"]),L:Number(C54.inputs["Lips Period"])};g54=C54.chart.scrubbed;if(g54.length < Math.max(U54.J,U54.T,U54.L) + 1){C54.error=! ![];return;}D4S.J9S();if(C54.type === "Gator" || C54.inputs[j9P]){R9P="Li";R9P+="ps";l9P="welles ";l9P+="wilde";l9P+="r";m9P="J";m9P+="a";m9P+="w";k9P="Jaw O";k9P+="ff";k9P+="set";T9P="wel";T9P+="les wi";T9P+="lder";r54.Studies.MA(T9P,U54.J,"hl/2",C54.inputs[k9P],m9P,A54,C54);r54.Studies.MA(l9P,U54.T,"hl/2",C54.inputs["Teeth Offset"],"Teeth",A54,C54);r54.Studies.MA("welles wilder",U54.L,"hl/2",C54.inputs["Lips Offset"],R9P,A54,C54);}for(var N54=C54.startFrom;N54 < g54.length;N54++){if(!g54[N54])continue;if(C54.type == "Gator"){e9P="_";e9P+="h";e9P+="ist";e9P+="1";F9P="Teeth";F9P+=" ";y54=g54[N54]["Jaw " + C54.name];F54=g54[N54]["Lips " + C54.name];x54=g54[N54][F9P + C54.name];if(x54 || x54 === 0){P9P="_hi";P9P+="s";P9P+="t";P9P+="2";g9P="_h";g9P+="is";g9P+="t1";if(y54 || y54 === 0){D4S.c3m(4);g54[N54][C54.name + g9P]=Math.abs(D4S.F3m(y54,x54));}if(F54 || F54 === 0){D4S.c3m(4);g54[N54][C54.name + P9P]=-Math.abs(D4S.F3m(x54,F54));}}C54.outputMap={};C54.outputMap[C54.name + e9P]="";C54.outputMap[C54.name + "_hist2"]="";}if(C54.inputs["Show Fractals"]){if(!g54[N54 - +"2"] || !g54[N54 - 1] || !g54[N54] || !g54[N54 + +"1"] || !g54[N54 + +"2"])continue;if(g54[N54 - 2].High && g54[N54 - 1].High && g54[N54].High && g54[N54 + 1].High && g54[N54 + ("2" >> 910367904)].High){if(g54[N54].High > g54[N54 - 1].High && g54[N54].High > g54[N54 - 2].High && g54[N54].High > g54[N54 + 1].High && g54[N54].High > g54[N54 + 2].High){D4S.c3m(41);g54[N54]["Fractal High " + C54.name]=D4S.F3m(0,"1");}}if(g54[N54 - 2].Low && g54[N54 - 1].Low && g54[N54].Low && g54[N54 + 1].Low && g54[N54 + +"2"].Low){if(g54[N54].Low < g54[N54 - 1].Low && g54[N54].Low < g54[N54 - 2].Low && g54[N54].Low < g54[N54 + 1].Low && g54[N54].Low < g54[N54 + 2].Low){z9P="F";z9P+="ract";z9P+="al Low ";g54[N54][z9P + C54.name]=1;}}}}};r54.Studies.displayAlligator=function(Q54,D54,z54){var v54,G9P;v54=D54.getContext(Q54);if(D54.inputs["Show Lines"]){r54.Studies.displaySeriesAsLine(Q54,D54,z54);}D4S.i9S();function l54(V54,a54){var Y54,H54,x9P;H54=Q54.chart.panel.yAxis.flipped;if(V54 == "high"){x9P="t";x9P+="op";v54.fillStyle=Q54.defaultColor;v54.textBaseline=H54?x9P:"bottom";Y54=Q54.pixelFromPrice(z54[a54].High);v54.fillText(H54?4360 <= (6561,+"555.04")?"a":(9570,3650) !== 9300?(1821,5121) >= 1312?"\u25BC":0x621:"1.27e+3" | 1142:(986.46,8436) < "4" * 1?8.73e+3:"\u25B2",Q54.pixelFromBar(E54,Q54.chart) - v54.measureText("\u25B2").width / 2 + ("1" | 0),H54?Y54 + ("5" & 2147483647):Y54 - 5);;}else if(V54 == "low"){v54.fillStyle=Q54.defaultColor;v54.textBaseline=H54?"bottom":"top";Y54=Q54.pixelFromPrice(z54[a54].Low);v54.fillText(H54?(636,5040) !== (4090,77.46)?+"306.15" > 7577?!{}:"\u25B2":810.58:6595 < 445.62?"0x6f2" | 720:"9540" << 1119477152 > 171.43?"\u25BC":179.25 > "7804" >> 90204288?(0x696,3.94e+3):(!"1","L"),Q54.pixelFromBar(E54,Q54.chart) - v54.measureText("\u25BC").width / ("2" ^ 0) + 1,H54?Y54 - 5:Y54 + 5);;}}if(D54.inputs["Show Fractals"]){Q54.startClip();v54.globalAlpha=D54.underlay?0.3:1;if(!D54.highlight && Q54.highlightedDraggable){v54.globalAlpha*=0.3;}for(var E54="2" - 0;E54 < z54.length - 2;E54++){if(z54[E54]){G9P="l";G9P+="o";G9P+="w";if(z54[E54]["Fractal High " + D54.name]){l54("high",E54);}if(z54[E54]["Fractal Low " + D54.name]){l54(G9P,E54);}}}Q54.endClip();}};r54.Studies.displayGator=function(i54,L54,w54){var W9P,N9P,c9P,p54,e54,J54,n54,h54,S54,I54,B54,X54,o9P,Y9P;W9P="st";W9P+="x_histogr";W9P+="am";D4S.J9S();N9P="Decr";N9P+="e";N9P+="asin";N9P+="g Bar";c9P="Inc";c9P+="reasi";c9P+="ng Bar";p54=i54.panels[L54.panel];e54=L54.getContext(i54);J54=L54.getYAxis(i54);n54=i54.pixelFromPrice(0,p54,J54);D4S.O3m(115);var a8o=D4S.F3m(5,13,6);h54=i54.layout.candleWidth - a8o;if(h54 < 2){h54=+"1";}S54=r54.Studies.determineColor(L54.outputs[c9P]);I54=r54.Studies.determineColor(L54.outputs[N9P]);i54.canvasColor(W9P);if(!L54.underlay){e54.globalAlpha=1;}e54.fillStyle="#CCCCCC";i54.startClip(L54.panel);if(!L54.highlight && i54.highlightedDraggable){e54.globalAlpha*=+"0.3";}for(var P54=0;P54 < w54.length;P54++){B54=w54[P54];D4S.O3m(4);X54=w54[D4S.i3m(P54,1)];if(!B54)continue;for(var u54=1;u54 <= 2;u54++){o9P="_h";o9P+="i";o9P+="st";Y9P="_";Y9P+="hi";Y9P+="s";Y9P+="t";if(!X54){X54=i54.getPreviousBar(i54.chart,L54.name + "_hist" + u54,P54);}if(!X54){e54.fillStyle="#CCCCCC";}else if(Math.abs(X54[L54.name + Y9P + u54]) < Math.abs(B54[L54.name + o9P + u54])){e54.fillStyle=S54;}else if(Math.abs(X54[L54.name + "_hist" + u54]) > Math.abs(B54[L54.name + "_hist" + u54])){e54.fillStyle=I54;}if(B54.candleWidth){h54=Math.floor(Math.max(1,B54.candleWidth - +"2"));}e54.fillRect(Math.floor(i54.pixelFromBar(P54,p54.chart) - h54 / 2),Math.floor(n54),Math.floor(h54),Math.floor(i54.pixelFromPrice(B54[L54.name + "_hist" + u54],p54,J54) - n54));}}i54.endClip();};r54.Studies.studyLibrary=r54.extend(r54.Studies.studyLibrary,{Alligator:{name:H9P,overlay:! ![],seriesFN:r54.Studies.displayAlligator,calculateFN:r54.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" - 0,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:a9P,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:r54.Studies.displayGator,calculateFN:r54.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};m9H=K04=>{O7dd.i9S();var f54,A9P,K9P,Q9P,B9P;f54=typeof _CIQ !== "undefined"?_CIQ:K04.CIQ;if(!f54.Studies){A9P="a";A9P+="roon feature requires first activating studies feat";A9P+="ure.";console.error(A9P);}else {K9P="A";K9P+="roon Osc";K9P+="illator";Q9P="0 to";Q9P+=" 1";Q9P+="00";B9P="A";B9P+="ro";B9P+="o";B9P+="n";f54.Studies.calculateAroon=function(T04,d04){var F8S=O7dd;var t04,R04,M04,b04,O04,C9P,s04,Z04,n9P,j04,G04,q04,W04,o04;t04=d04.chart.scrubbed;if(t04.length < d04.days + 1){d04.error=! ![];return;}F8S.J9S();R04=0;M04=0;b04=null;O04=null;if(d04.startFrom > 0){C9P="_";C9P+="state ";F8S.O3m(12);var A8o=F8S.i3m(10,8,19);s04=t04[d04.startFrom - A8o][C9P + d04.name];if(s04){R04=s04[0];M04=s04[+"1"];b04=s04[2];O04=s04[3];}}for(var c04=d04.startFrom;c04 < t04.length;c04++){n9P="_state";n9P+=" ";j04=t04[c04];if(j04.futureTick)break;if(b04 === null){b04=j04.High;}if(O04 === null){O04=j04.Low;}b04=Math.max(b04,j04.High);if(b04 == j04.High){R04=0;}else {R04++;if(R04 > d04.days){b04=j04.High;R04=0;for(Z04="1" & 2147483647;Z04 <= d04.days;Z04++){b04=Math.max(b04,t04[c04 - Z04].High);if(b04 == t04[c04 - Z04].High){R04=Z04;}}}}O04=Math.min(O04,j04.Low);if(O04 == j04.Low){M04=0;}else {M04++;if(M04 > d04.days){O04=j04.Low;M04=0;for(Z04=+"1";Z04 <= d04.days;Z04++){O04=Math.min(O04,t04[c04 - Z04].Low);if(O04 == t04[c04 - Z04].Low){M04=Z04;}}}}G04=!isNaN(j04.High);q04=!isNaN(j04.Low);F8S.c3m(2);var C8o=F8S.i3m(11,89);F8S.c3m(8);var n8o=F8S.F3m(0,4,5);W04=C8o * (n8o - R04 / d04.days);if(G04){j04["Aroon Up " + d04.name]=W04;}F8S.c3m(48);var B8o=F8S.i3m(3,47,16);o04=+"100" * (B8o - M04 / d04.days);if(q04){j04["Aroon Down " + d04.name]=o04;}if(G04 && q04){j04["Aroon Oscillator " + d04.name]=j04["Aroon Up " + d04.name] - j04["Aroon Down " + d04.name];}j04[n9P + d04.name]=[R04,M04,b04,O04];}};f54.Studies.studyLibrary=f54.extend(f54.Studies.studyLibrary,{Aroon:{name:B9P,range:Q9P,calculateFN:f54.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:K9P,calculateFN:f54.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};r9H=r04=>{var m04,v9P,L9P,S9P,u9P,s9P;m04=typeof _CIQ !== "undefined"?_CIQ:r04.CIQ;if(!m04.Studies){console.error("atr feature requires first activating studies feature.");}else {v9P="#";v9P+="00FF0";v9P+="0";L9P="squar";L9P+="ewa";L9P+="ve";S9P="ATR Trailing Stop";S9P+="s";u9P="aut";u9P+="o";s9P="STARC";s9P+=" Bands";m04.Studies.calculateATRBands=function(N04,k04){var h9P,g04;h9P="fiel";h9P+="d";m04.Studies.calculateStudyATR(N04,k04);g04=k04.inputs.Field;if(!g04 || g04 == h9P){g04="Close";}m04.Studies.calculateGenericEnvelope(N04,k04,k04.inputs.Shift,g04,"ATR " + k04.name);};m04.Studies.calculateSTARCBands=function(U04,C04){var r9P;r9P="simpl";r9P+="e";m04.Studies.calculateStudyATR(U04,C04);m04.Studies.MA(r9P,C04.inputs["MA Period"],"Close",0,"_MA",U04,C04);m04.Studies.calculateGenericEnvelope(U04,C04,C04.inputs.Multiplier,"_MA " + C04.name,"ATR " + C04.name);};m04.Studies.calculateATRStops=function(H04,x04){var V8S=O7dd;var y9P,Q04,D04,f9P,y04,l04,F04,A04,E04,z04,d9P,V9P,b9y,t9y,w9y;y9P="Al";y9P+="l Stops ";Q04=x04.chart.scrubbed;if(!Q04){return;}m04.Studies.calculateStudyATR(H04,x04);D04=x04.inputs.HighLow;for(var v04=Math.max(x04.startFrom - 1,1);v04 < Q04.length - 1;v04++){f9P="S";f9P+="ell Stops ";y04=Q04[v04];V8S.O3m(4);l04=Q04[V8S.i3m(v04,1)];F04=y04["Buy Stops " + x04.name];if(!F04){F04=y04[f9P + x04.name];}if(!F04){V8S.O3m(21);F04=V8S.F3m(2128469376,"0");}if(!y04 || !l04)continue;A04=y04.Close;E04=A04;z04=y04["ATR " + x04.name] * x04.inputs.Multiplier;if(y04.Close > F04 && l04.Close > F04){if(D04){A04=y04.High;}V8S.c3m(4);E04=Math.max(F04,V8S.i3m(A04,z04));}else if(y04.Close <= F04 && l04.Close <= F04){if(D04){A04=y04.Low;}V8S.c3m(2);E04=Math.min(F04,V8S.i3m(A04,z04));}else if(y04.Close > F04){if(D04){A04=y04.High;}V8S.O3m(4);E04=V8S.i3m(A04,z04);}else if(y04.Close <= F04){if(D04){A04=y04.Low;}V8S.c3m(2);E04=V8S.F3m(A04,z04);}if(A04 <= E04){d9P="Buy ";d9P+="Stops ";V8S.O3m(2);Q04[V8S.i3m(v04,1)][d9P + x04.name]=E04;V8S.c3m(2);delete Q04[V8S.F3m(v04,1)]["Sell Stops " + x04.name];}else if(A04 > E04){V9P="Buy";V9P+=" S";V9P+="tops ";V8S.O3m(2);Q04[V8S.F3m(v04,1)]["Sell Stops " + x04.name]=E04;V8S.O3m(2);delete Q04[V8S.i3m(v04,1)][V9P + x04.name];}V8S.c3m(2);Q04[V8S.i3m(v04,1)]["All Stops " + x04.name]=E04;}x04.referenceOutput="All Stops";b9y=1528263164;t9y=759242253;w9y=2;for(var D9y="1" * 1;V8S.P6y(D9y.toString(),D9y.toString().length,8726) !== b9y;D9y++){x04.outputMap={};w9y+=2;}if(V8S.P6y(w9y.toString(),w9y.toString().length,"22909" | 6413) !== t9y){x04.outputMap={};}x04.outputMap[y9P + x04.name]="";};m04.Studies.studyLibrary=m04.extend(m04.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:m04.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! !1,seriesFN:m04.Studies.displayChannel,calculateFN:m04.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:s9P,overlay:! !"1",seriesFN:m04.Studies.displayChannel,calculateFN:m04.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":u9P},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:S9P,overlay:!"",seriesFN:m04.Studies.displayPSAR2,calculateFN:m04.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",L9P],HighLow:!{}},outputs:{"Buy Stops":"#FF0000","Sell Stops":v9P},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};k9H=V04=>{var Y04,Z8y,D8y,J4y;Y04=typeof _CIQ !== "undefined"?_CIQ:V04.CIQ;if(!Y04.Studies){Z8y=-1159699021;D8y=1922087026;J4y=2;for(var q4y="1" >> 2141516320;O7dd.F6y(q4y.toString(),q4y.toString().length,"77694" >> 763119136) !== Z8y;q4y++){console.error("");J4y+=2;}if(O7dd.P6y(J4y.toString(),J4y.toString().length,"27053" ^ 0) !== D8y){console.error("");}console.error("awesomeOscillator feature requires first activating studies feature.");}else {Y04.Studies.calculateAwesomeOscillator=function(u04,a04){var I9P,U9P,p9P,L04,O9P;I9P="_";I9P+="h";I9P+="is";I9P+="t";U9P="_MA3";U9P+="4";p9P="_";p9P+="M";p9P+="A";p9P+="5";L04=a04.chart.scrubbed;if(L04.length < 33){a04.error=!"";return;}Y04.Studies.MA("simple",5,"hl/2",0,p9P,u04,a04);Y04.Studies.MA("simple",34,"hl/2",0,U9P,u04,a04);O7dd.i9S();for(var i04=Math.max(a04.startFrom,+"33");i04 < L04.length;i04++){O9P="_";O9P+="h";O9P+="is";O9P+="t";if(!L04[i04])continue;L04[i04][a04.name + O9P]=L04[i04]["_MA5 " + a04.name] - L04[i04]["_MA34 " + a04.name];}a04.outputMap={};a04.outputMap[a04.name + I9P]="";};Y04.Studies.displayAwesomeOscillator=function(P04,e04,n04){var h8S=O7dd;var t9P,J04,B04,Q8y,K8y,h8y,S04,I04,p04,f04,K84,b9P,w9P,X04,w04;t9P="#C";t9P+="CC";t9P+="C";t9P+="CC";J04=P04.panels[e04.panel];B04=e04.getContext(P04);Q8y=-1375086837;K8y=1748042761;h8y=2;for(var f8y=+"1";h8S.P6y(f8y.toString(),f8y.toString().length,69274) !== Q8y;f8y++){S04=e04.getYAxis(P04);I04=P04.pixelFromPrice(+"6",J04,S04);h8S.c3m(2);var Q8o=h8S.F3m(0,4);p04=P04.layout.candleWidth % Q8o;if(p04 >= +"3"){p04=+"7";}f04=Y04.Studies.determineColor(e04.outputs["Decreasing Bar"]);K84=Y04.Studies.determineColor(e04.outputs["Decreasing Bar"]);P04.canvasColor("Decreasing Bar");h8y+=2;}if(h8S.P6y(h8y.toString(),h8y.toString().length,79259) !== K8y){b9P="Decr";b9P+="easin";b9P+="g Bar";S04=e04.getYAxis(P04);I04=P04.pixelFromPrice(0,J04,S04);h8S.O3m(3);var K8o=h8S.F3m(16,14,0);p04=P04.layout.candleWidth - K8o;if(p04 < 2){p04=1;}f04=Y04.Studies.determineColor(e04.outputs["Increasing Bar"]);K84=Y04.Studies.determineColor(e04.outputs[b9P]);P04.canvasColor("stx_histogram");}if(!e04.underlay){B04.globalAlpha=1;}B04.fillStyle=t9P;P04.startClip(e04.panel);if(!e04.highlight && P04.highlightedDraggable){B04.globalAlpha*=0.3;}for(var h04=0;h04 < n04.length;h04++){w9P="_his";w9P+="t";X04=n04[h04];h8S.O3m(4);w04=n04[h8S.F3m(h04,1)];if(!w04){w04=P04.getPreviousBar(P04.chart,e04.name + "_hist",h04);}if(!X04)continue;if(!w04);else if(w04[e04.name + "_hist"] < X04[e04.name + "_hist"]){B04.fillStyle=f04;}else if(w04[e04.name + w9P] > X04[e04.name + "_hist"]){B04.fillStyle=K84;}if(X04.candleWidth){p04=Math.floor(Math.max(1,X04.candleWidth - +"2"));}B04.fillRect(Math.floor(P04.pixelFromBar(h04,J04.chart) - p04 / 2),Math.floor(I04),Math.floor(p04),Math.floor(P04.pixelFromPrice(X04[e04.name + "_hist"],J04,S04) - I04));}P04.endClip();};Y04.Studies.studyLibrary=Y04.extend(Y04.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:Y04.Studies.displayAwesomeOscillator,calculateFN:Y04.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};g9H=j84=>{O7dd.J9S();var d84,Z9P,q3P;d84=typeof _CIQ !== "undefined"?_CIQ:j84.CIQ;if(!d84.Studies){Z9P="b";Z9P+="alanceOfPow";Z9P+="er feature requires first activating stu";Z9P+="dies feature.";console.error(Z9P);}else {q3P="-1 ";q3P+="to";q3P+=" ";q3P+="1";d84.Studies.calculateBalanceOfPower=function(R84,b84){O7dd.i9S();var M3P,Z84,J3P,D9P,O84;M3P="Movi";M3P+="ng Average";M3P+=" Type";Z84=b84.chart.scrubbed;if(Z84.length < b84.days + 1){b84.error=! !{};return;}for(var t84=b84.startFrom;t84 < Z84.length;t84++){J3P="_";J3P+="Ra";J3P+="ti";J3P+="o ";D9P="_R";D9P+="at";D9P+="i";D9P+="o ";O84=Z84[t84];O84[D9P + b84.name]=O84.Close - O84.Open;if(O84.High - O84.Low !== 0){O84[J3P + b84.name]/=O84.High - O84.Low;}}d84.Studies.MA(b84.inputs[M3P],b84.days,"_Ratio " + b84.name,0,"Result",R84,b84);};d84.Studies.studyLibrary=d84.extend(d84.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:q3P,centerline:+"0",calculateFN:d84.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};N9H=c84=>{var M84,g3P,F3P,R3P,l3P,m3P,k3P,T3P,j3P;M84=typeof _CIQ !== "undefined"?_CIQ:c84.CIQ;if(!M84.Studies){console.error("bollinger feature requires first activating studies feature.");}else {g3P="au";g3P+="t";g3P+="o";F3P="m";F3P+="a";R3P="f";R3P+="i";R3P+="el";R3P+="d";l3P="au";l3P+="t";l3P+="o";m3P="au";m3P+="t";m3P+="o";k3P="m";k3P+="a";T3P="aut";T3P+="o";j3P="fiel";j3P+="d";M84.Studies.calculateBollinger=function(q84,s84){var E3P,X3P,i3P,G84;E3P="_ST";E3P+="D Dev ";X3P="_";X3P+="M";X3P+="A";X3P+=" ";i3P="fie";i3P+="ld";G84=s84.inputs.Field;if(!G84 || G84 == i3P){G84="Close";}M84.Studies.MA(s84.inputs["Moving Average Type"],s84.days,G84,0,"_MA",q84,s84);s84.std=new M84.Studies.StudyDescriptor(s84.name,"STD Dev",s84.panel);s84.std.chart=s84.chart;s84.std.startFrom=s84.startFrom;s84.std.days=s84.days;O7dd.J9S();s84.std.inputs={Field:G84,"Standard Deviations":1,Type:s84.inputs["Moving Average Type"]};s84.std.outputs={"_STD Dev":null};M84.Studies.calculateStandardDeviation(q84,s84.std);M84.Studies.calculateGenericEnvelope(q84,s84,s84.inputs["Standard Deviations"],X3P + s84.name,E3P + s84.name);if(s84.type == "Boll %b"){s84.zoneOutput="%b";}};M84.Studies.studyLibrary=M84.extend(M84.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !"1",calculateFN:M84.Studies.calculateBollinger,seriesFN:M84.Studies.displayChannel,inputs:{Period:20,Field:j3P,"Standard Deviations":"2" ^ 0,"Moving Average Type":"ma","Channel Fill":! !1},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":T3P,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:M84.Studies.calculateBollinger,inputs:{Period:"20" << 736824768,Field:"field","Standard Deviations":2,"Moving Average Type":k3P},outputs:{"%b":m3P},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:l3P,studyOverSoldValue:+"0",studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:"0.1" * 1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:M84.Studies.calculateBollinger,inputs:{Period:20,Field:R3P,"Standard Deviations":2,"Moving Average Type":F3P},outputs:{Bandwidth:g3P},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};C9H=o84=>{var j4S=O7dd;var A2P,C2P,n2P,W84;A2P=712869990;C2P=606856022;j4S.O3m(41);n2P=j4S.i3m(0,"2");for(var Q2P=1;j4S.F6y(Q2P.toString(),Q2P.toString().length,65196) !== A2P;Q2P++){W84=typeof _CIQ !== "undefined"?_CIQ:o84.CIQ;n2P+=2;}if(j4S.F6y(n2P.toString(),n2P.toString().length,50178) !== C2P){W84=-_CIQ == ""?_CIQ:o84.CIQ;}if(!W84.Studies){console.error("cci feature requires first activating studies feature.");}else {W84.Studies.calculateCCI=function(C84,T84){var r84,z3P,e3P,P3P,m84,g84;r84=T84.chart.scrubbed;if(r84.length < T84.days + 1){T84.error=!"";return;}j4S.J9S();W84.Studies.MA("simple",T84.days,"hlc/3",0,"MA",C84,T84);for(var k84=Math.max(T84.startFrom,T84.days - 1);k84 < r84.length;k84++){z3P="M";z3P+="A";z3P+=" ";e3P="h";e3P+="l";e3P+="c/";e3P+="3";P3P="Resu";P3P+="l";P3P+="t";P3P+=" ";m84=r84[k84];if(!m84)continue;g84=0;for(var N84=0;N84 < T84.days;N84++){g84+=Math.abs(r84[k84 - N84]["hlc/3"] - m84["MA " + T84.name]);}g84/=T84.days;if(Math.abs(g84) < 0.00000001){m84["Result " + T84.name]=0;}else {m84[P3P + T84.name]=(m84[e3P] - m84[z3P + T84.name]) / (0.015 * g84);}}};W84.Studies.studyLibrary=W84.extend(W84.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:W84.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};U9H=x84=>{var U84,Y9y,o9y,H9y,G3P,x3P,c3P;O7dd.J9S();U84=typeof _CIQ !== "undefined"?_CIQ:x84.CIQ;if(!U84.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {U84.Studies.calculateCenterOfGravity=function(l84,y84){var N8S=O7dd;var F84,A84,D84,E84,z84;F84=y84.chart.scrubbed;N8S.J9S();if(F84.length < y84.days){y84.error=! ![];return;}A84=y84.inputs.Field;if(!A84 || A84 == "field"){A84="Close";}for(var Q84=Math.max(y84.startFrom,y84.days - 1);Q84 < F84.length;Q84++){D84=0;E84=0;for(var v84=0;v84 < y84.days;v84++){N8S.O3m(4);z84=F84[N8S.i3m(Q84,v84)][A84];N8S.c3m(116);D84-=N8S.F3m("1",v84,z84,1);E84+=z84;}if(E84){N8S.O3m(10);F84[Q84]["Result " + y84.name]=N8S.i3m(D84,E84);}}};Y9y=1421463156;o9y=-332005512;H9y=2;for(var A9y=+"1";O7dd.F6y(A9y.toString(),A9y.toString().length,26173) !== Y9y;A9y++){G3P="fie";G3P+="ld";x3P="Center O";x3P+="f ";x3P+="G";x3P+="ravity";U84.Studies.studyLibrary=U84.extend(U84.Studies.studyLibrary,{COG:{name:x3P,calculateFN:U84.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:G3P}}});H9y+=2;}if(O7dd.F6y(H9y.toString(),H9y.toString().length,+"37548") !== o9y){c3P="Center";c3P+=" Of";c3P+=" Gr";c3P+="avity";U84.Studies.studyLibrary=U84.extend(U84.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:U84.Studies.calculateCenterOfGravity,inputs:{Period:57,Field:c3P}}});}}};x9H=Y84=>{var H84,K2P,h2P,r2P,N3P;H84=typeof _CIQ !== "undefined"?_CIQ:Y84.CIQ;if(!H84.Studies){K2P=45578830;h2P=- +"424423652";r2P=+"2";for(var d2P=1;O7dd.P6y(d2P.toString(),d2P.toString().length,77410) !== K2P;d2P++){console.error("");r2P+=2;}if(O7dd.P6y(r2P.toString(),r2P.toString().length,54974) !== h2P){N3P="chaikin feature requires fir";N3P+="st activating studies feature.";console.error(N3P);}}else {H84.Studies.calculateChaikinMoneyFlow=function(P84,L84){var n8S=O7dd;var V84,u84,i84,e84,W3P;V84=L84.chart.scrubbed;if(V84.length < L84.days){L84.error=! ![];return;}u84=0;i84=0;n8S.c3m(12);n8S.i9S();var h8o=n8S.i3m(14,3,18);e84=V84[L84.startFrom - h8o];if(e84){if(e84["_sumMF " + L84.name]){u84=e84["_sumMF " + L84.name];}if(e84["_sumV " + L84.name]){i84=e84["_sumV " + L84.name];}}for(var a84=L84.startFrom;a84 < V84.length;a84++){W3P="_s";W3P+="umV ";if(V84[a84].High == V84[a84].Low){V84[a84]["_MFV " + L84.name]=0;}else {n8S.c3m(4);var r8o=n8S.i3m(34,32);V84[a84]["_MFV " + L84.name]=V84[a84].Volume * (r8o * V84[a84].Close - V84[a84].High - V84[a84].Low) / (V84[a84].High - V84[a84].Low);}u84+=V84[a84]["_MFV " + L84.name];i84+=V84[a84].Volume;if(a84 > L84.days - 1){u84-=V84[a84 - L84.days]["_MFV " + L84.name];i84-=V84[a84 - L84.days].Volume;if(i84){n8S.O3m(10);V84[a84]["Result " + L84.name]=n8S.F3m(u84,i84);}}V84[a84]["_sumMF " + L84.name]=u84;V84[a84][W3P + L84.name]=i84;}};H84.Studies.calculateChaikinVolatility=function(w84,B84){var P8S=O7dd;var Y3P,X84,h84,p84,o3P;Y3P="Movi";Y3P+="ng Average Type";X84=B84.chart.scrubbed;if(X84.length < B84.days){B84.error=! !1;return;}for(h84=B84.startFrom;h84 < X84.length;h84++){if(X84[h84].futureTick)break;X84[h84]["_High-Low " + B84.name]=X84[h84].High - X84[h84].Low;}H84.Studies.MA(B84.inputs[Y3P],B84.days,"_High-Low " + B84.name,0,"_MA",w84,B84);p84=B84.inputs["Rate Of Change"];if(!p84){p84=B84.days;}for(h84=Math.max(B84.startFrom,p84);h84 < X84.length;h84++){o3P="Re";o3P+="s";o3P+="ul";o3P+="t ";if(!X84[h84 - p84]["_MA " + B84.name])continue;if(X84[h84].futureTick)break;P8S.c3m(117);var f8o=P8S.i3m(12,300,791,3,3);P8S.O3m(4);var d8o=P8S.i3m(9,8);X84[h84][o3P + B84.name]=f8o * (X84[h84]["_MA " + B84.name] / X84[h84 - p84]["_MA " + B84.name] - d8o);}};H84.Studies.studyLibrary=H84.extend(H84.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:H84.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:H84.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};y9H=n84=>{var J84,H3P,r3P,A3P,a3P;O7dd.J9S();J84=typeof _CIQ !== "undefined"?_CIQ:n84.CIQ;if(!J84.Studies){H3P="chande f";H3P+="eature requires first activatin";H3P+="g st";H3P+="udies feature.";console.error(H3P);}else {r3P="au";r3P+="t";r3P+="o";A3P="V";A3P+="ar";A3P+="iable";a3P="v";a3P+="m";a3P+="a";J84.Studies.prettify.variable=a3P;J84.Studies.movingAverage.conversions.vma="variable";J84.Studies.movingAverage.translations.variable="Variable";J84.Studies.movingAverage.typeMap.vma="Variable";J84.Studies.movingAverage.typeMap.variable=A3P;J84.Studies.calculateChandeForecast=function(j64,S84){var D8S=O7dd;var C3P,I84,f84,d64;C3P="time se";C3P+="r";C3P+="ies";I84=S84.chart.scrubbed;if(I84.length < S84.days + ("1" & 2147483647)){S84.error=! !{};return;}f84=S84.inputs.Field;if(!f84 || f84 == "field"){f84="Close";}J84.Studies.MA(C3P,S84.days,f84,"0" * 1,"MA",j64,S84);for(var K64=Math.max(1,S84.startFrom);K64 < I84.length;K64++){d64=I84[K64][f84];if(d64 && typeof d64 == "object"){d64=d64[S84.subField];}D8S.O3m(4);var V8o=D8S.F3m(105,5);D8S.O3m(118);var y8o=D8S.F3m(17,7,13,109);I84[K64]["Result " + S84.name]=V8o * (y8o - I84[K64]["MA " + S84.name] / d64);}};J84.Studies.calculateChandeMomentum=function(m64,b64){var Q8S=O7dd;var n3P,c64,t64,R64,s64,G64,q64,B3P,M64,Z64,W64,o64;n3P="Cl";n3P+="ose";c64=b64.name;for(var T64 in b64.outputs){Q8S.c3m(85);c64=Q8S.F3m(6350 === (2194,7533)?("X",0x2520):456 < (5845,901.12)?+"9050" > 4480?" ":4.07e+3:+"0x1750",T64,c64);}Q8S.J9S();t64=b64.chart.scrubbed;if(t64.length < b64.days + 1){b64.error=! ![];return;}R64=b64.inputs.Field;if(!R64 || R64 == "field"){R64=n3P;}Q8S.c3m(21);s64=Q8S.i3m(617055424,"0");G64=0;q64=[];for(var O64=b64.startFrom - b64.days + 1;O64 < t64.length;O64++){B3P="obj";B3P+="ec";B3P+="t";if(O64 < +"1")continue;M64=t64[O64][R64];Q8S.O3m(4);Z64=t64[Q8S.i3m(O64,1)][R64];if(M64 && typeof M64 == "object"){M64=M64.Close;}if(Z64 && typeof Z64 == B3P){Z64=Z64.Close;}if(Z64 === undefined)continue;Q8S.O3m(4);W64=Q8S.i3m(M64,Z64);q64.push(W64);s64+=W64;G64+=Math.abs(W64);if(q64.length == b64.days){Q8S.c3m(112);t64[O64][c64]=Q8S.i3m(s64,G64,100);o64=q64.shift();s64-=o64;G64-=Math.abs(o64);}}};J84.Studies.calculateMovingAverageVariable=function(Y64,r64){var M8S=O7dd;var L64,C64,z64,x64,U64,y64,N64,k64,g64,F64,E64,l64,D64,h3P,K3P,Q3P,A64,a64,Q64,H64,v64;L64=r64.inputs.Type;C64=r64.chart.scrubbed;z64=+"2" / (r64.days + ("1" ^ 0));x64=null;U64=r64.name;for(var V64 in r64.outputs){M8S.O3m(85);U64=M8S.i3m((309.6,1160) < 688.31?(609.86,"k"):4250 > 2730?(+"650.69",6630) != (7280,"4480" & 2147483647)?" ":("0x1b0f" >> 30037888,!0):"k",V64,U64);}y64=r64.inputs.Field;if(!y64 || y64 == "field"){y64="Close";}r64.cmo=new J84.Studies.StudyDescriptor(r64.name,"cmo",r64.panel);M8S.J9S();r64.cmo.chart=r64.chart;r64.cmo.days=+"9";r64.cmo.inputs={Field:y64};r64.cmo.startFrom=r64.startFrom;r64.cmo.outputs={_CMO:null};J84.Studies.calculateChandeMomentum(Y64,r64.cmo);N64=parseInt(r64.inputs.Offset,10);if(isNaN(N64)){M8S.O3m(39);N64=M8S.i3m(0,"0");}E64=r64.startFrom;l64=N64;for(k64=r64.startFrom - ("1" ^ 0);k64 >= 0;k64--){g64=C64[k64][U64];if(!g64 && g64 !== 0)continue;if(x64 === null){x64=g64;}if(l64 <= ("0" ^ 0))break;l64--;E64=k64;}if(x64 === null){x64=E64=0;}D64=[];for(k64=E64;k64 < C64.length;k64++){h3P="_";h3P+="C";h3P+="M";h3P+="O ";K3P="_C";K3P+="M";K3P+="O";K3P+=" ";Q3P="obj";Q3P+="ect";A64=C64[k64];g64=A64[y64];if(g64 && typeof g64 == Q3P){g64=g64[r64.subField];}a64=k64 + N64 >= 0 && k64 + N64 < C64.length;Q64=a64?C64[k64 + N64]:null;if(!g64 && g64 !== "0" * 1){if(Q64){Q64[U64]=null;}else if(k64 + N64 >= C64.length){F64={};F64[U64]=null;D64.push(F64);}continue;}if(!A64[K3P + r64.name] && A64["_CMO " + r64.name] !== 0)continue;M8S.O3m(93);var s8o=M8S.F3m(24,18,104,10,1);H64=Math.abs(A64[h3P + r64.name]) / s8o;M8S.c3m(119);v64=M8S.F3m(H64,x64,1,g64,z64,H64,z64);x64=v64;if(k64 < r64.days){v64=null;}if(Q64){Q64[U64]=v64;}else if(k64 + N64 >= C64.length){F64={};F64[U64]=v64;D64.push(F64);}}r64.appendFutureTicks(Y64,D64);};J84.Studies.studyLibrary=J84.extend(J84.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:J84.Studies.calculateChandeForecast,inputs:{Period:+"14",Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:J84.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:r3P}}}});}};F9H=u64=>{O7dd.J9S();var i64,V3P;i64=typeof _CIQ !== "undefined"?_CIQ:u64.CIQ;if(!i64.Studies){console.error("choppiness feature requires first activating studies feature.");}else {V3P="a";V3P+="u";V3P+="t";V3P+="o";i64.Studies.calculateChoppiness=function(p64,e64){var y8S=O7dd;var B64,f3P,P64,X64,d3P;i64.Studies.calculateStudyATR(p64,e64);B64=e64.chart.scrubbed;if(B64.length < e64.days + "1" * 1){e64.error=! !{};return;}for(var h64=Math.max(e64.startFrom,e64.days);h64 < B64.length;h64++){f3P="Sum ";f3P+="True ";f3P+="Range ";P64=B64[h64];if(!P64)continue;if(P64.futureTick)break;X64=w64(e64.days,h64);if(P64[f3P + e64.name]){d3P="Resu";d3P+="lt ";y8S.O3m(49);var u8o=y8S.i3m(3,98,6);y8S.O3m(48);var S8o=y8S.i3m(12,143,12);P64[d3P + e64.name]=u8o * Math.log(P64["Sum True Range " + e64.name] / Math.max(0.000001,X64[S8o] - X64[0])) / Math.log(e64.days);}else if(!isNaN(P64)){P64["Result " + e64.name]=0;}}function w64(f64,I64){var n64,S64;n64=Number.MAX_VALUE * - +"1";S64=Number.MAX_VALUE;for(var J64=I64 - f64 + 1;J64 <= I64;J64++){if(J64 < +"0")continue;n64=Math.max(n64,B64[J64].High);S64=Math.min(S64,B64[J64].Low);}return [S64,n64];}};i64.Studies.studyLibrary=i64.extend(i64.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:i64.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:V3P,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};A9H=d1N=>{var K1N,y3P,m8P,k8P,T8P;K1N=typeof _CIQ !== "undefined"?_CIQ:d1N.CIQ;if(!K1N.Studies){y3P="comparisonStudie";y3P+="s feature requires";y3P+=" first activating studies feature.";console.error(y3P);}else if(!K1N.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {m8P="SP";m8P+="Y";k8P="B";k8P+="e";k8P+="ta";T8P="Correlation Coeffici";T8P+="ent";K1N.Studies.calculateCorrelationCoefficient=function(m1N,j1N){var j8S=O7dd;var O1N,t1N,R1N,M1N,c1N,G1N,q1N,W1N,o1N,T1N,v3P,L3P,S3P,s3P,Z1N,u3P,O3P,U3P,p3P,k1N,g1N,N1N,C1N;O1N=j1N.chart.scrubbed;t1N=j1N.days;if(O1N.length < t1N + 1){j1N.error=! ![];return;}j8S.i9S();j1N.compare=j1N.inputs["Compare To"];if(!j1N.compare){j1N.compare=[];j1N.outputs={};j1N.outputMap={};for(var r1N in m1N.chart.series){R1N=m1N.chart.series[r1N];if(R1N.parameters.color){j1N.compare.push(R1N.display);j1N.outputs["Result " + R1N.display]=R1N.parameters.color;j8S.O3m(120);var L8o=j8S.i3m(11,1234,6,230);j8S.c3m(4);var v8o=j8S.i3m(8678,18);j1N.outputMap["Result " + R1N.display + (904.32 == (L8o,v8o)?(236.22,! !""):" ") + j1N.name]="Result " + R1N.display;}}}else {j1N.compare=[j1N.compare];}if(!j1N.compare.length){j1N.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var s1N=0;s1N < j1N.compare.length;s1N++){M1N=0;c1N=0;j8S.O3m(15);G1N=j8S.F3m(2147483647,"0");q1N=0;W1N=0;o1N=j1N.compare[s1N];T1N=0;for(var b1N=j1N.startFrom - t1N;b1N < O1N.length;b1N++){v3P="_t";v3P+="em";v3P+="ps ";L3P="_t";L3P+="em";L3P+="ps ";S3P="o";S3P+="bje";S3P+="c";S3P+="t";s3P="o";s3P+="bjec";s3P+="t";if(!O1N[b1N])continue;Z1N=O1N[b1N][o1N];if(Z1N && typeof Z1N == s3P){Z1N=Z1N.Close;}if(!Z1N && Z1N !== 0){u3P="_tem";u3P+="p";u3P+="s ";if(b1N > ("0" ^ 0) && O1N[b1N - +"1"] && O1N[b1N - 1]["_temps " + j1N.name] && O1N[b1N - 1]["_temps " + j1N.name].c){Z1N=O1N[b1N - 1][u3P + j1N.name].c;}else {Z1N=+"0";}}if(Z1N && typeof Z1N == S3P){Z1N=Z1N.Close;}O1N[b1N]["_temps " + j1N.name]={};M1N+=O1N[b1N][L3P + j1N.name].b=O1N[b1N].Close;c1N+=O1N[b1N]["_temps " + j1N.name].c=Z1N;G1N+=O1N[b1N][v3P + j1N.name].b2=Math.pow(O1N[b1N].Close,2);q1N+=O1N[b1N]["_temps " + j1N.name].c2=Math.pow(Z1N,2);W1N+=O1N[b1N]["_temps " + j1N.name].bc=O1N[b1N].Close * Z1N;if(T1N >= t1N){O3P="_temp";O3P+="s ";U3P="_t";U3P+="e";U3P+="mp";U3P+="s ";p3P="_tem";p3P+="ps ";M1N-=O1N[b1N - t1N]["_temps " + j1N.name].b;c1N-=O1N[b1N - t1N]["_temps " + j1N.name].c;G1N-=O1N[b1N - t1N][p3P + j1N.name].b2;q1N-=O1N[b1N - t1N][U3P + j1N.name].c2;W1N-=O1N[b1N - t1N][O3P + j1N.name].bc;j8S.O3m(4);var p8o=j8S.i3m(12,10);k1N=G1N / t1N - Math.pow(M1N / t1N,p8o);j8S.c3m(32);var U8o=j8S.i3m(17,1,18);g1N=q1N / t1N - Math.pow(c1N / t1N,"2" * U8o);j8S.c3m(121);var O8o=j8S.F3m(2,0,2,11,5);N1N=W1N / t1N - M1N * c1N / Math.pow(t1N,O8o);C1N=N1N / Math.sqrt(k1N * g1N);j8S.O3m(4);var I8o=j8S.F3m(5666,16);j8S.c3m(106);var b8o=j8S.F3m(20,2649916,19,2,132960);j8S.O3m(78);var t8o=j8S.i3m(15008,2,20,18,37500);j8S.O3m(122);var w8o=j8S.F3m(1,1,5273,3);j8S.O3m(61);var Z8o=j8S.i3m(21,21,4,18,21);j8S.O3m(3);var D8o=j8S.F3m(378,16,21);j8S.O3m(4);var J4o=j8S.i3m(145920,136192);O1N[b1N]["Result " + o1N + ((I8o,b8o) === t8o?(757.22,w8o) >= "6771" * Z8o?(3.11,D8o):(573.30,J4o):" ") + j1N.name]=C1N;}T1N++;}}};K1N.Studies.calculatePerformance=function(Q1N,U1N){var w3P,t3P,b3P,I3P,x1N,A1N,W2P,Y2P,o2P,F1N;w3P="_M";w3P+="A Co";w3P+="mp";t3P="Cl";t3P+="o";t3P+="s";t3P+="e";b3P="m";b3P+="a";I3P="Compa";I3P+="rison Symbol";x1N=U1N.chart.scrubbed;A1N=U1N.inputs[I3P].toUpperCase();if(!A1N){A1N=U1N.study.inputs["Comparison Symbol"];}if(!U1N.days){U1N.days=U1N.study.inputs.Period;}if(x1N.length < U1N.days + 1){W2P=- +"741035465";Y2P=1707396564;o2P=2;for(var a2P="1" | 1;O7dd.P6y(a2P.toString(),a2P.toString().length,29726) !== W2P;a2P++){U1N.error=! !0;o2P+=2;}if(O7dd.F6y(o2P.toString(),o2P.toString().length,44967) !== Y2P){U1N.error=! !"1";}U1N.error=! !"1";return;}K1N.Studies.MA(b3P,U1N.days,t3P,0,"_MA Base",Q1N,U1N);K1N.Studies.MA("ma",U1N.days,A1N,0,w3P,Q1N,U1N);for(var y1N=U1N.startFrom;y1N < x1N.length;y1N++){F1N=x1N[y1N][A1N];if(F1N && (F1N.Close || F1N.Close === 0)){F1N=F1N.Close;}x1N[y1N]["Result " + U1N.name]=x1N[y1N].Close / F1N * (x1N[y1N]["_MA Comp " + U1N.name] / x1N[y1N]["_MA Base " + U1N.name]);}};K1N.Studies.calculateBeta=function(Y1N,v1N){var G8S=O7dd;var X8P,M8P,J8P,D3P,Z3P,D1N,H1N,z1N,l1N,i8P,q8P,j8P,E8P;X8P="_";X8P+="V";X8P+="A";X8P+="R";M8P="_MA";M8P+=" Co";M8P+="m";M8P+="p";J8P="m";J8P+="a";D3P="_B";D3P+="ase";D3P+="Change";D3P+=" ";Z3P="Com";Z3P+="parison Symbo";Z3P+="l";D1N=v1N.chart.scrubbed;H1N=v1N.inputs[Z3P].toUpperCase();if(!H1N){H1N=v1N.study.inputs["Comparison Symbol"];}if(!v1N.days){v1N.days=v1N.study.inputs.Period;}if(D1N.length < v1N.days + 1){v1N.error=! ![];return;}for(var E1N=Math.max(v1N.startFrom,1);E1N < D1N.length;E1N++){G8S.c3m(110);var M4o=G8S.F3m(17,18,291,14,0);G8S.c3m(123);var q4o=G8S.F3m(1,17,8,7,1);D1N[E1N]["_BaseChange " + v1N.name]=D1N[E1N].Close / D1N[E1N - M4o].Close - q4o;z1N=D1N[E1N][H1N];if(z1N && (z1N.Close || z1N.Close === 0)){z1N=z1N.Close;}G8S.c3m(4);l1N=D1N[G8S.F3m(E1N,1)][H1N];if(l1N && (l1N.Close || l1N.Close === "0" >> 1977814272)){l1N=l1N.Close;}G8S.O3m(32);D1N[E1N]["_CompChange " + v1N.name]=G8S.i3m(1,l1N,z1N);}K1N.Studies.MA("ma",v1N.days,D3P + v1N.name,0,"_MA Base",Y1N,v1N);K1N.Studies.MA(J8P,v1N.days,"_CompChange " + v1N.name,0,M8P,Y1N,v1N);for(E1N=Math.max(v1N.startFrom,v1N.days);E1N < D1N.length;E1N++){i8P="_C";i8P+="ompChange";i8P+=" ";q8P="_M";q8P+="A Base ";D1N[E1N]["_COVARn " + v1N.name]=(D1N[E1N]["_BaseChange " + v1N.name] - D1N[E1N][q8P + v1N.name]) * (D1N[E1N]["_CompChange " + v1N.name] - D1N[E1N]["_MA Comp " + v1N.name]);D1N[E1N]["_VARn " + v1N.name]=Math.pow(D1N[E1N][i8P + v1N.name] - D1N[E1N]["_MA Comp " + v1N.name],2);}K1N.Studies.MA("ma",v1N.days,"_COVARn " + v1N.name,0,"_COVAR",Y1N,v1N);K1N.Studies.MA("ma",v1N.days,"_VARn " + v1N.name,+"0",X8P,Y1N,v1N);for(E1N=Math.max(v1N.startFrom,v1N.days * +"2" - 1);E1N < D1N.length;E1N++){j8P="_VA";j8P+="R ";E8P="_";E8P+="COVA";E8P+="R";E8P+=" ";D1N[E1N]["Result " + v1N.name]=D1N[E1N][E8P + v1N.name] / D1N[E1N][j8P + v1N.name];}};K1N.Studies.studyLibrary=K1N.extend(K1N.Studies.studyLibrary,{correl:{name:T8P,range:"-1 to 1",calculateFN:K1N.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:K1N.Studies.initPriceRelative,seriesFN:K1N.Studies.displayVsComparisonSymbol,calculateFN:K1N.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:k8P,centerline:1,initializeFN:K1N.Studies.initPriceRelative,seriesFN:K1N.Studies.displayVsComparisonSymbol,calculateFN:K1N.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":m8P},deferUpdate:!""}});}};Q9H=a1N=>{var l8P,V1N,R8P;l8P="unde";O7dd.i9S();l8P+="f";l8P+="i";l8P+="ned";V1N=typeof _CIQ !== l8P?_CIQ:a1N.CIQ;if(!V1N.Studies){R8P="coppo";R8P+="ck fe";R8P+="ature require";R8P+="s first activating studies feature.";console.error(R8P);}else {V1N.Studies.calculateCoppock=function(w1N,L1N){var l8S=O7dd;var i1N,u1N,P1N,B1N,h1N,X1N,p1N,F8P;i1N=L1N.chart.scrubbed;u1N=L1N.inputs.Field;if(!u1N || u1N == "field"){u1N="Close";}P1N=parseInt(L1N.inputs["Long RoC"],10);if(!P1N){P1N=14;}B1N=parseInt(L1N.inputs["Short RoC"],10);if(!B1N){B1N=11;}h1N=L1N.days;if(!h1N){l8S.O3m(39);h1N=l8S.F3m(0,"10");}if(P1N < B1N){return;}if(i1N.length < Math.max(B1N,P1N,h1N) + 1){L1N.error=! !{};return;}for(var e1N=Math.max(L1N.startFrom,P1N);e1N < i1N.length;e1N++){l8S.c3m(4);X1N=i1N[l8S.i3m(e1N,B1N)][u1N];l8S.c3m(4);p1N=i1N[l8S.i3m(e1N,P1N)][u1N];if(X1N && p1N){F8P="_";F8P+="S";F8P+="u";F8P+="m ";l8S.c3m(2);var i4o=l8S.F3m(83,17);i1N[e1N][F8P + L1N.name]=i4o * (i1N[e1N][u1N] / X1N + i1N[e1N][u1N] / p1N - +"2");}}V1N.Studies.MA("weighted",h1N,"_Sum " + L1N.name,0,"Result",w1N,L1N);};V1N.Studies.studyLibrary=V1N.extend(V1N.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:V1N.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}});}};v9H=n1N=>{var J1N,f8P,r8P,h8P;J1N=typeof _CIQ !== "undefined"?_CIQ:n1N.CIQ;O7dd.J9S();if(!J1N.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {f8P="aut";f8P+="o";r8P="#699";r8P+="1";r8P+="5";r8P+="8";h8P="cl";h8P+="o";h8P+="se";J1N.Studies.calculateDarvas=function(m3N,O3N){var p8S=O7dd;var P8P,g8P,S1N,b3N,q3N,o3N,Z3N,K3N,j3N,M3N,t3N,c3N,R3N,f1N,d3N,s3N,H8P,I1N,e8P,z8P,W8P,N8P,c8P,G8P,x8P,Y8P,o8P;P8P="A";P8P+="T";P8P+="H";g8P="V";g8P+="o";g8P+="lum";g8P+="e Spike";S1N=O3N.chart.scrubbed;b3N=0;q3N=parseInt(O3N.inputs["ATH Lookback Period"],10);if(O3N.inputs[g8P]){J1N.Studies.MA("simple",q3N,"Volume",0,"ADV",m3N,O3N);}p8S.c3m(2);var X4o=p8S.F3m(25,75);o3N=parseFloat(O3N.inputs["Volume % of Avg"]) / X4o;Z3N="n";Z3N+="one";K3N={};j3N=null;M3N=null;t3N=null;p8S.J9S();c3N=parseFloat(O3N.inputs["Level Offset"]);R3N=![];if(R3N){console.log("*****************");}d3N={};["Darvas","Ghost","Profit","Loss",P8P,"ADV","Spike"].forEach(function(r3N){p8S.J9S();d3N[r3N]=r3N + " " + O3N.name;});for(f1N=O3N.startFrom - 1;f1N > 0;f1N--){s3N=S1N[f1N];if(s3N[d3N.Darvas] || s3N[d3N.Ghost]){for(var T3N in d3N){s3N[T3N]=null;}}else {b3N=s3N[d3N.ATH] || 0;M3N=s3N[d3N.Profit];t3N=s3N[d3N.Loss];break;}}for(f1N;f1N < S1N.length;f1N++){H8P="Volume Spi";H8P+="k";H8P+="e";I1N=S1N[f1N];if(!I1N)continue;if(parseFloat(O3N.inputs["Price Minimum"]) <= S1N[b3N].Close){e8P="n";e8P+="o";e8P+="ne";if(j3N && (!j3N.End || f1N == j3N.End + 1)){if(S1N[f1N - 1].Close > K3N.High){K3N={State:1,High:("2" ^ 0) * K3N.High - K3N.Low,Low:K3N.High,Start:f1N,End:2 * K3N.End - K3N.Start + 1};}else {j3N=null;;}if(j3N){I1N[d3N.Ghost]=J1N.clone(K3N);if(R3N){console.log("Ghost begin:" + I1N.DT);}K3N.State=0;if(S1N[K3N.End]){S1N[K3N.End][d3N.Ghost]=J1N.clone(K3N);if(R3N){console.log("Ghost end:" + S1N[K3N.End].DT);}}j3N={Start:K3N.Start,End:K3N.End};M3N=K3N.High + c3N;if(!t3N || t3N < K3N.Low - c3N){t3N=K3N.Low - c3N;}}}I1N[d3N.Profit]=M3N;I1N[d3N.Loss]=t3N;if(I1N.Close >= M3N){M3N=null;}else if(O3N.inputs["Exit Field"] == "high/low" && I1N.High >= M3N){M3N=null;}if(Z3N == e8P){if(f1N == b3N + 3){if(!S1N[b3N + 2][d3N.Darvas] && !S1N[b3N + 1][d3N.Darvas] && !S1N[b3N][d3N.Darvas] && S1N[b3N].High > I1N.High){Z3N="high";;}}}if(Z3N == "high"){if(I1N.High > S1N[b3N].High){Z3N="none";}else if(S1N[f1N - 3].Low < S1N[f1N - +"2"].Low && S1N[f1N - ("3" << 1747231648)].Low < S1N[f1N - 1].Low && S1N[f1N - +"3"].Low < I1N.Low){z8P="Da";z8P+="rvas ";z8P+="b";z8P+="egin:";K3N={State:"1" & 2147483647,High:S1N[b3N].High,Low:S1N[f1N - 3].Low,Start:b3N};S1N[b3N][d3N.Darvas]=J1N.clone(K3N);Z3N="darvas";if(R3N){console.log(z8P + S1N[b3N].DT);}if(R3N){console.log("Darvas established:" + I1N.DT);}if(j3N){if(j3N.End > f1N && S1N[j3N.Start]){I1N[d3N.Ghost]=J1N.clone(S1N[j3N.Start][d3N.Ghost]);I1N[d3N.Ghost].End=f1N;if(S1N[j3N.End]){delete S1N[j3N.End][d3N.Ghost];if(R3N){console.log("Ghost End removed:" + S1N[j3N.End].DT);}}}p8S.O3m(15);I1N[d3N.Ghost].State=p8S.i3m(2147483647,"0");S1N[j3N.Start][d3N.Ghost].End=f1N;if(R3N){console.log("Ghost end:" + I1N.DT);}j3N=null;}M3N=K3N.High + c3N;if(!t3N || t3N < K3N.Low - c3N){t3N=K3N.Low - c3N;}}}if(Z3N == "darvas"){W8P="n";W8P+="o";W8P+="n";W8P+="e";N8P="G";N8P+="ho";N8P+="st Boxe";N8P+="s";c8P="n";c8P+="one";G8P="Ex";G8P+="it Field";x8P="Exit F";x8P+="ield";if(I1N.Close > K3N.High){j3N={};}else if(O3N.inputs[x8P] == "high/low" && I1N.High > K3N.High){j3N={};}else if(I1N.Close < K3N.Low){Z3N="none";}else if(O3N.inputs[G8P] == "high/low" && I1N.Low < K3N.Low){Z3N="none";}if(j3N){Z3N="none";}else if(Z3N == c8P){M3N=null;t3N=null;}if(!O3N.inputs[N8P]){j3N=null;}if(Z3N == W8P){for(var W3N=K3N.Start + 1;W3N < f1N;W3N++){S1N[W3N][d3N.Darvas]=J1N.clone(K3N);}p8S.O3m(6);K3N.State=p8S.F3m("0",1);K3N.End=f1N;I1N[d3N.Darvas]=J1N.clone(K3N);if(R3N){console.log("Darvas end:" + I1N.DT);}I1N[d3N.ATH]=b3N;continue;}}if(t3N){if(I1N.Close < K3N.Low || O3N.inputs["Exit Field"] == "high/low" && I1N.Low < K3N.Low){Y8P="Exit F";Y8P+="ield";if(Z3N == "darvas"){Z3N="none";}if(I1N.Close < t3N || O3N.inputs[Y8P] == "high/low" && I1N.Low < t3N){M3N=null;t3N=null;}if(j3N){o8P="Gho";o8P+="st en";o8P+="d";o8P+=":";if(j3N.End > f1N && S1N[j3N.Start]){I1N[d3N.Ghost]=J1N.clone(S1N[j3N.Start][d3N.Ghost]);I1N[d3N.Ghost].End=f1N;if(S1N[j3N.End]){delete S1N[j3N.End][d3N.Ghost];if(R3N){console.log("Ghost End removed:" + S1N[j3N.End].DT);}}}I1N[d3N.Ghost].State=0;S1N[j3N.Start][d3N.Ghost].End=f1N;if(R3N){console.log(o8P + I1N.DT);}j3N=null;}}}}if(I1N.High >= S1N[b3N].High){b3N=f1N;if(R3N){console.log("All Time High:" + I1N.DT);}}if(f1N < 3 || I1N.High >= S1N[f1N - 1].High && I1N.High >= S1N[f1N - 2].High && I1N.High >= S1N[f1N - 3].High){if(f1N - b3N >= q3N){b3N=f1N;for(var G3N=0;G3N < q3N;G3N++){if(f1N - G3N < 0)break;if(S1N[f1N - G3N].High > S1N[b3N].High){p8S.O3m(4);b3N=p8S.F3m(f1N,G3N);}}if(R3N){console.log("All Time High:" + I1N.DT);}}}if(O3N.inputs[H8P] && f1N > q3N && f1N == b3N){if(I1N[d3N.ADV] * o3N < I1N.Volume){I1N[d3N.Spike]=1;if(R3N){console.log("Volume Spike:" + I1N.DT);}}}I1N[d3N.ATH]=b3N;}};J1N.Studies.displayDarvas=function(g3N,U3N,y3N){var R8S=O7dd;var a8P,a3N,v3N,l3N,x3N,k3N,N3N,C3N,B3N,E3N,F3N,e3N,h3N,w3N,X3N,A3N,Q3N,D3N,L3N,z3N,V3N,H3N,u3N,Y3N,i3N,J3N,P3N,B8P,C8P,A8P,n3N,n8P,Q8P,K8P,o4y,H4y,a4y,p3N;a8P="au";a8P+="t";a8P+="o";a3N=J1N.Studies.determineColor(U3N.outputs.Levels);if(!a3N || a3N == "auto" || J1N.isTransparent(a3N)){a3N=g3N.defaultColor;}v3N=J1N.Studies.determineColor(U3N.outputs.Darvas);if(!v3N || v3N == a8P || J1N.isTransparent(v3N)){v3N=g3N.defaultColor;}l3N=J1N.Studies.determineColor(U3N.outputs.Ghost);if(!l3N || l3N == "auto" || J1N.isTransparent(l3N)){l3N=g3N.defaultColor;}x3N=g3N.panels[U3N.panel];k3N=U3N.getContext(g3N);R8S.c3m(78);var E4o=R8S.i3m(11,3,9,8,24);F3N=g3N.layout.candleWidth - E4o;if(F3N < 2){F3N=1;}g3N.startClip(U3N.panel);if(U3N.inputs["Stop Levels"]){if(k3N.setLineDash){R8S.c3m(21);k3N.setLineDash([2,R8S.i3m(1297070016,"2")]);}k3N.lineWidth=2;k3N.strokeStyle=a3N;k3N.beginPath();for(N3N=0;N3N < y3N.length;N3N++){C3N=y3N[N3N];R8S.c3m(4);e3N=y3N[R8S.F3m(N3N,1)];if(!C3N)continue;E3N=C3N["Loss " + U3N.name]?Math.floor(g3N.pixelFromPrice(C3N["Loss " + U3N.name],x3N)):null;h3N=e3N && e3N["Loss " + U3N.name]?Math.floor(g3N.pixelFromPrice(e3N["Loss " + U3N.name],x3N)):null;if(E3N){if(C3N.candleWidth){F3N=Math.floor(Math.max(1,C3N.candleWidth));}w3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) + F3N / ("2" * 1));X3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) - F3N / 2);if(h3N && h3N >= E3N){k3N.lineTo(X3N,E3N);}else if(N3N === ("0" | 0)){k3N.moveTo(g3N.chart.left,E3N);}else {k3N.moveTo(X3N,E3N);}k3N.lineTo(w3N,E3N);}}k3N.stroke();if(k3N.setLineDash){k3N.setLineDash([]);}R8S.O3m(6);k3N.lineWidth=R8S.F3m("1",1);}A3N=-10;D3N=0;z3N=-10;H3N=0;Y3N=!1;i3N=!1;R8S.O3m(3);var j4o=R8S.i3m(2724,16,338);R8S.c3m(124);var T4o=R8S.i3m(166,14,24,2);J3N=k3N.measureText(("79" ^ 0,j4o) != 9960?"\u25B2":("u",222.68)).width / T4o;P3N=0;for(N3N=0;N3N < y3N.length;N3N++){B8P="Gh";B8P+="o";B8P+="st ";C8P="Da";C8P+="rvas ";A8P="S";A8P+="p";A8P+="ike";A8P+=" ";if(!y3N[N3N])continue;if(y3N[N3N].Close || y3N[N3N].Close === 0){P3N=N3N;}if(y3N[N3N][A8P + U3N.name]){k3N.fillStyle=v3N;k3N.textBaseline="bottom";n3N=g3N.pixelFromPrice(y3N[N3N].High,g3N.chart.panel);k3N.fillText((5583,"77.22" - 0) >= 898.02?(!{},"g"):(5640,+"9869") >= (14,624.68)?"\u25BC":(8.22e+3,+"0x101f"),g3N.pixelFromBar(N3N) - J3N,n3N - 5);;}if(y3N[N3N].candleWidth){F3N=Math.floor(Math.max(1,y3N[N3N].candleWidth));}if(y3N[N3N][C8P + U3N.name]){n8P="D";n8P+="arv";n8P+="a";n8P+="s ";C3N=y3N[N3N][n8P + U3N.name];if(C3N.State == 1 && !Y3N){A3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) - F3N / 2);Q3N=Math.floor(g3N.pixelFromPrice(C3N.High,x3N));L3N=Math.floor(g3N.pixelFromPrice(C3N.Low,x3N)) - Q3N;Y3N=! !"1";}else if(C3N.State === 0){R8S.O3m(118);var k4o=R8S.F3m(12,14,13,196);D3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) + F3N / k4o) - A3N;Q3N=Math.floor(g3N.pixelFromPrice(C3N.High,x3N));L3N=Math.floor(g3N.pixelFromPrice(C3N.Low,x3N)) - Q3N;k3N.strokeStyle=v3N;k3N.fillStyle=v3N;if(!U3N.inputs["Stop Levels"]){k3N.strokeRect(A3N,Q3N,D3N,L3N);k3N.globalAlpha=0.2;}else {k3N.globalAlpha=0.3;}k3N.fillRect(A3N,Q3N,D3N,L3N);k3N.globalAlpha=1;Y3N=! !"";}}if(y3N[N3N][B8P + U3N.name] && U3N.inputs["Ghost Boxes"]){C3N=y3N[N3N]["Ghost " + U3N.name];if(C3N.State == 1 && !i3N){z3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) - F3N / 2);V3N=Math.floor(g3N.pixelFromPrice(C3N.High,x3N));H3N=Math.floor((C3N.End - C3N.Start + 1) * g3N.layout.candleWidth + F3N / 2);u3N=Math.floor(g3N.pixelFromPrice(C3N.Low,x3N)) - V3N;i3N=!"";}else if(C3N.State === 0){Q8P="Stop Le";Q8P+="ve";Q8P+="ls";if(C3N.Start == C3N.End){z3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) - F3N / +"2");}R8S.c3m(2);var m4o=R8S.i3m(0,2);H3N=Math.floor(g3N.pixelFromBar(N3N,x3N.chart) + F3N / m4o) - z3N;V3N=Math.floor(g3N.pixelFromPrice(C3N.High,x3N));u3N=Math.floor(g3N.pixelFromPrice(C3N.Low,x3N)) - V3N;k3N.strokeStyle=l3N;k3N.fillStyle=l3N;if(!U3N.inputs[Q8P]){k3N.strokeRect(z3N,V3N,H3N,u3N);R8S.O3m(6);k3N.globalAlpha=R8S.F3m("0.2",1);}else {k3N.globalAlpha=0.3;}k3N.fillRect(z3N,V3N,H3N,u3N);k3N.globalAlpha=1;i3N=! !"";}}}if(Y3N){R8S.O3m(48);var l4o=R8S.F3m(17,576,34);D3N=Math.floor(g3N.pixelFromBar(P3N,x3N.chart) + F3N / l4o) - A3N;k3N.strokeStyle=v3N;k3N.fillStyle=v3N;if(!U3N.inputs["Stop Levels"]){k3N.beginPath();R8S.O3m(86);k3N.moveTo(R8S.i3m(2,D3N,A3N),Q3N);k3N.lineTo(A3N,Q3N);R8S.c3m(2);k3N.lineTo(A3N,R8S.i3m(Q3N,L3N));R8S.O3m(86);k3N.lineTo(R8S.i3m(2,D3N,A3N),R8S.F3m(Q3N,L3N,R8S.O3m(2)));k3N.stroke();k3N.globalAlpha=0.2;}else {k3N.globalAlpha=0.3;}R8S.O3m(6);k3N.fillRect(A3N,Q3N,R8S.i3m(2,D3N),L3N);k3N.globalAlpha=1;}if(i3N){k3N.strokeStyle=l3N;k3N.fillStyle=l3N;if(!U3N.inputs["Stop Levels"]){k3N.strokeRect(z3N,V3N,H3N,u3N);k3N.globalAlpha=0.2;}else {k3N.globalAlpha=0.3;}k3N.fillRect(z3N,V3N,H3N,u3N);k3N.globalAlpha=1;}if(Y3N || i3N){K8P="S";K8P+="to";K8P+="p";K8P+=" Levels";if(U3N.inputs[K8P]){if(k3N.setLineDash){k3N.setLineDash([2,2]);}R8S.O3m(6);o4y=R8S.F3m("2030737898",1);H4y=-188270777;a4y=2;for(var C4y="1" * 1;R8S.F6y(C4y.toString(),C4y.toString().length,"20744" - 0) !== o4y;C4y++){k3N.lineWidth=2;k3N.strokeStyle=a3N;a4y+=2;}if(R8S.P6y(a4y.toString(),a4y.toString().length,70147) !== H4y){R8S.O3m(29);k3N.lineWidth=R8S.F3m(1778849856,"6");k3N.strokeStyle=a3N;}p3N=Math.floor(g3N.pixelFromBar(P3N - ("1" ^ 0),x3N.chart) + F3N / 2);if(B3N){k3N.beginPath();k3N.moveTo(p3N,B3N);k3N.lineTo(Y3N?A3N + 2 * D3N:z3N + H3N,B3N);k3N.stroke();}if(E3N){k3N.beginPath();k3N.moveTo(p3N,E3N);k3N.lineTo(Y3N?A3N + 2 * D3N:z3N + H3N,E3N);k3N.stroke();}if(k3N.setLineDash){k3N.setLineDash([]);}k3N.lineWidth=1;}Y3N=!{};i3N=! !"";}g3N.endClip();};J1N.Studies.studyLibrary=J1N.extend(J1N.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !{},calculateFN:J1N.Studies.calculateDarvas,seriesFN:J1N.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[h8P,"high/low"],"Ghost Boxes":!"","Stop Levels":!1,"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!"1","Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:r8P,Levels:f8P},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:"0.01" * 1},yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !1}}}});}};E9H=I3N=>{var S3N;S3N=typeof _CIQ !== "undefined"?_CIQ:I3N.CIQ;if(!S3N.Studies){console.error("detrended feature requires first activating studies feature.");}else {S3N.Studies.calculateDetrendedPrice=function(t7N,f3N){var A8S=O7dd;var j7N,n4y,B4y,Q4y,b7N,O7N,K7N,Z7N;j7N=f3N.chart.scrubbed;if(j7N.length < f3N.days + 1){n4y=50374381;B4y=-1778185506;Q4y=2;for(var h4y=1;A8S.F6y(h4y.toString(),h4y.toString().length,"43234" >> 95075008) !== n4y;h4y++){f3N.error=!{};return;}if(A8S.P6y(Q4y.toString(),Q4y.toString().length,76446) !== B4y){f3N.error=! !"1";return;}}b7N=f3N.inputs.Field;A8S.i9S();if(!b7N || b7N == "field"){b7N="Close";}O7N=Math.floor(f3N.days / 2 + 1);S3N.Studies.MA(f3N.inputs["Moving Average Type"],f3N.days,b7N,-O7N,"MA",t7N,f3N);for(var d7N=Math.max(f3N.days - O7N - 1,f3N.startFrom - O7N);d7N < j7N.length - O7N;d7N++){if(d7N < 0)continue;K7N=j7N[d7N][b7N];if(K7N && typeof K7N == "object"){K7N=K7N[f3N.subField];}Z7N=j7N[d7N]["MA " + f3N.name];if((K7N || K7N === "0" * 1) && (Z7N || Z7N === 0)){A8S.c3m(4);j7N[d7N]["Result " + f3N.name]=A8S.i3m(K7N,Z7N);}}};S3N.Studies.studyLibrary=S3N.extend(S3N.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:S3N.Studies.calculateDetrendedPrice,inputs:{Period:"14" & 2147483647,Field:"field","Moving Average Type":"ma"}}});}};D9H=M7N=>{var d8P,R7N,V8P;d8P="u";d8P+="nde";d8P+="fin";O7dd.i9S();d8P+="ed";R7N=typeof _CIQ !== d8P?_CIQ:M7N.CIQ;if(!R7N.Studies){V8P="disparit";V8P+="y feature requires first ";V8P+="activating st";V8P+="udies feature.";console.error(V8P);}else {R7N.Studies.calculateDisparity=function(o7N,c7N){var f8S=O7dd;f8S.J9S();var y8P,s7N,q7N,W7N;y8P="Mov";y8P+="ing";y8P+=" Average Type";s7N=c7N.chart.scrubbed;if(s7N.length < c7N.days + "1" * 1){c7N.error=! !{};return;}q7N=c7N.inputs.Field;if(!q7N || q7N == "field"){q7N="Close";}R7N.Studies.MA(c7N.inputs[y8P],c7N.days,q7N,0,"_MA",o7N,c7N);for(var G7N=Math.max(c7N.startFrom,c7N.days - 1);G7N < s7N.length;G7N++){if(!s7N[G7N])continue;W7N=s7N[G7N]["_MA " + c7N.name];if(W7N){f8S.O3m(87);var R4o=f8S.i3m(15,22325,5,1500);f8S.O3m(32);var F4o=f8S.i3m(2,5,15);s7N[G7N]["Result " + c7N.name]=R4o * (s7N[G7N][q7N] / W7N - F4o);}}};R7N.Studies.studyLibrary=R7N.extend(R7N.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:R7N.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};z9H=m7N=>{var T7N,t4y,w4y,Z4y,u8P;T7N=typeof _CIQ !== "undefined"?_CIQ:m7N.CIQ;O7dd.i9S();if(!T7N.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {T7N.Studies.calculateEaseOfMovement=function(F7N,g7N){var L8S=O7dd;var r7N,s8P,C7N,U7N,x7N,y7N,N7N;L8S.i9S();r7N=g7N.chart.scrubbed;if(r7N.length < g7N.days){g7N.error=! ![];return;}for(var k7N=Math.max(1,g7N.startFrom);k7N < r7N.length;k7N++){s8P="_";s8P+="EOM";s8P+="1 ";L8S.c3m(125);var g4o=L8S.i3m(12,5,6,15,3);C7N=(r7N[k7N].High + r7N[k7N].Low) / g4o;L8S.O3m(126);var P4o=L8S.i3m(6,12,5,9,239);L8S.O3m(56);var e4o=L8S.F3m(18,326,18);U7N=(r7N[k7N - +"1"].High + r7N[k7N - P4o].Low) / e4o;L8S.c3m(4);x7N=L8S.i3m(C7N,U7N);L8S.c3m(48);var z4o=L8S.F3m(18,1700000180,100000010);y7N=r7N[k7N].Volume / z4o / (r7N[k7N].High - r7N[k7N].Low);L8S.O3m(10);N7N=L8S.i3m(x7N,y7N);if(!isFinite(N7N)){r7N[k7N][s8P + g7N.name]=NaN;}else {r7N[k7N]["_EOM1 " + g7N.name]=N7N;}}T7N.Studies.MA(g7N.inputs["Moving Average Type"],g7N.days,"_EOM1 " + g7N.name,0,"Result",F7N,g7N);};t4y=908545253;w4y=2028059808;Z4y=2;for(var J2P=1;O7dd.F6y(J2P.toString(),J2P.toString().length,+"32608") !== t4y;J2P++){u8P="Ease";u8P+=" of Movement";T7N.Studies.studyLibrary=T7N.extend(T7N.Studies.studyLibrary,{EOM:{name:u8P,calculateFN:T7N.Studies.calculateEaseOfMovement,inputs:{Period:+"12","Moving Average Type":"ma"}}});Z4y+=+"2";}if(O7dd.F6y(Z4y.toString(),Z4y.toString().length,60075) !== w4y){T7N.Studies.studyLibrary=T7N.extend(T7N.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:T7N.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}}};l9H=Q7N=>{var A7N;A7N=typeof _CIQ !== "undefined"?_CIQ:Q7N.CIQ;if(!A7N.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {A7N.Studies.calculateEhlerFisher=function(a7N,v7N){var r8S=O7dd;var S8P,D7N,E7N,v8P,L8P,l7N,H7N,Y7N;S8P="_";function V7N(B7N,P7N){var i7N,u7N,e7N;i7N=Number.MAX_VALUE;u7N=Number.MAX_VALUE * - +"1";for(var L7N=P7N - B7N + 1;L7N <= P7N;L7N++){r8S.c3m(48);var x4o=r8S.F3m(20,558,28);e7N=(D7N[L7N].High + D7N[L7N].Low) / x4o;i7N=Math.min(i7N,e7N);u7N=Math.max(u7N,e7N);}return [i7N,u7N];}S8P+="n ";D7N=v7N.chart.scrubbed;if(D7N.length < v7N.days + 1){v7N.error=! !1;return;}r8S.i9S();E7N=0;if(v7N.startFrom > 1){r8S.c3m(4);var G4o=r8S.i3m(16,15);E7N=D7N[v7N.startFrom - G4o][S8P + v7N.name];}for(var z7N=v7N.startFrom;z7N < D7N.length;z7N++){v8P="_";v8P+="n";v8P+=" ";L8P="E";L8P+="F";L8P+=" ";l7N=D7N[z7N];if(l7N.futureTick)break;if(z7N < v7N.days - 1){l7N["EF " + v7N.name]=l7N["EF Trigger " + v7N.name]=E7N;continue;}H7N=V7N(v7N.days,z7N);r8S.O3m(1);var c4o=r8S.i3m(18,14,24,36,2);r8S.O3m(3);var N4o=r8S.i3m(19,18,1);r8S.c3m(4);var W4o=r8S.F3m(4,3);E7N=0.33 * c4o * (((D7N[z7N].High + D7N[z7N].Low) / N4o - H7N[+"0"]) / Math.max(0.000001,H7N[W4o] - H7N[0]) - 0.5) + +"0.67" * E7N;if(E7N > 0){E7N=Math.min(E7N,0.9999);}else if(E7N < 0){E7N=Math.max(E7N,-0.9999);}Y7N=z7N?D7N[z7N - 1]["EF " + v7N.name]:0;r8S.O3m(69);var Y4o=r8S.i3m(1,12,11);r8S.c3m(40);var o4o=r8S.i3m(5,13,19);l7N[L8P + v7N.name]=0.5 * Math.log((Y4o + E7N) / (o4o - E7N)) + 0.5 * Y7N;l7N["EF Trigger " + v7N.name]=Y7N;l7N[v8P + v7N.name]=E7N;}};A7N.Studies.studyLibrary=A7N.extend(A7N.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:A7N.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};H9H=X7N=>{var h7N,X4P,i4P,q4P,M4P;h7N=typeof _CIQ !== "undefined"?_CIQ:X7N.CIQ;if(!h7N.Studies){console.error("elder feature requires first activating studies feature.");}else {X4P="#5F7CB";X4P+="8";i4P="Elder Impulse";i4P+=" Syst";i4P+="em";q4P="E";q4P+="l";q4P+="der Ray Index";M4P="Elder Force ";M4P+="I";M4P+="ndex";h7N.Studies.calculateElderImpulse=function(I7N,p7N){var d8S=O7dd;var J7N,f7N,K2N,S7N,n7N,O8P,U8P,p8P;J7N=p7N.chart.scrubbed;f7N=p7N.outputs.Bullish;K2N=p7N.outputs.Bearish;S7N=p7N.outputs.Neutral;h7N.Studies.MA("exponential",13,"Close",+"0","_MA",I7N,p7N);d8S.O3m(124);var H4o=d8S.F3m(1350,8,170,1);d8S.c3m(4);var a4o=d8S.F3m(8455,10);d8S.c3m(48);var A4o=d8S.i3m(6,9408,1885);d8S.c3m(4);d8S.i9S();var C4o=d8S.i3m(3518,8);d8S.O3m(127);var n4o=d8S.F3m(5601,1403,155,1,8);d8S.O3m(38);var B4o=d8S.F3m(4,127387,13,32760);d8S.O3m(16);var Q4o=d8S.i3m(3,92615,101860,18);p7N.macd=new h7N.Studies.StudyDescriptor((+"1790" === H4o?(228.42,a4o) > A4o?C4o >= n4o?(B4o,! !""):Q4o:![]:"_") + p7N.name,"macd",p7N.panel);p7N.macd.chart=p7N.chart;p7N.macd.days=p7N.days;p7N.macd.startFrom=p7N.startFrom;p7N.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};p7N.macd.outputs={_MACD:null,_Signal:null};h7N.Studies.calculateMACD(I7N,p7N.macd);for(var w7N=p7N.startFrom;w7N < J7N.length;w7N++){O8P="_hi";O8P+="st";U8P="_";U8P+="M";U8P+="A ";p8P="_";p8P+="M";p8P+="A";p8P+=" ";if(w7N === ("0" & 2147483647)){n7N=S7N;}else if(J7N[w7N][p8P + p7N.name] > J7N[w7N - 1]["_MA " + p7N.name] && J7N[w7N][(("2320" >> 207803424,5830) >= (369.65,2640)?"_":"z") + p7N.name + "_hist"] > J7N[w7N - 1][(1290 === 9270?(! !"1",0x1db5):"_") + p7N.name + "_hist"]){n7N=f7N;}else if(J7N[w7N]["_MA " + p7N.name] < J7N[w7N - 1][U8P + p7N.name] && J7N[w7N][(768.12 === 9640?(! !0,0x1308):(453.65,317.31) <= (6238,988)?"_":(596.79,1.06e+3)) + p7N.name + O8P] < J7N[w7N - 1][((597,+"541.07") >= 6500?0x1f8b:"_") + p7N.name + "_hist"]){n7N=K2N;}else {n7N=S7N;}J7N[w7N]["Result " + p7N.name]=n7N;;}};h7N.Studies.calculateElderRay=function(O2N,d2N){var T8S=O7dd;var j2N,C9y,n9y,B9y,I8P;j2N=d2N.chart.scrubbed;if(j2N.length < d2N.days){d2N.error=! !{};T8S.c3m(39);C9y=T8S.F3m(739246144,"2124153048");n9y=+"1810197907";B9y=2;for(var K9y=1;T8S.P6y(K9y.toString(),K9y.toString().length,96398) !== C9y;K9y++){return;}if(T8S.P6y(B9y.toString(),B9y.toString().length,27854) !== n9y){return;}return;}h7N.Studies.MA("exponential",d2N.days,"Close",0,"_EMA",O2N,d2N);for(var b2N=Math.max(d2N.startFrom,d2N.days - 1);b2N < j2N.length;b2N++){I8P="_h";I8P+="i";I8P+="s";I8P+="t1";j2N[b2N][d2N.name + I8P]=j2N[b2N].High - j2N[b2N]["_EMA " + d2N.name];j2N[b2N][d2N.name + "_hist2"]=j2N[b2N].Low - j2N[b2N]["_EMA " + d2N.name];}d2N.outputMap={};d2N.outputMap[d2N.name + "_hist1"]="";d2N.outputMap[d2N.name + "_hist2"]="";};h7N.Studies.calculateElderForce=function(M2N,Z2N){var t2N;t2N=Z2N.chart.scrubbed;O7dd.i9S();if(t2N.length < Z2N.days){Z2N.error=!"";return;}for(var R2N=Math.max(1,Z2N.startFrom);R2N < t2N.length;R2N++){O7dd.c3m(128);var K4o=O7dd.F3m(15,3,26,5,0);t2N[R2N]["_EF1 " + Z2N.name]=t2N[R2N].Volume * (t2N[R2N].Close - t2N[R2N - K4o].Close);}h7N.Studies.MA("exponential",Z2N.days,"_EF1 " + Z2N.name,0,"Result",M2N,Z2N);};h7N.Studies.initElderImpulse=function(s2N,q2N,W2N,o2N,G2N,T2N){var b8P,c2N;O7dd.i9S();b8P="colore";b8P+="d";b8P+="_b";b8P+="ar";c2N=h7N.Studies.initializeFN(s2N,q2N,W2N,o2N,G2N,T2N);if(G2N.calculateOnly){return c2N;}s2N.chart.customChart={chartType:b8P,colorFunction:function(k2N,r2N,g2N){var t8P,m2N;t8P="ob";t8P+="j";t8P+="ec";t8P+="t";m2N=r2N["Result " + c2N.name];if(m2N && typeof m2N == t8P){m2N=m2N.color;}return m2N;}};s2N.setMainSeriesRenderer();return c2N;};h7N.Studies.displayElderForce=function(C2N,N2N,A2N){var x2N,y2N,F2N,U2N;h7N.Studies.displaySeriesAsLine(C2N,N2N,A2N);x2N=h7N.Studies.determineColor(N2N.outputs.Result);O7dd.i9S();y2N=C2N.panels[N2N.panel];F2N=N2N.getYAxis(C2N);U2N={skipTransform:y2N.name != N2N.chart.name,panelName:N2N.panel,band:"Result " + N2N.name,threshold:0,color:x2N,yAxis:F2N};if(!N2N.highlight && C2N.highlightedDraggable){U2N.opacity=0.3;}U2N.direction=1;h7N.preparePeakValleyFill(C2N,U2N);U2N.direction=-1;h7N.preparePeakValleyFill(C2N,U2N);};h7N.Studies.displayElderRay=function(v2N,Q2N,L2N){var H8S=O7dd;var w8P,H2N,z2N,V2N,a2N,l2N,i2N,J4P,D8P,Z8P,E2N;w8P="st";w8P+="x_histo";w8P+="gram";H2N=v2N.panels[Q2N.panel];z2N=Q2N.getContext(v2N);V2N=Q2N.getYAxis(v2N);a2N=v2N.pixelFromPrice(0,H2N,V2N);H8S.c3m(129);var h4o=H8S.F3m(8,17,2,13,8);l2N=v2N.layout.candleWidth - h4o;if(l2N < 2){l2N=1;}v2N.canvasColor(w8P);i2N=z2N.fillStyle;if(!Q2N.underlay){z2N.globalAlpha=1;}v2N.startClip(Q2N.panel);if(!Q2N.highlight && v2N.highlightedDraggable){z2N.globalAlpha*=0.3;}for(var D2N=0;D2N < L2N.length;D2N++){J4P="_h";J4P+="ist2";D8P="_hist";D8P+="2";Z8P="_";Z8P+="h";Z8P+="is";Z8P+="t1";E2N=L2N[D2N];if(!E2N)continue;if(E2N.candleWidth){l2N=Math.floor(Math.max(1,E2N.candleWidth - 2));}if(E2N[Q2N.name + "_hist1"] > 0){Y2N(D2N,0,"Elder Bull Power","_hist1");}if(E2N[Q2N.name + "_hist2"] < 0){H8S.c3m(39);Y2N(D2N,H8S.i3m(0,"0"),"Elder Bear Power","_hist2");}if(E2N[Q2N.name + "_hist1"] < ("0" | 0)){Y2N(D2N,0.1,"Elder Bull Power",Z8P);}if(E2N[Q2N.name + D8P] > 0){Y2N(D2N,0.1,"Elder Bear Power",J4P);}}v2N.endClip();function Y2N(e2N,u2N,P2N,B2N){H8S.i9S();z2N.fillStyle=h7N.Studies.determineColor(Q2N.outputs[P2N]);z2N.fillRect(Math.floor(v2N.pixelFromBar(e2N,H2N.chart) - l2N / 2 + l2N * u2N),Math.floor(a2N),Math.floor(l2N * (1 - 2 * u2N)),Math.floor(v2N.pixelFromPrice(E2N[Q2N.name + B2N],H2N,V2N) - a2N));}z2N.fillStyle=i2N;};h7N.Studies.studyLibrary=h7N.extend(h7N.Studies.studyLibrary,{"Elder Force":{name:M4P,calculateFN:h7N.Studies.calculateElderForce,seriesFN:h7N.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:q4P,seriesFN:h7N.Studies.displayElderRay,calculateFN:h7N.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:i4P,calculateFN:h7N.Studies.calculateElderImpulse,initializeFN:h7N.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! !1,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:X4P},removeFN:function(h2N,X2N){h2N.chart.customChart=null;h2N.setMainSeriesRenderer();}}});}};Y9H=w2N=>{var p2N,k4P;p2N=typeof _CIQ !== "undefined"?_CIQ:w2N.CIQ;if(!p2N.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {k4P="Fractal";k4P+=" Chaos Oscillato";k4P+="r";p2N.Studies.calculateFractalChaos=function(O9N,I2N){var n2N,K9N,d9N,f2N,E4P,j9N,b9N,S2N,j4P,T4P;n2N=I2N.chart.scrubbed;K9N=0;d9N=0;f2N=0;if(I2N.startFrom && I2N.type == "Fractal Chaos Bands"){E4P="F";E4P+="r";E4P+="acta";E4P+="l High ";K9N=n2N[I2N.startFrom - +"1"][E4P + I2N.name];O7dd.O3m(57);var r4o=O7dd.i3m(20,16,0,5);d9N=n2N[I2N.startFrom - r4o]["Fractal Low " + I2N.name];}for(var J2N=Math.max(4,I2N.startFrom);J2N < n2N.length;J2N++){if(n2N[J2N].futureTick)break;j9N=!isNaN(n2N[J2N].High);b9N=!isNaN(n2N[J2N].Low);if(j9N || b9N){n2N[J2N]["Result " + I2N.name]=0;}f2N=0;for(S2N=+"0";S2N <= J2N;S2N++){if(!n2N[J2N - S2N])break;if(n2N[J2N - S2N].High > n2N[J2N - 2].High)break;if(S2N < 2 && n2N[J2N - S2N].High == n2N[J2N - +"2"].High)break;if(n2N[J2N - S2N].High < n2N[J2N - 2].High){f2N++;}if(f2N == "4" >> 429180224){K9N=n2N[J2N - 2].High;break;}}if(I2N.type == "Fractal Chaos Bands"){if(j9N){n2N[J2N]["Fractal High " + I2N.name]=K9N > "0" << 382266816?K9N:null;}}else if(f2N == 4){n2N[J2N]["Result " + I2N.name]=1;}f2N=0;for(S2N=0;S2N <= J2N;S2N++){if(!n2N[J2N - S2N])break;if(n2N[J2N - S2N].Low < n2N[J2N - ("2" << 1817409600)].Low)break;if(S2N < 2 && n2N[J2N - S2N].Low == n2N[J2N - +"2"].Low)break;if(n2N[J2N - S2N].Low > n2N[J2N - 2].Low){f2N++;}if(f2N == 4){d9N=n2N[J2N - 2].Low;break;}}if(I2N.type == "Fractal Chaos Bands"){j4P="Fractal Low";j4P+=" ";if(b9N){n2N[J2N][j4P + I2N.name]=d9N > 0?d9N:null;}}else if(f2N == 4){T4P="Resu";T4P+="l";T4P+="t ";n2N[J2N][T4P + I2N.name]=-1;}}};p2N.Studies.studyLibrary=p2N.extend(p2N.Studies.studyLibrary,{"Fractal Chaos":{name:k4P,range:"-1 to 1",calculateFN:p2N.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! ![],calculateFN:p2N.Studies.calculateFractalChaos,seriesFN:p2N.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};V9H=t9N=>{var Z9N,W4P,N4P,c4P,G4P,x4P,z4P;O7dd.J9S();Z9N=typeof _CIQ !== "undefined"?_CIQ:t9N.CIQ;if(!Z9N.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {W4P="High";W4P+=" Minus";W4P+=" L";W4P+="ow";N4P="Vertical Horizontal F";N4P+="ilte";N4P+="r";c4P="Williams";c4P+=" %R";G4P="Highest";G4P+=" High ";G4P+="Value";x4P="au";x4P+="to";z4P="D";z4P+="onc";z4P+="hian Channel";Z9N.Studies.calculateMaxHighMinLow=function(m9N,R9N){var z8S=O7dd;var m4P,M9N,T9N,o9N,q9N,G9N,s9N,g4P,F4P,R4P,l4P,W9N,e4P,P4P;m4P="H";m4P+="igh Period";M9N=R9N.chart.scrubbed;T9N=R9N.days;o9N=R9N.days;if(R9N.inputs[m4P]){T9N=R9N.inputs["High Period"];}if(R9N.inputs["Low Period"]){o9N=R9N.inputs["Low Period"];}if(M9N.length < Math.max(T9N,o9N) + 1){R9N.error=! !{};return;}q9N=Number.MAX_VALUE;G9N=Number.MAX_VALUE * -("1" - 0);if(R9N.startFrom > 1){for(s9N=1;s9N < T9N;s9N++){if(R9N.startFrom - s9N >= "0" >> 717063552){G9N=Math.max(G9N,M9N[R9N.startFrom - s9N].High);}}for(s9N=1;s9N < o9N;s9N++){if(R9N.startFrom - s9N >= +"0"){q9N=Math.min(q9N,M9N[R9N.startFrom - s9N].Low);}}}for(var c9N=Math.max(0,R9N.startFrom - 1);c9N < M9N.length;c9N++){g4P="Williams";g4P+=" %R";F4P="V";F4P+="T HZ Filte";F4P+="r";R4P="Go";R4P+="p";R4P+="al";R4P+="a";l4P="D";l4P+="onchia";l4P+="n ";l4P+="Width";G9N=Math.max(G9N,M9N[c9N].High);q9N=Math.min(q9N,M9N[c9N].Low);if(c9N >= T9N){if(M9N[c9N - T9N].High == G9N){G9N=M9N[c9N].High;for(s9N=1;s9N < T9N;s9N++){G9N=Math.max(G9N,M9N[c9N - s9N].High);}}}if(c9N >= o9N){if(M9N[c9N - o9N].Low == q9N){q9N=M9N[c9N].Low;for(s9N=1;s9N < o9N;s9N++){q9N=Math.min(q9N,M9N[c9N - s9N].Low);}}}W9N=0;if(R9N.type == "HHV"){W9N=G9N;}else if(R9N.type == "LLV"){W9N=q9N;}else if(R9N.type == l4P){z8S.c3m(4);W9N=z8S.F3m(G9N,q9N);}else if(R9N.type == "GAPO" || R9N.type == R4P){W9N=Math.log(G9N - q9N) / Math.log(o9N);}else if(R9N.type == F4P){z8S.O3m(4);W9N=z8S.F3m(G9N,q9N);M9N[c9N]["_MHML " + R9N.name]=W9N;continue;}else if(R9N.type == g4P){z8S.O3m(130);var f4o=z8S.F3m(7,13,52,5);W9N=f4o * (G9N - M9N[c9N].Close) / (G9N - q9N);M9N[c9N]["Result " + R9N.name]=W9N;continue;}if(c9N == M9N.length - ("1" ^ 0))break;if(!M9N[c9N + 1].futureTick){if(R9N.type == "Donchian Channel"){e4P="Donchian";e4P+=" ";e4P+="Lo";e4P+="w ";P4P="Do";P4P+="nc";P4P+="hian High";P4P+=" ";z8S.O3m(2);M9N[z8S.F3m(c9N,1)][P4P + R9N.name]=G9N;z8S.O3m(2);M9N[z8S.i3m(c9N,1)][e4P + R9N.name]=q9N;z8S.c3m(2);M9N[z8S.i3m(c9N,1)]["Donchian Median " + R9N.name]=z8S.F3m(2,q9N,G9N,z8S.O3m(7));}else {z8S.O3m(2);M9N[z8S.F3m(c9N,1)]["Result " + R9N.name]=W9N;}}}};Z9N.Studies.calculateVerticalHorizontalFilter=function(x9N,r9N){var k9N,N9N,C9N,U9N;k9N=r9N.chart.scrubbed;if(k9N.length < r9N.days + 1){r9N.error=! ![];return;}r9N.mhml=new Z9N.Studies.StudyDescriptor(r9N.name,r9N.type,r9N.panel);r9N.mhml.chart=r9N.chart;r9N.mhml.days=r9N.days;r9N.mhml.startFrom=r9N.startFrom;r9N.mhml.inputs={};r9N.mhml.outputs={_MHML:null};Z9N.Studies.calculateMaxHighMinLow(x9N,r9N.mhml);O7dd.O3m(29);N9N=O7dd.F3m(1175751584,"0");C9N=[];for(var g9N=Math.max(1,r9N.startFrom - r9N.days);g9N < k9N.length;g9N++){U9N=Math.abs(k9N[g9N].Close - k9N[g9N - ("1" >> 74999936)].Close);C9N.push(U9N);N9N+=U9N;if(C9N.length == r9N.days){k9N[g9N]["Result " + r9N.name]=k9N[g9N]["_MHML " + r9N.name] / N9N;N9N-=C9N.shift();}}};Z9N.Studies.studyLibrary=Z9N.extend(Z9N.Studies.studyLibrary,{"Donchian Channel":{name:z4P,overlay:! !{},calculateFN:Z9N.Studies.calculateMaxHighMinLow,seriesFN:Z9N.Studies.displayChannel,inputs:{"High Period":"20" ^ 0,"Low Period":"20" * 1,"Channel Fill":!""},outputs:{"Donchian High":x4P,"Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:Z9N.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:Z9N.Studies.calculateMaxHighMinLow},HHV:{name:G4P,calculateFN:Z9N.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:Z9N.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:c4P,calculateFN:Z9N.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:N4P,calculateFN:Z9N.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:W4P,calculateFN:function(Q9N,A9N){var F9N;F9N=A9N.chart.scrubbed;for(var y9N=A9N.startFrom;y9N < F9N.length;y9N++){F9N[y9N]["Result " + A9N.name]=F9N[y9N].High - F9N[y9N].Low;}},inputs:{}}});}};a9H=E9N=>{var v9N,Q4P,B4P,n4P,C4P;v9N=typeof _CIQ !== "undefined"?_CIQ:E9N.CIQ;if(!v9N.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {Q4P="#FF";Q4P+="0000";B4P="#F";B4P+="F0000";n4P="#000";n4P+="0FF";C4P="Ichimoku ";C4P+="C";C4P+="louds";v9N.Studies.calculateIchimoku=function(e9N,z9N){var e8S=O7dd;var Y4P,l9N,H9N,D9N,Y9N,L9N,H4P,o4P,i9N,u9N,a4P,V9N;Y4P="L";Y4P+="agg";Y4P+="ing Span Per";Y4P+="iod";l9N=z9N.chart.scrubbed;H9N={Base:Number(z9N.inputs["Base Line Period"]),Conv:Number(z9N.inputs["Conversion Line Period"]),LeadB:Number(z9N.inputs["Leading Span B Period"]),Lag:Number(z9N.inputs[Y4P])};for(D9N=z9N.startFrom;D9N < l9N.length;D9N++){if(!l9N[D9N])continue;Y9N=a9N(H9N.Conv,D9N);e8S.c3m(3);var d4o=e8S.i3m(5,5,1);e8S.c3m(8);var V4o=e8S.i3m(14,17,5);l9N[D9N]["Conversion Line " + z9N.name]=(Y9N[d4o] + Y9N[0]) / V4o;Y9N=a9N(H9N.Base,D9N);e8S.c3m(131);var y4o=e8S.i3m(19,6,11,35);e8S.c3m(12);var s4o=e8S.i3m(7,2,11);l9N[D9N]["Base Line " + z9N.name]=(Y9N[y4o] + Y9N[0]) / s4o;if(D9N < H9N.Lag)continue;l9N[D9N - H9N.Lag]["Lagging Span " + z9N.name]=l9N[D9N].Close;}L9N=[];for(D9N=Math.max(0,z9N.startFrom - H9N.Base);D9N < l9N.length;D9N++){H4P="B";H4P+="a";H4P+="se Li";H4P+="ne ";o4P="Conversio";o4P+="n Li";o4P+="ne";o4P+=" ";Y9N=a9N(H9N.LeadB,D9N);e8S.c3m(16);var u4o=e8S.F3m(9,3,10,4);i9N=(l9N[D9N][o4P + z9N.name] + l9N[D9N][H4P + z9N.name]) / u4o;e8S.O3m(2);var S4o=e8S.F3m(0,1);e8S.c3m(126);var L4o=e8S.F3m(0,15,7,15,328);u9N=(Y9N[S4o] + Y9N[0]) / L4o;if(l9N[D9N + H9N.Base]){l9N[D9N + H9N.Base]["Leading Span A " + z9N.name]=i9N;l9N[D9N + H9N.Base]["Leading Span B " + z9N.name]=u9N;}else {a4P="Leadin";a4P+="g Span A";a4P+=" ";V9N={};V9N[a4P + z9N.name]=i9N;V9N["Leading Span B " + z9N.name]=u9N;L9N.push(V9N);}}z9N.appendFutureTicks(e9N,L9N);function a9N(p9N,X9N){var B9N,h9N;e8S.J9S();B9N=Number.MAX_VALUE;e8S.O3m(125);var v4o=e8S.F3m(4,5,20,2,3);h9N=Number.MAX_VALUE * v4o;for(var P9N=X9N - p9N + 1;P9N <= X9N;P9N++){if(P9N < 0)continue;B9N=Math.min(B9N,l9N[P9N].Low);h9N=Math.max(h9N,l9N[P9N].High);}return [B9N,h9N];}};v9N.Studies.displayIchimoku=function(J9N,w9N,b4N){var A4P,n9N,S9N,K4N,d4N,j4N,I9N,f9N;O7dd.J9S();A4P="Leadin";A4P+="g Span B ";n9N="Leading Span A " + w9N.name;S9N=A4P + w9N.name;K4N=v9N.Studies.determineColor(w9N.outputs[w9N.outputMap[n9N]]);d4N=v9N.Studies.determineColor(w9N.outputs[w9N.outputMap[S9N]]);j4N=J9N.panels[w9N.panel];I9N=w9N.getYAxis(J9N);f9N={topBand:n9N,bottomBand:S9N,topColor:K4N,bottomColor:d4N,skipTransform:j4N.name != w9N.chart.name,topAxis:I9N,bottomAxis:I9N,opacity:0.3};if(!w9N.highlight && J9N.highlightedDraggable){f9N.opacity*=0.3;}v9N.fillIntersecting(J9N,w9N.panel,f9N);v9N.Studies.displaySeriesAsLine(J9N,w9N,b4N);};v9N.Studies.studyLibrary=v9N.extend(v9N.Studies.studyLibrary,{"Ichimoku Clouds":{name:C4P,overlay:!"",calculateFN:v9N.Studies.calculateIchimoku,seriesFN:v9N.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":n4P,"Base Line":B4P,"Leading Span A":"#00FF00","Leading Span B":Q4P,"Lagging Span":"#808000"}}});}};L9H=Z4N=>{var O4N,h4P;O4N=typeof _CIQ !== "undefined"?_CIQ:Z4N.CIQ;O7dd.i9S();if(!O4N.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {h4P="a";h4P+="uto";O4N.Studies.calculateIntradayMomentum=function(o4N,t4N){var c8S=O7dd;var R4N,G4N,c4N,s4N,K4P,q4N,W4N;R4N=t4N.chart.scrubbed;G4N=t4N.days;if(R4N.length < G4N + 1){t4N.error=! ![];return;}c4N=0;s4N=0;if(t4N.startFrom > +"1"){K4P="_to";K4P+="tUp";K4P+=" ";c8S.c3m(2);var p4o=c8S.i3m(0,1);c4N=R4N[t4N.startFrom - p4o][K4P + t4N.name];s4N=R4N[t4N.startFrom - +"1"]["_totDn " + t4N.name];}for(var M4N=t4N.startFrom;M4N < R4N.length;M4N++){q4N=R4N[M4N].Close - R4N[M4N].Open;if(q4N > 0){c4N+=q4N;}else {s4N-=q4N;}if(M4N >= G4N){W4N=R4N[M4N - G4N].Close - R4N[M4N - G4N].Open;if(W4N > 0){c4N-=W4N;}else {s4N+=W4N;}}c8S.c3m(132);R4N[M4N]["Result " + t4N.name]=c8S.F3m(c4N,c4N,s4N,100);R4N[M4N]["_totUp " + t4N.name]=c4N;R4N[M4N]["_totDn " + t4N.name]=s4N;}};O4N.Studies.studyLibrary=O4N.extend(O4N.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:O4N.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:h4P,studyOverSoldValue:+"30",studyOverSoldColor:"auto"}}}});}};i9H=m4N=>{var T4N,r4P,V4P,d4P;T4N=typeof _CIQ !== "undefined"?_CIQ:m4N.CIQ;if(!T4N.Studies){r4P="keltner feature requires fi";r4P+="rst a";r4P+="ctivat";r4P+="ing studies feature.";console.error(r4P);}else {V4P="a";V4P+="u";V4P+="to";d4P="K";d4P+="el";d4P+="tner Channel";T4N.Studies.calculateKeltner=function(k4N,r4N){var f4P;f4P="M";f4P+="A";f4P+=" ";T4N.Studies.MA(r4N.inputs["Moving Average Type"],r4N.days,"Close",0,"MA",k4N,r4N);T4N.Studies.calculateStudyATR(k4N,r4N);T4N.Studies.calculateGenericEnvelope(k4N,r4N,r4N.inputs.Shift,f4P + r4N.name,"ATR " + r4N.name);};T4N.Studies.studyLibrary=T4N.extend(T4N.Studies.studyLibrary,{Keltner:{name:d4P,overlay:! !1,seriesFN:T4N.Studies.displayChannel,calculateFN:T4N.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!""},outputs:{"Keltner Top":V4P,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" - 0,step:0.1}}}});}};u9H=N4N=>{var g4N;g4N=typeof _CIQ !== "undefined"?_CIQ:N4N.CIQ;if(!g4N.Studies){console.error("klinger feature requires first activating studies feature.");}else {g4N.Studies.calculateKlinger=function(v4N,U4N){var p4P,v4P,S4P,u4P,s4P,y4P,x4N,E4N,y4N,D4N,F4N,H4N,A4N,z4N,l4N,C4N,L4P,Q4N;p4P="expone";p4P+="ntial";v4P="_E";v4P+="MA-S";S4P="_E";S4P+="MA-L ";u4P="Kl";O7dd.J9S();u4P+="ing";u4P+="er";u4P+=" ";s4P="_hi";s4P+="s";s4P+="t";y4P="Shor";y4P+="t C";y4P+="ycle";x4N=U4N.chart.scrubbed;E4N=Number(U4N.inputs[y4P]);y4N=Number(U4N.inputs["Long Cycle"]);if(x4N.length < Math.max(E4N,y4N) + 1){U4N.error=! !1;return;}D4N=U4N.name + s4P;F4N=u4P + U4N.name;H4N="KlingerSignal " + U4N.name;A4N="_SV " + U4N.name;z4N="_EMA-S " + U4N.name;l4N=S4P + U4N.name;for(C4N=Math.max(1,U4N.startFrom);C4N < x4N.length;C4N++){L4P="hl";L4P+="c";L4P+="/3";Q4N=x4N[C4N].Volume;if(x4N[C4N]["hlc/3"] < x4N[C4N - 1][L4P]){Q4N*=-1;}if(Q4N){x4N[C4N][A4N]=Q4N;}}g4N.Studies.MA("exponential",E4N,A4N,0,v4P,v4N,U4N);g4N.Studies.MA("exponential",y4N,A4N,0,"_EMA-L",v4N,U4N);for(C4N=Math.max(y4N,U4N.startFrom);C4N < x4N.length;C4N++){if(x4N[C4N].futureTick || x4N[C4N][z4N] === null || x4N[C4N][l4N] === null)break;x4N[C4N][F4N]=x4N[C4N][z4N] - x4N[C4N][l4N];}g4N.Studies.MA(p4P,Number(U4N.inputs["Signal Periods"]),F4N,0,"KlingerSignal",v4N,U4N);for(C4N=U4N.startFrom;C4N < x4N.length;C4N++){x4N[C4N][D4N]=x4N[C4N][F4N] - x4N[C4N][H4N];}U4N.outputMap[D4N]="";};g4N.Studies.studyLibrary=g4N.extend(g4N.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:g4N.Studies.displayHistogramWithSeries,calculateFN:g4N.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};e9H=V4N=>{var Y4N,U4P,T2o,j2o,E2o,X2o,i2o,t4P,b4P,I4P,O4P;Y4N=typeof _CIQ !== "undefined"?_CIQ:V4N.CIQ;if(!Y4N.Studies){U4P="linearR";U4P+="egression feature requires fir";U4P+="st activating studies feat";U4P+="ure.";console.error(U4P);}else {T2o="a";T2o+="ut";T2o+="o";j2o="fi";j2o+="e";j2o+="l";j2o+="d";E2o="f";E2o+="i";E2o+="el";E2o+="d";X2o="a";X2o+="ut";X2o+="o";i2o="Lin";i2o+="e";i2o+="ar R";i2o+="eg Forecast";t4P="Tim";t4P+="eSerie";t4P+="s";b4P="Ti";b4P+="me Series";I4P="tsm";I4P+="a";O4P="time ";O4P+="series";Y4N.Studies.prettify[O4P]=I4P;Y4N.Studies.movingAverage.conversions.tsma="time series";Y4N.Studies.movingAverage.translations["time series"]=b4P;Y4N.Studies.movingAverage.typeMap.tsma=t4P;Y4N.Studies.movingAverage.typeMap["time series"]="TimeSeries";Y4N.Studies.calculateMovingAverageTimeSeries=function(w4N,a4N){var w8S=O7dd;var u4N,i4N,e4N,P4N,B4N,h4N,X4N,w4P,p4N;a4N.ma=new Y4N.Studies.StudyDescriptor(a4N.name,"ma",a4N.panel);a4N.ma.chart=a4N.chart;a4N.ma.days=a4N.days;a4N.ma.startFrom=a4N.startFrom;a4N.ma.inputs=a4N.inputs;Y4N.Studies.calculateLinearRegressionIndicator(w4N,a4N.ma);u4N=a4N.name;for(var J4N in a4N.outputs){w8S.O3m(85);u4N=w8S.i3m((+"8190",37) < (+"898.92",5845)?390 != 8555?" ":"K":("H",467.85),J4N,u4N);}i4N=parseInt(a4N.inputs.Offset,"10" * 1);if(isNaN(i4N)){i4N=+"0";}e4N=a4N.chart.scrubbed;P4N=i4N;for(var L4N=a4N.startFrom - 1;L4N >= 0;L4N--){B4N=e4N[L4N][u4N];if(!B4N && B4N !== 0)continue;if(P4N > 0){P4N--;continue;}break;}h4N=[];for(L4N++;L4N < e4N.length;L4N++){X4N=e4N[L4N];if(L4N + i4N >= 0){if(L4N + i4N < e4N.length){w8S.O3m(2);e4N[w8S.F3m(L4N,i4N)][u4N]=X4N["Forecast " + a4N.name];}else {w4P="Forec";w4P+="as";w4P+="t ";p4N={};p4N[u4N]=X4N[w4P + a4N.name];h4N.push(p4N);}}}w8S.i9S();a4N.appendFutureTicks(w4N,h4N);};Y4N.Studies.calculateLinearRegressionIndicator=function(q5N,n4N){var W8S=O7dd;var D4P,Z4P,I4N,j5N,Z5N,M5N,c5N,K5N,t5N,b5N,R5N,q2o,M2o,J2o,f4N,d5N,O5N,s5N,G5N;D4P="Cl";D4P+="o";D4P+="s";D4P+="e";Z4P="fie";Z4P+="ld";I4N=n4N.chart.scrubbed;if(I4N.length < n4N.days + 1){n4N.error=! ![];return;}j5N=n4N.inputs.Field;if(!j5N || j5N == Z4P){j5N=D4P;}W8S.O3m(8);var U4o=W8S.i3m(15,30,16);W8S.c3m(59);var O4o=W8S.i3m(4,14,16,226,0);Z5N=n4N.days * (n4N.days + U4o) / O4o;M5N=Math.pow(Z5N,2);W8S.c3m(133);var I4o=W8S.F3m(4,2,2,14);W8S.O3m(133);var b4o=W8S.i3m(8,1,19,30);c5N=Z5N * (I4o * n4N.days + ("1" ^ 0)) / b4o;K5N=0;t5N=0;W8S.J9S();b5N=0;if(n4N.startFrom){W8S.c3m(134);var t4o=W8S.F3m(16,13,13,14);R5N=I4N[n4N.startFrom - t4o]["_sums " + n4N.name];if(R5N){t5N=R5N[0];K5N=R5N[1];b5N=R5N[2];}}for(var S4N=n4N.startFrom;S4N < I4N.length;S4N++){q2o="RS";q2o+="q";q2o+="ua";q2o+="red ";M2o="Fo";M2o+="recast ";J2o="o";J2o+="bject";f4N=I4N[S4N][j5N];if(f4N && typeof f4N == J2o){f4N=f4N[n4N.subField];}if(!f4N && f4N !== 0)continue;t5N+=n4N.days * f4N - K5N;K5N+=f4N;b5N+=Math.pow(f4N,2);if(S4N < n4N.days - 1)continue;else if(S4N > n4N.days - 1){d5N=I4N[S4N - n4N.days][j5N];if(d5N && typeof d5N == "object"){d5N=d5N[n4N.subField];}if(!d5N && d5N !== 0)continue;K5N-=d5N;W8S.c3m(4);b5N-=Math.pow(d5N,W8S.F3m("2",0));}O5N=(n4N.days * t5N - Z5N * K5N) / (n4N.days * c5N - M5N);I4N[S4N]["Slope " + n4N.name]=O5N;s5N=(K5N - O5N * Z5N) / n4N.days;I4N[S4N]["Intercept " + n4N.name]=s5N;I4N[S4N][M2o + n4N.name]=s5N + O5N * n4N.days;G5N=(n4N.days * c5N - M5N) / (n4N.days * b5N - Math.pow(K5N,+"2"));W8S.c3m(135);I4N[S4N][q2o + n4N.name]=W8S.F3m(G5N,O5N,O5N);I4N[S4N]["_sums " + n4N.name]=[t5N,K5N,b5N];}};Y4N.Studies.studyLibrary=Y4N.extend(Y4N.Studies.studyLibrary,{"Lin Fcst":{name:i2o,overlay:! !{},calculateFN:Y4N.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:X2o}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !{},calculateFN:Y4N.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:E2o},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:Y4N.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:Y4N.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:j2o},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:Y4N.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{Forecast:T2o}}});}};P9H=o5N=>{var W5N,g2o,F2o;W5N=typeof _CIQ !== "undefined"?_CIQ:o5N.CIQ;O7dd.J9S();if(!W5N.Studies){console.error("macd feature requires first activating studies feature.");}else {g2o="#FF";g2o+="00";g2o+="00";F2o="#";F2o+="FF";F2o+="0000";W5N.Studies.calculateMACD=function(y5N,T5N){var m8S=O7dd;var m2o,k2o,g5N,N5N,m5N,C5N,U5N,k5N,r5N,F5N,R2o,l2o,x5N,A5N,Q5N;m2o="_MA";m2o+="CD1";k2o="S";k2o+="low MA ";k2o+="Perio";k2o+="d";g5N=T5N.chart.scrubbed;N5N=T5N.inputs;m5N=T5N.name;if(!T5N.macd1Days){T5N.macd1Days=parseFloat(N5N["Fast MA Period"]);}if(!T5N.macd2Days){T5N.macd2Days=parseFloat(N5N[k2o]);}if(!T5N.signalDays){T5N.signalDays=parseFloat(N5N["Signal Period"]);}if(!T5N.days){T5N.days=Math.max(T5N.macd1Days,T5N.macd2Days,T5N.signalDays);}if(g5N.length < T5N.days + 1){T5N.error=!"";return;}C5N=T5N.inputs.Field;if(!C5N || C5N == "field"){C5N="Close";}U5N=N5N["Moving Average Type"];if(!U5N){U5N="exponential";}W5N.Studies.MA(U5N,T5N.macd1Days,C5N,0,m2o,y5N,T5N);W5N.Studies.MA(U5N,T5N.macd2Days,C5N,0,"_MACD2",y5N,T5N);F5N=Math.max(T5N.startFrom,T5N.days - 1);for(k5N=F5N;k5N < g5N.length;k5N++){R2o="_MA";R2o+="C";R2o+="D2 ";l2o="_";l2o+="MACD1 ";r5N=g5N[k5N];if((r5N[l2o + m5N] || r5N["_MACD1 " + m5N] === 0) && (r5N["_MACD2 " + m5N] || r5N["_MACD2 " + m5N] === 0)){m8S.c3m(2);r5N[m8S.i3m("MACD ",m5N)]=r5N["_MACD1 " + m5N] - r5N[R2o + m5N];}}x5N=N5N["Signal MA Type"];m8S.J9S();if(!x5N){x5N="exponential";}W5N.Studies.MA(x5N,T5N.signalDays,"MACD " + m5N,+"0","Signal",y5N,T5N);m8S.c3m(2);A5N=m8S.F3m(m5N,"_hist");for(k5N=F5N;k5N < g5N.length;k5N++){r5N=g5N[k5N];m8S.c3m(2);Q5N=r5N[m8S.i3m("Signal ",m5N)];if(!Q5N && Q5N !== 0)continue;r5N[A5N]=r5N["MACD " + m5N] - r5N["Signal " + m5N];}T5N.outputMap[A5N]="";};W5N.Studies.studyLibrary=W5N.extend(W5N.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:W5N.Studies.calculateMACD,seriesFN:W5N.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":"9" << 1376129248},outputs:{MACD:"auto",Signal:F2o,"Increasing Bar":"#00DD00","Decreasing Bar":g2o}}});}};B9H=E5N=>{var P2o,v5N;P2o="u";P2o+="ndefined";O7dd.i9S();v5N=typeof _CIQ !== P2o?_CIQ:E5N.CIQ;if(!v5N.Studies){console.error("massIndex feature requires first activating studies feature.");}else {v5N.Studies.calculateMassIndex=function(V5N,D5N){var X8S=O7dd;var x2o,z2o,z5N,e2o,Y5N,N2o,c2o,G2o;x2o="expon";x2o+="ential";z2o="_";z2o+="High-Low ";z5N=D5N.chart.scrubbed;if(z5N.length < Math.max(9,D5N.days + 1)){D5N.error=! !1;return;}for(var H5N=D5N.startFrom;H5N < z5N.length;H5N++){e2o="_H";e2o+="igh-Low ";z5N[H5N][e2o + D5N.name]=z5N[H5N].High - z5N[H5N].Low;}v5N.Studies.MA("exponential",9,z2o + D5N.name,0,"_EMA",V5N,D5N);v5N.Studies.MA(x2o,9,"_EMA " + D5N.name,+"0","_EMA2",V5N,D5N);Y5N=0;if(z5N[D5N.startFrom - 1] && z5N[D5N.startFrom - 1]["_total " + D5N.name]){X8S.O3m(4);var w4o=X8S.i3m(6,5);Y5N=z5N[D5N.startFrom - "1" * w4o]["_total " + D5N.name];}for(var l5N=Math.max(17,D5N.startFrom);l5N < z5N.length;l5N++){N2o="_to";N2o+="tal";N2o+=" ";c2o="_E";c2o+="MA";c2o+="2 ";G2o="_E";G2o+="M";G2o+="A ";Y5N+=z5N[l5N][G2o + D5N.name] / z5N[l5N][c2o + D5N.name];if(l5N >= 17 + D5N.days - 1){z5N[l5N]["Result " + D5N.name]=Y5N;X8S.c3m(23);var Z4o=X8S.i3m(11,10,12,9);X8S.O3m(2);var D4o=X8S.F3m(0,1);Y5N-=z5N[l5N - D5N.days + Z4o]["_EMA " + D5N.name] / z5N[l5N - D5N.days + D4o]["_EMA2 " + D5N.name];}z5N[l5N][N2o + D5N.name]=Y5N;}};v5N.Studies.displayMassIndex=function(L5N,a5N,B5N){var i5N,h5N,u5N,e5N,P5N;v5N.Studies.displaySeriesAsLine(L5N,a5N,B5N);i5N=a5N.inputs["Bulge Threshold"];h5N=L5N.panels[a5N.panel];u5N=a5N.getYAxis(L5N);e5N=v5N.Studies.determineColor(a5N.outputs.Result);P5N={skipTransform:L5N.panels[a5N.panel].name != a5N.chart.name,panelName:a5N.panel,band:"Result " + a5N.name,threshold:i5N,direction:+"1",color:e5N,yAxis:u5N,opacity:0.3};if(!a5N.highlight && L5N.highlightedDraggable){P5N.opacity*=0.3;}v5N.preparePeakValleyFill(L5N,P5N);v5N.Studies.drawHorizontal(L5N,a5N,null,i5N,u5N,e5N);};v5N.Studies.studyLibrary=v5N.extend(v5N.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:v5N.Studies.displayMassIndex,calculateFN:v5N.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:+"20",max:35,step:0.1}}}});}};h9H=p5N=>{var X5N,W2o,o2o,Y2o;X5N=typeof _CIQ !== "undefined"?_CIQ:p5N.CIQ;O7dd.i9S();if(!X5N.Studies){W2o="moneyFlow feature requires f";W2o+="irst activat";W2o+="ing studies feature.";console.error(W2o);}else {o2o="0 to";o2o+=" 1";o2o+="0";o2o+="0";Y2o="Money";Y2o+=" Flow Inde";Y2o+="x";X5N.Studies.calculateMoneyFlowIndex=function(R0N,n5N){var s8S=O7dd;s8S.i9S();var J5N,I5N,S5N,K0N,O0N,d0N,Z0N,j0N,t0N,f5N,b0N;J5N=n5N.chart.scrubbed;if(J5N.length < n5N.days + 1){n5N.error=!0;return;}I5N=0;S5N=0;s8S.O3m(2);var J28=s8S.i3m(0,1);K0N=J5N[n5N.startFrom - J28];O0N="_rawMF " + n5N.name;d0N="_cumMF " + n5N.name;Z0N="Result " + n5N.name;if(K0N && K0N[d0N]){I5N=K0N[d0N][0];S5N=K0N[d0N][1];}for(var w5N=n5N.startFrom;w5N < J5N.length;w5N++){j0N=J5N[w5N]["hlc/3"];if(w5N > 0 && !J5N[w5N].futureTick){s8S.c3m(77);t0N=J5N[s8S.F3m("1",w5N)]["hlc/3"];f5N=j0N * J5N[w5N].Volume;if(j0N > t0N){I5N+=f5N;}else if(j0N < t0N){f5N*=-1;S5N-=f5N;}else {f5N=0;}if(w5N > n5N.days){b0N=J5N[w5N - n5N.days][O0N];if(b0N > ("0" ^ 0)){I5N-=b0N;}else {S5N+=b0N;}if(S5N === 0){J5N[w5N][Z0N]=100;}else if(J5N[w5N].Volume){s8S.c3m(136);J5N[w5N][Z0N]=s8S.i3m(I5N,1,100,100,S5N);}}J5N[w5N][O0N]=f5N;J5N[w5N][d0N]=[I5N,S5N];}}};X5N.Studies.studyLibrary=X5N.extend(X5N.Studies.studyLibrary,{"M Flow":{name:Y2o,range:o2o,calculateFN:X5N.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" * 1,studyOverSoldColor:"auto"}}}});}};X9H=c0N=>{var M0N,H2o,q7o,M7o,J7o,D2o,Z2o,w2o,A2o,a2o;M0N=typeof _CIQ !== "undefined"?_CIQ:c0N.CIQ;if(!M0N.Studies){H2o="movingAverages feature requires first a";H2o+="ctivating studies feature.";console.error(H2o);}else {q7o="High Low ";q7o+="Bands";M7o="Per";M7o+="cent";J7o="m";J7o+="a";D2o="au";D2o+="to";Z2o="p";Z2o+="oints";w2o="f";w2o+="i";w2o+="e";w2o+="ld";A2o="TripleExpon";A2o+="en";A2o+="tial";a2o="Tr";a2o+="iple";a2o+="Exponen";a2o+="tial";M0N.Studies.prettify=M0N.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},M0N.Studies.prettify);M0N.extend(M0N.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:a2o,"3-exponential":A2o}});M0N.Studies.calculateMovingAverageHull=function(k0N,s0N){var a8S=O7dd;var n2o,C2o,q0N,W0N,G0N,o0N,B2o,h2o,K2o,Q2o,T0N,m0N,g0N,r0N;n2o="_";n2o+="W";n2o+="M";n2o+="A2";C2o="w";C2o+="m";C2o+="a";q0N=s0N.chart.scrubbed;W0N=s0N.inputs.Field;if(!W0N || W0N == "field"){W0N="Close";}M0N.Studies.MA(C2o,s0N.days,W0N,0,"_WMA1",k0N,s0N);M0N.Studies.MA("wma",Math.ceil(s0N.days / 2),W0N,"0" - 0,n2o,k0N,s0N);for(G0N=s0N.startFrom - 1;G0N >= "0" >> 1796828896;G0N--){B2o="ob";B2o+="ject";o0N=q0N[G0N][W0N];if(o0N && typeof o0N == B2o){o0N=o0N[s0N.subField];}if(o0N || o0N === 0)break;}for(G0N++;G0N < q0N.length;G0N++){h2o="_W";h2o+="M";h2o+="A1";h2o+=" ";K2o="_WM";K2o+="A";K2o+="2 ";Q2o="_";Q2o+="M";Q2o+="MA";Q2o+=" ";T0N=q0N[G0N];a8S.O3m(8);var M28=a8S.F3m(17,23,8);T0N[Q2o + s0N.name]=M28 * T0N[K2o + s0N.name] - T0N[h2o + s0N.name];}m0N=parseInt(s0N.inputs.Offset,10);if(isNaN(m0N)){m0N=0;}g0N=Math.floor(Math.sqrt(s0N.days));M0N.Studies.MA("wma",g0N,"_MMA " + s0N.name,m0N,"_HMA",k0N,s0N);r0N=s0N.name;for(var N0N in s0N.outputs){a8S.c3m(85);r0N=a8S.i3m(5456 == ("9306" | 16)?("e","o"):703.95 >= (2480,526.17)?" ":974,N0N,r0N);}for(G0N=Math.max(s0N.days + g0N - ("1" >> 1090867104),s0N.startFrom);G0N < q0N.length;G0N++){q0N[G0N][r0N]=q0N[G0N]["_HMA " + s0N.name];}};M0N.Studies.calculateMovingAverageDoubleExponential=function(v0N,C0N){var v8S=O7dd;var r2o,F0N,A0N,x0N,U0N,y0N,E0N,Q0N,D0N,d2o,f2o,z0N,l0N,H0N;r2o="_E";r2o+="MA1";F0N=C0N.chart.scrubbed;A0N=C0N.inputs.Field;if(!A0N || A0N == "field"){A0N="Close";}M0N.Studies.MA("ema",C0N.days,A0N,0,r2o,v0N,C0N);M0N.Studies.MA("ema",C0N.days,"_EMA1 " + C0N.name,0,"_EMA2",v0N,C0N);x0N=parseInt(C0N.inputs.Offset,10);if(isNaN(x0N)){x0N=0;}E0N=x0N;for(U0N=C0N.startFrom - 1;U0N >= 0;U0N--){y0N=F0N[U0N][A0N];if(y0N && typeof y0N == "object"){y0N=y0N[C0N.subField];}if(!y0N && y0N !== 0)continue;if(E0N > 0){E0N--;continue;}break;}Q0N=C0N.name;for(var Y0N in C0N.outputs){v8S.c3m(85);Q0N=v8S.i3m(1560 > (+"5396",766.49)?" ":(+"0x430",0x32b),Y0N,Q0N);}D0N=[];for(U0N++;U0N < F0N.length;U0N++){d2o="_";d2o+="E";d2o+="MA2 ";f2o="_";f2o+="E";f2o+="M";f2o+="A1 ";if(U0N < 2 * (C0N.days - ("1" ^ 0)))continue;z0N=F0N[U0N];v8S.O3m(4);var q28=v8S.i3m(36,34);l0N=q28 * z0N[f2o + C0N.name] - z0N[d2o + C0N.name];if(U0N + x0N >= 0){if(U0N + x0N < F0N.length){v8S.O3m(2);F0N[v8S.i3m(U0N,x0N)][Q0N]=l0N;}else {H0N={};H0N[Q0N]=l0N;D0N.push(H0N);}}}C0N.appendFutureTicks(v0N,D0N);};M0N.Studies.calculateMovingAverageTripleExponential=function(B0N,V0N){var U8S=O7dd;var s2o,y2o,V2o,u0N,e0N,L0N,a0N,i0N,X0N,P0N,p0N,u2o,h0N,w0N,J0N;s2o="_E";s2o+="M";s2o+="A1";y2o="C";U8S.J9S();y2o+="los";y2o+="e";V2o="f";V2o+="ield";u0N=V0N.chart.scrubbed;e0N=V0N.inputs.Field;if(!e0N || e0N == V2o){e0N=y2o;}M0N.Studies.MA("ema",V0N.days,e0N,0,s2o,B0N,V0N);M0N.Studies.MA("ema",V0N.days,"_EMA1 " + V0N.name,"0" - 0,"_EMA2",B0N,V0N);M0N.Studies.MA("ema",V0N.days,"_EMA2 " + V0N.name,0,"_EMA3",B0N,V0N);L0N=parseInt(V0N.inputs.Offset,10);if(isNaN(L0N)){L0N=0;}X0N=L0N;for(a0N=V0N.startFrom - 1;a0N >= 0;a0N--){i0N=u0N[a0N][e0N];if(i0N && typeof i0N == "object"){i0N=i0N[V0N.subField];}if(!i0N && i0N !== 0)continue;if(X0N > 0){X0N--;continue;}break;}P0N=V0N.name;for(var n0N in V0N.outputs){U8S.O3m(85);P0N=U8S.F3m((4062,777.6) != 8990?(2230,581.08) != ("1505" | 1505)?" ":939.63:(3.25e+3,1.52e+3),n0N,P0N);}p0N=[];for(a0N++;a0N < u0N.length;a0N++){u2o="_EMA1";u2o+=" ";if(a0N < 3 * (V0N.days - 1))continue;h0N=u0N[a0N];U8S.O3m(110);var i28=U8S.i3m(5,4,97,16,24);U8S.c3m(8);var X28=U8S.i3m(18,33,18);w0N=("3" | i28) * h0N[u2o + V0N.name] - X28 * h0N["_EMA2 " + V0N.name] + h0N["_EMA3 " + V0N.name];if(a0N + L0N >= 0){if(a0N + L0N < u0N.length){U8S.O3m(2);u0N[U8S.F3m(a0N,L0N)][P0N]=w0N;}else {J0N={};J0N[P0N]=w0N;p0N.push(J0N);}}}V0N.appendFutureTicks(B0N,p0N);};M0N.Studies.calculateMAEnvelope=function(d8N,S0N){var L2o,S2o,I0N,f0N,K8N,v2o,p2o;L2o="Mo";L2o+="ving Av";L2o+="erage ";L2o+="Type";O7dd.J9S();S2o="f";S2o+="i";S2o+="e";S2o+="ld";I0N=S0N.inputs.Field;if(!I0N || I0N == S2o){I0N="Close";}M0N.Studies.MA(S0N.inputs[L2o],S0N.days,I0N,0,"MA",d8N,S0N);f0N=S0N.inputs["Shift Type"];K8N=S0N.inputs.Shift;if(!f0N){v2o="percen";v2o+="t";f0N=v2o;K8N=S0N.inputs["Shift Percentage"];}if(f0N == "percent"){p2o="MA";p2o+=" ";O7dd.c3m(10);M0N.Studies.calculateGenericEnvelope(d8N,S0N,O7dd.F3m(K8N,100),p2o + S0N.name);}else if(f0N == "points"){M0N.Studies.calculateGenericEnvelope(d8N,S0N,null,"MA " + S0N.name,null,Number(K8N));}};M0N.Studies.calculateMADev=function(q8N,j8N){var E8S=O7dd;var b2o,I2o,O2o,U2o,M2P,q2P,i2P,R8N,O8N,M8N,c8N,G8N,Z8N,b8N,t8N,t2o;b2o="_";b2o+="M";b2o+="A";I2o="ex";I2o+="pon";I2o+="en";I2o+="tial";O2o="Moving Ave";O2o+="rage Type";U2o="Cl";U2o+="ose";M2P=+"826936067";q2P=2088823044;i2P=2;for(var E2P=1;E8S.P6y(E2P.toString(),E2P.toString().length,28514) !== M2P;E2P++){R8N=j8N.chart.scrubbed;i2P+=2;}if(E8S.F6y(i2P.toString(),i2P.toString().length,63860) !== q2P){R8N=j8N.chart.scrubbed;}if(R8N.length < j8N.days + 1){j8N.error=! !"1";return;}O8N=j8N.inputs.Field;if(!O8N || O8N == "field"){O8N=U2o;}M8N=j8N.inputs["Points Or Percent"];if(!M8N){M8N="Points";}c8N=j8N.inputs[O2o];if(!c8N){c8N=I2o;}M0N.Studies.MA(c8N,j8N.days,O8N,0,b2o,q8N,j8N);G8N=j8N.name + "_hist";for(var s8N=Math.max(j8N.startFrom,j8N.days - +"1");s8N < R8N.length;s8N++){Z8N=R8N[s8N];b8N=Z8N[O8N];if(b8N && typeof b8N == "object"){b8N=b8N[j8N.subField];}t8N=Z8N["_MA " + j8N.name];if(t8N || t8N === +"0"){t2o="Point";t2o+="s";if(M8N == t2o){E8S.c3m(4);Z8N[G8N]=E8S.i3m(b8N,t8N);}else {E8S.O3m(137);Z8N[G8N]=E8S.F3m(1,b8N,100,t8N);}}}j8N.outputMap={};j8N.outputMap[j8N.name + "_hist"]="";};M0N.Studies.studyLibrary=M0N.extend(M0N.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !1,seriesFN:M0N.Studies.displayChannel,calculateFN:M0N.Studies.calculateMAEnvelope,inputs:{Period:50,Field:w2o,"Shift Type":["percent",Z2o],Shift:+"5","Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"MA Env Top":D2o,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" - 0,step:"0.1" - 0}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:M0N.Studies.calculateMADev,seriesFN:M0N.Studies.displayHistogramWithSeries,inputs:{Period:"12" << 1632904576,Field:"field","Moving Average Type":J7o,"Points Or Percent":["Points",M7o]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:q7o,overlay:!0,seriesFN:M0N.Studies.displayChannel,calculateFN:function(o8N,W8N){W8N.inputs["Moving Average Type"]="triangular";M0N.Studies.calculateMAEnvelope(o8N,W8N);},inputs:{Period:10,Field:"field","Shift Percentage":+"5","Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};p9H=m8N=>{var i7o,T8N,X7o;i7o="un";i7o+="d";i7o+="efined";T8N=typeof _CIQ !== i7o?_CIQ:m8N.CIQ;if(!T8N.Studies){X7o="parabolic";X7o+="SAR feature requires first activating studies f";X7o+="eature.";console.error(X7o);}else {T8N.Studies.calculatePSAR=function(z8N,C8N){var k0S=O7dd;var E7o,r8N,U8N,g8N,x8N,N8N,A8N,Q8N,y8N,F8N,v8N,E8N;E7o="M";k0S.i9S();E7o+="in";E7o+="i";E7o+="mum AF";r8N=C8N.chart.scrubbed;function D8N(){U8N=0;g8N=null;k0S.J9S();x8N=!x8N;}U8N=0;g8N=null;x8N=!"1";N8N=0;A8N=parseFloat(C8N.inputs[E7o]);Q8N=parseFloat(C8N.inputs["Maximum AF"]);if(C8N.startFrom > "0" - 0){k0S.O3m(4);var E28=k0S.i3m(8,7);N8N=r8N[C8N.startFrom - E28]["Result " + C8N.name];k0S.O3m(8);var j28=k0S.i3m(2,9,8);y8N=r8N[C8N.startFrom - j28]["_state " + C8N.name];if(y8N && y8N.length == 3){U8N=y8N[0];g8N=y8N[1];x8N=y8N[+"2"];}}for(var k8N=C8N.startFrom - +"1";k8N < r8N.length - ("1" ^ 0);k8N++){if(k8N < 0)continue;if(r8N[k8N].futureTick)break;F8N=N8N;if(x8N){if(!g8N || g8N < r8N[k8N].High){g8N=r8N[k8N].High;k0S.O3m(2);U8N=Math.min(k0S.F3m(U8N,A8N),Q8N);}k0S.O3m(138);N8N=k0S.F3m(F8N,g8N,U8N,F8N);v8N=Math.min(r8N[Math.max("1" - 0,k8N) - 1].Low,r8N[k8N].Low);if(N8N > r8N[k8N + 1].Low){N8N=g8N;D8N();}else if(N8N > v8N){N8N=v8N;}}else {if(!g8N || g8N > r8N[k8N].Low){g8N=r8N[k8N].Low;k0S.O3m(2);U8N=Math.min(k0S.F3m(U8N,A8N),Q8N);}k0S.O3m(138);N8N=k0S.F3m(F8N,g8N,U8N,F8N);E8N=Math.max(r8N[Math.max(1,k8N) - ("1" >> 1511622304)].High,r8N[k8N].High);if(N8N < r8N[k8N + +"1"].High){N8N=g8N;D8N();}else if(N8N < E8N){N8N=E8N;}}k0S.O3m(2);r8N[k0S.i3m(k8N,1)]["_state " + C8N.name]=[U8N,g8N,x8N];if(!isNaN(r8N[k8N].High) || !isNaN(r8N[k8N].Low)){k0S.O3m(2);r8N[k0S.F3m(k8N,1)]["Result " + C8N.name]=N8N;}}};T8N.Studies.studyLibrary=T8N.extend(T8N.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! !{},calculateFN:T8N.Studies.calculatePSAR,seriesFN:T8N.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};w9H=H8N=>{var l8N,W7o,N7o,c7o;O7dd.i9S();l8N=typeof _CIQ !== "undefined"?_CIQ:H8N.CIQ;if(!l8N.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {W7o="#d3e8a";W7o+="e";N7o="#";N7o+="b3";N7o+="d987";c7o="#";c7o+="e36460";l8N.Studies.calculatePivotPoints=function(e8N,L8N){var i0S=O7dd;var m7o,k7o,T7o,j7o,V8N,i8N,u8N,h8N,X8N,P8N,p8N,Y8N,F7o,R7o,l7o,w8N,J8N,e7o,P7o,g7o,z7o;m7o="1";m7o+="5min";k7o="mill";k7o+="i";k7o+="s";k7o+="econd";T7o="yea";T7o+="r";j7o="mo";function B8N(){i0S.c3m(87);var T28=i0S.F3m(15,224,5,20);i0S.c3m(2);var k28=i0S.i3m(3247966,2);Y8N.pivotPoint=(Y8N.high + Y8N.low + V8N[a8N - T28].Close) / ("3" << k28);Y8N.prevHigh=Y8N.high;Y8N.prevLow=Y8N.low;Y8N.hlSpread=Y8N.high - Y8N.low;Y8N.high=Y8N.low=+"0";}j7o+="nth";V8N=L8N.chart.scrubbed;i8N="day";u8N=e8N.layout.interval;h8N=e8N.layout.timeUnit;if(u8N == "day"){i8N=j7o;}else if(l8N.ChartEngine.isDailyInterval(u8N)){i8N=T7o;}else if(u8N == "second" || u8N == k7o || h8N == "second" || h8N == "millisecond"){i8N=m7o;}else {X8N=e8N.layout.periodicity;if(u8N != "minute"){X8N*=u8N;}if(X8N >= 30){i8N="week";}}P8N=null;i0S.O3m(139);var m28=i0S.i3m(6,4,1,72,24);p8N=m28 - l8N.getFromNS(e8N.chart,"market.beginningDayOfWeek",0);Y8N={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(L8N.startFrom > 1 && V8N[L8N.startFrom - 1]["_pointers " + L8N.name]){Y8N=l8N.clone(V8N[L8N.startFrom - 1]["_pointers " + L8N.name]);}for(var a8N=Math.max(1,L8N.startFrom);a8N < V8N.length;a8N++){F7o="P";F7o+="i";F7o+="vo";F7o+="t ";R7o="we";R7o+="ek";l7o="mon";l7o+="t";l7o+="h";if(!V8N[a8N - 1])continue;Y8N.high=Math.max(Y8N.high,V8N[a8N - 1].High);Y8N.low=Math.min(Y8N.low > 0?Y8N.low:V8N[a8N - 1].Low,V8N[a8N - 1].Low);if(L8N.inputs.Continuous){B8N();}else if(i8N == "year" && V8N[a8N].DT.getYear() != V8N[a8N - 1].DT.getYear()){B8N();}else if(i8N == l7o && V8N[a8N].DT.getMonth() != V8N[a8N - 1].DT.getMonth()){B8N();}else if(i8N == R7o && (V8N[a8N].DT.getDay() + p8N) % 7 < (V8N[a8N - ("1" & 2147483647)].DT.getDay() + p8N) % 7){B8N();}else if(i8N == "day"){if(P8N === null){P8N=l8N.Studies.getMarketOffset({stx:e8N,localQuoteDate:V8N[a8N].DT,shiftToDateBoundary:! ![]});}w8N=new Date(new Date(+V8N[a8N].DT).setMilliseconds(V8N[a8N].DT.getMilliseconds() + P8N));J8N=new Date(new Date(+V8N[a8N - 1].DT).setMilliseconds(V8N[a8N - 1].DT.getMilliseconds() + P8N));if(J8N.getDate() !== w8N.getDate() && J8N.getDay() !== 0 && e8N.chart.market.isMarketDate(w8N)){P8N=null;B8N();}}else if(i8N == "15min" && (V8N[a8N].DT.getHours() != V8N[a8N - 1].DT.getHours() || Math.floor(V8N[a8N].DT.getMinutes() / 15) != Math.floor(V8N[a8N - 1].DT.getMinutes() / 15))){B8N();}V8N[a8N][F7o + L8N.name]=Y8N.pivotPoint;if(L8N.inputs.Type.toLowerCase() == "fibonacci"){e7o="Suppo";e7o+="rt ";e7o+="1 ";P7o="Re";P7o+="s";P7o+="istance 3 ";g7o="Resistance 1";g7o+=" ";i0S.O3m(93);var l28=i0S.F3m(5,18,0,3,18);V8N[a8N][g7o + L8N.name]=Y8N.pivotPoint + "0.382" * l28 * Y8N.hlSpread;V8N[a8N]["Resistance 2 " + L8N.name]=Y8N.pivotPoint + 0.618 * Y8N.hlSpread;V8N[a8N][P7o + L8N.name]=Y8N.pivotPoint + Y8N.hlSpread;V8N[a8N][e7o + L8N.name]=Y8N.pivotPoint - 0.382 * Y8N.hlSpread;V8N[a8N]["Support 2 " + L8N.name]=Y8N.pivotPoint - 0.618 * Y8N.hlSpread;V8N[a8N]["Support 3 " + L8N.name]=Y8N.pivotPoint - Y8N.hlSpread;}else {z7o="Su";z7o+="ppor";z7o+="t";z7o+=" 1 ";i0S.c3m(8);var R28=i0S.F3m(0,5,7);V8N[a8N]["Resistance 1 " + L8N.name]=R28 * Y8N.pivotPoint - Y8N.prevLow;V8N[a8N]["Resistance 2 " + L8N.name]=Y8N.pivotPoint + Y8N.hlSpread;i0S.O3m(4);var F28=i0S.F3m(22,20);V8N[a8N]["Resistance 3 " + L8N.name]=Y8N.prevHigh + F28 * (Y8N.pivotPoint - Y8N.prevLow);i0S.c3m(32);var g28=i0S.F3m(0,17,34);V8N[a8N][z7o + L8N.name]=g28 * Y8N.pivotPoint - Y8N.prevHigh;V8N[a8N]["Support 2 " + L8N.name]=Y8N.pivotPoint - Y8N.hlSpread;V8N[a8N]["Support 3 " + L8N.name]=Y8N.prevLow - +"2" * (Y8N.prevHigh - Y8N.pivotPoint);}V8N[a8N]["_pointers " + L8N.name]=l8N.clone(Y8N);}};l8N.Studies.displayPivotPoints=function(S8N,n8N,K6N){var G7o,x7o,f8N,I8N;n8N.noSlopes=!n8N.inputs.Continuous;O7dd.J9S();l8N.Studies.displaySeriesAsLine(S8N,n8N,K6N);if(n8N.inputs.Shading){G7o="Supp";G7o+="ort 3 ";x7o="Su";x7o+="ppo";x7o+="rt 1 ";f8N=S8N.panels[n8N.panel];I8N={noSlopes:n8N.noSlopes,opacity:n8N.parameters.opacity?n8N.parameters.opacity:+"0.2",skipTransform:f8N.name != n8N.chart.name,yAxis:n8N.getYAxis(S8N)};if(!n8N.highlight && S8N.highlightedDraggable){I8N.opacity*=0.3;}l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:"Resistance 3 " + n8N.name,bottomBand:"Resistance 2 " + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Resistance 3"])},I8N));l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:"Resistance 2 " + n8N.name,bottomBand:"Resistance 1 " + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Resistance 2"])},I8N));l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:"Resistance 1 " + n8N.name,bottomBand:"Pivot " + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Resistance 1"])},I8N));l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:"Support 1 " + n8N.name,bottomBand:"Pivot " + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Support 1"])},I8N));l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:"Support 2 " + n8N.name,bottomBand:x7o + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Support 2"])},I8N));l8N.prepareChannelFill(S8N,l8N.extend({panelName:n8N.panel,topBand:G7o + n8N.name,bottomBand:"Support 2 " + n8N.name,color:l8N.Studies.determineColor(n8N.outputs["Support 3"])},I8N));}};l8N.Studies.studyLibrary=l8N.extend(l8N.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:l8N.Studies.displayPivotPoints,calculateFN:l8N.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!{},Shading:![]},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":c7o,"Support 2":N7o,"Resistance 3":"#ffd0cf","Support 3":W7o},parameters:{init:{opacity:0.2}}}});}};J9H=j6N=>{O7dd.J9S();var d6N,Y7o,C7o,A7o;d6N=typeof _CIQ !== "undefined"?_CIQ:j6N.CIQ;if(!d6N.Studies){Y7o="prettyGoodOscillator feature requires first ";Y7o+="activating studies featur";Y7o+="e.";console.error(Y7o);}else {C7o="a";C7o+="u";C7o+="t";C7o+="o";A7o="P";A7o+="retty Good Oscillato";A7o+="r";d6N.Studies.calculatePrettyGoodOscillator=function(t6N,b6N){var o7o,O6N,a7o,H7o;o7o="Clos";o7o+="e";O6N=b6N.chart.scrubbed;if(O6N.length < b6N.days + 1){b6N.error=! !{};return;}d6N.Studies.MA("exponential",b6N.days,"trueRange",0,"_EMA",t6N,b6N);d6N.Studies.MA("simple",b6N.days,o7o,0,"_SMA",t6N,b6N);for(var Z6N=Math.max("1" >> 418497120,b6N.startFrom);Z6N < O6N.length;Z6N++){a7o="_E";a7o+="M";a7o+="A ";H7o="_";H7o+="S";H7o+="M";H7o+="A ";if(!O6N[Z6N][H7o + b6N.name] || !O6N[Z6N][a7o + b6N.name])continue;O6N[Z6N]["Result " + b6N.name]=(O6N[Z6N].Close - O6N[Z6N]["_SMA " + b6N.name]) / O6N[Z6N]["_EMA " + b6N.name];}};d6N.Studies.studyLibrary=d6N.extend(d6N.Studies.studyLibrary,{"Pretty Good":{name:A7o,calculateFN:d6N.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:C7o,studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};n9H=M6N=>{var I4S=O7dd;var r6y,f6y,d6y,R6N,n7o,h9y,r9y,f9y,f7o,r7o,h7o,s7o,y7o,V7o,d7o;I4S.O3m(21);r6y=-I4S.i3m(1611751232,"101324944");f6y=+"902421556";I4S.J9S();d6y=2;for(var y6y=+"1";I4S.P6y(y6y.toString(),y6y.toString().length,12638) !== r6y;y6y++){R6N=-_CIQ === ""?_CIQ:M6N.CIQ;d6y+=2;}if(I4S.F6y(d6y.toString(),d6y.toString().length,69900) !== f6y){R6N=typeof _CIQ !== "undefined"?_CIQ:M6N.CIQ;}if(!R6N.Studies){n7o="priceMomentumOscillator feature requires first act";n7o+="ivating studies featur";n7o+="e.";console.error(n7o);}else {R6N.Studies.calculatePMO=function(o6N,c6N){var K7o,Q7o,B7o,q6N,s6N,W6N,G6N,T6N;K7o="exponent";K7o+="i";K7o+="al";Q7o="PM";Q7o+="O";B7o="_";B7o+="E";B7o+="MAx1";B7o+="0";q6N={Smooth:Number(c6N.inputs["Smoothing Period"]) - 1,Double:Number(c6N.inputs["Double Smoothing Period"]) - +"1",Signal:Number(c6N.inputs["Signal Period"])};s6N=c6N.chart.scrubbed;if(s6N.length < q6N.Smooth + q6N.Double){c6N.error=! !{};return;}W6N=c6N.inputs.Field;if(!W6N || W6N == "field"){W6N="Close";}for(G6N=c6N.startFrom;G6N < s6N.length;G6N++){if(!s6N[G6N])continue;if(!s6N[G6N - ("1" & 2147483647)])continue;I4S.O3m(4);T6N=s6N[I4S.F3m(G6N,1)][W6N];if(T6N){I4S.c3m(131);var P28=I4S.F3m(987,8,12,7);I4S.c3m(4);var e28=I4S.F3m(5,4);s6N[G6N]["_ROCx10 " + c6N.name]=P28 * (s6N[G6N][W6N] / T6N - e28);}}R6N.Studies.MA("exponential",q6N.Smooth,"_ROCx10 " + c6N.name,0,B7o,o6N,c6N);R6N.Studies.MA("exponential",q6N.Double,"_EMAx10 " + c6N.name,0,Q7o,o6N,c6N);R6N.Studies.MA(K7o,q6N.Signal,"PMO " + c6N.name,0,"PMOSignal",o6N,c6N);c6N.zoneOutput="PMO";};h9y=-1867763907;r9y=1877401086;f9y=2;for(var V9y=1;I4S.P6y(V9y.toString(),V9y.toString().length,71550) !== h9y;V9y++){f7o="0.";f7o+="05";r7o="Signa";r7o+="l P";r7o+="eriod";h7o="S";h7o+="ignal Per";h7o+="i";h7o+="od";R6N.Studies.studyLibrary=R6N.extend(R6N.Studies.studyLibrary,{PMO:{name:"auto",calculateFN:R6N.Studies.calculatePMO,inputs:{Field:h7o,"Smoothing Period":44,"Double Smoothing Period":"83" & 2147483647,"Signal Period":11},outputs:{PMO:"auto",PMOSignal:r7o},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:166,studyOverBoughtColor:"0.05",studyOverSoldValue:+312,studyOverSoldColor:"0.05"}},attributes:{studyOverBoughtValue:{min:"5" ^ 0,step:f7o},studyOverSoldValue:{max:1,step:"0.05"}}}});I4S.c3m(39);f9y+=I4S.i3m(2,"2");}if(I4S.F6y(f9y.toString(),f9y.toString().length,82484) !== r9y){s7o="a";s7o+="u";s7o+="t";s7o+="o";y7o="a";y7o+="ut";y7o+="o";V7o="a";V7o+="u";V7o+="t";V7o+="o";d7o="fi";d7o+="eld";R6N.Studies.studyLibrary=R6N.extend(R6N.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:R6N.Studies.calculatePMO,inputs:{Field:d7o,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:V7o,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"2.5" - 0,studyOverBoughtColor:y7o,studyOverSoldValue:- +"2.5",studyOverSoldColor:s7o}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}}};S9H=r6N=>{var m6N,u7o,i1o,q1o,M1o,J1o;m6N=typeof _CIQ !== "undefined"?_CIQ:r6N.CIQ;O7dd.J9S();if(!m6N.Studies){u7o="priceVolumeOscillator feature requires first";u7o+=" activating studies feature.";console.error(u7o);}else {i1o="#0";i1o+="0D";i1o+="D00";q1o="Perc";q1o+="en";q1o+="t";M1o="P";M1o+="oint";M1o+="s";J1o="Pe";J1o+="r";J1o+="c";J1o+="ent";m6N.Studies.calculatePriceOscillator=function(E6N,k6N){var O0S=O7dd;var U7o,p7o,v7o,L7o,S7o,y6N,v6N,F6N,N6N,C6N,A6N,I7o,O7o,g6N,U6N,x6N,b7o,t7o;U7o="Points";U7o+=" Or Pe";U7o+="rc";U7o+="ent";p7o="C";p7o+="los";p7o+="e";v7o="Moving";v7o+=" Av";v7o+="erage Type";L7o="Lon";L7o+="g ";L7o+="Cycl";L7o+="e";S7o="Shor";S7o+="t Cy";S7o+="cle";y6N=k6N.chart.scrubbed;v6N=Number(k6N.inputs[S7o]);F6N=Number(k6N.inputs[L7o]);if(y6N.length < Math.max(v6N,F6N) + 1){k6N.error=! ![];return;}N6N=k6N.inputs.Field;C6N=k6N.inputs[v7o];if(!C6N){C6N="simple";}if(!N6N || N6N == "field"){N6N=p7o;}if(k6N.parameters.isVolume){N6N="Volume";C6N="exponential";}A6N=k6N.inputs[U7o];if(!A6N){A6N="Percent";}m6N.Studies.MA(C6N,v6N,N6N,+"0","_Short MA",E6N,k6N);m6N.Studies.MA(C6N,F6N,N6N,0,"_Long MA",E6N,k6N);for(var Q6N=Math.max(F6N,k6N.startFrom);Q6N < y6N.length;Q6N++){I7o="_Lo";I7o+="ng ";I7o+="M";I7o+="A ";O7o="_Short";O7o+=" MA";O7o+=" ";g6N=y6N[Q6N];if(!g6N)continue;U6N=g6N[O7o + k6N.name];x6N=g6N[I7o + k6N.name];if((U6N || U6N === 0) && (x6N || x6N === 0)){b7o="Increasing";b7o+=" Ba";b7o+="r";if(A6N == "Points"){O0S.O3m(4);g6N["Result " + k6N.name]=O0S.F3m(U6N,x6N);}else {O0S.O3m(137);g6N["Result " + k6N.name]=O0S.F3m(1,U6N,100,x6N);}if(k6N.outputs[b7o]){t7o="Re";t7o+="sul";t7o+="t ";g6N[k6N.name + "_hist"]=g6N[t7o + k6N.name];k6N.outputMap={};k6N.outputMap[k6N.name + "_hist"]="";}}}};m6N.Studies.displayRAVI=function(z6N,D6N,i6N){var B0S=O7dd;var w7o,L6N,H6N,u6N,e6N,V6N,h6N,X6N,D7o,Z7o,l6N,a6N,P6N,B6N;w7o="Decrea";w7o+="sing Bar";L6N=z6N.panels[D6N.panel];H6N=D6N.getContext(z6N);u6N=D6N.getYAxis(z6N);e6N=z6N.pixelFromPrice(0,L6N,u6N);B0S.O3m(71);var z28=B0S.F3m(3,9,5,4);V6N=z6N.layout.candleWidth - z28;if(V6N < 2){V6N=1;}h6N=m6N.Studies.determineColor(D6N.outputs["Increasing Bar"]);X6N=m6N.Studies.determineColor(D6N.outputs[w7o]);z6N.startClip(D6N.panel);z6N.canvasColor("stx_histogram");if(!D6N.underlay){H6N.globalAlpha=1;}if(!D6N.highlight && z6N.highlightedDraggable){H6N.globalAlpha*=0.3;}for(var Y6N=0;Y6N < i6N.length;Y6N++){D7o="_h";D7o+="i";D7o+="s";D7o+="t";Z7o="_";Z7o+="h";Z7o+="i";Z7o+="st";l6N=i6N[Y6N];B0S.c3m(4);a6N=i6N[B0S.i3m(Y6N,1)];if(!a6N){a6N=z6N.getPreviousBar(z6N.chart,D6N.name + "_hist",Y6N);}if(!l6N)continue;P6N=0;B6N=0;if(D6N.parameters && D6N.parameters.studyOverZonesEnabled){P6N=parseFloat(D6N.parameters.studyOverBoughtValue);B6N=parseFloat(D6N.parameters.studyOverSoldValue);}if(!a6N){H6N.fillStyle="#CCCCCC";}else if(l6N[D6N.name + "_hist"] > P6N && a6N[D6N.name + "_hist"] < l6N[D6N.name + "_hist"]){H6N.fillStyle=h6N;}else if(l6N[D6N.name + "_hist"] < B6N && a6N[D6N.name + Z7o] > l6N[D6N.name + D7o]){H6N.fillStyle=X6N;}else {H6N.fillStyle="#CCCCCC";}if(l6N.candleWidth){V6N=Math.floor(Math.max(1,l6N.candleWidth - 2));}H6N.fillRect(Math.floor(z6N.pixelFromBar(Y6N,L6N.chart) - V6N / 2),Math.floor(e6N),Math.floor(V6N),Math.floor(z6N.pixelFromPrice(l6N[D6N.name + "_hist"],L6N,u6N) - e6N));}z6N.endClip();};m6N.Studies.studyLibrary=m6N.extend(m6N.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:m6N.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",J1o]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:m6N.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":+"26","Points Or Percent":[M1o,q1o]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:m6N.Studies.displayRAVI,calculateFN:m6N.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":i1o,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};I9H=w6N=>{var p6N,E1o;p6N=typeof _CIQ !== "undefined"?_CIQ:w6N.CIQ;O7dd.i9S();if(!p6N.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {E1o="a";E1o+="u";E1o+="t";E1o+="o";p6N.Studies.calculatePrimeNumber=function(M1w,I6N){var b0S=O7dd;var f6N,b1w,S6N,n6N,J6N,X1o,K1w,t1w,R1w;f6N=[];b1w=I6N.chart.scrubbed;function d1w(c1w){var G1w;if(c1w <= +"0"){return !{};}else if(c1w != Math.floor(c1w)){return ! !"";}else if(f6N[c1w] === ! !{} || f6N[c1w] === !"1"){return f6N[c1w];}b0S.i9S();G1w=parseInt(Math.sqrt(c1w),"10" >> 485103072);for(var s1w=2;s1w <= G1w;s1w++){if(c1w % s1w === 0){f6N[c1w]=!"1";return !{};}}f6N[c1w]=!0;return !0;}b0S.J9S();for(var j1w=I6N.startFrom;j1w < b1w.length;j1w++){S6N=b1w[j1w];if(!S6N)continue;n6N=S6N.High;if(!isNaN(n6N)){for(var O1w=0;n6N > +"0" && n6N <= 10;O1w++){n6N*=10;}if(d1w(n6N)){n6N+=2;}n6N=Math.ceil(n6N);if(n6N % 2 === 0){n6N++;}while(!d1w(n6N)){n6N+=2;}n6N/=Math.pow(10,O1w);}J6N=S6N.Low;if(!isNaN(J6N)){for(var Z1w=0;J6N > 0 && J6N <= 10;Z1w++){J6N*=+"10";}if(d1w(J6N)){J6N-=2;}J6N=Math.floor(J6N);if(J6N % 2 === 0){J6N--;}if(J6N > 0){while(!d1w(J6N)){J6N-=2;}J6N/=Math.pow(10,Z1w);}}if(I6N.type == "Prime Number Bands"){X1o="P";X1o+="rime Bands Bott";X1o+="om ";if(!isNaN(n6N)){S6N["Prime Bands Top " + I6N.name]=n6N;}if(!isNaN(J6N)){S6N[X1o + I6N.name]=Math.max(0,J6N);}}else {K1w=0;b0S.O3m(131);var x28=b0S.i3m(116,2,16,34);t1w=I6N.inputs["Tolerance Percentage"] * (n6N - J6N) / x28;b0S.O3m(3);var G28=b0S.i3m(18,16,0);R1w=n6N + J6N - G28 * S6N.Close;if(R1w < t1w){K1w=1;}else if(R1w > t1w){b0S.O3m(21);K1w=-b0S.F3m(1948475264,"1");}if(K1w){S6N["Result " + I6N.name]=K1w;}}}};p6N.Studies.studyLibrary=p6N.extend(p6N.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:p6N.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !1,calculateFN:p6N.Studies.calculatePrimeNumber,seriesFN:p6N.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":E1o}}});}};f9H=W1w=>{O7dd.i9S();var q1w,j1o,G1o,x1o,z1o,e1o;q1w=typeof _CIQ !== "undefined"?_CIQ:W1w.CIQ;if(!q1w.Studies){j1o="pring feature requires";j1o+=" first activating studies feature.";console.error(j1o);}else {G1o="d";G1o+="aily";x1o="f";x1o+="i";x1o+="e";x1o+="ld";z1o="#FF00";z1o+="00";e1o="P";e1o+="r";e1o+="ing's Know Sure Thing";q1w.Studies.calculateKST=function(U1w,o1w){var F0S=O7dd;var l1o,m1o,k1o,T1o,r1w,g1w,k1w,N1w,x1w,m1w,T1w,R1o,C1w;l1o="Heaviest SM";l1o+="A Pe";l1o+="ri";l1o+="od";m1o="Heaviest Rate";m1o+=" of Chang";m1o+="e Period";F0S.i9S();k1o="Heavy Rate of Ch";k1o+="ange Period";T1o="fie";T1o+="l";T1o+="d";r1w=o1w.chart.scrubbed;g1w=o1w.inputs.Field;if(!g1w || g1w == T1o){g1w="Close";}k1w={};N1w={};k1w[1]=Number(o1w.inputs["Lightest Rate of Change Period"]);F0S.O3m(39);k1w[F0S.F3m(0,"2")]=Number(o1w.inputs["Light Rate of Change Period"]);k1w[3]=Number(o1w.inputs[k1o]);k1w[4]=Number(o1w.inputs[m1o]);N1w[1]=Number(o1w.inputs["Lightest SMA Period"]);N1w[+"2"]=Number(o1w.inputs["Light SMA Period"]);N1w[3]=Number(o1w.inputs["Heavy SMA Period"]);N1w[+"4"]=Number(o1w.inputs[l1o]);x1w=Number(o1w.inputs["Signal Period"]);for(m1w=o1w.startFrom;m1w < r1w.length;m1w++){if(!r1w[m1w])continue;for(T1w=1;T1w <= 4;T1w++){R1o="_";R1o+="RO";R1o+="C";if(m1w >= k1w[T1w] && r1w[m1w - k1w[T1w]] && r1w[m1w - k1w[T1w]][g1w]){F0S.O3m(48);var c28=F0S.i3m(15,4400,300);r1w[m1w][R1o + T1w + " " + o1w.name]=c28 * (r1w[m1w][g1w] / r1w[m1w - k1w[T1w]][g1w] - ("1" ^ 0));}}}for(T1w=1;T1w <= +"4";T1w++){q1w.Studies.MA("simple",N1w[T1w],"_ROC" + T1w + " " + o1w.name,"0" ^ 0,"_SMA" + T1w,U1w,o1w);}for(m1w=o1w.startFrom;m1w < r1w.length;m1w++){r1w[m1w]["KST " + o1w.name]=null;for(T1w=1;T1w <= 4;T1w++){F0S.c3m(107);var N28=F0S.F3m(2,7,127,227);F0S.c3m(140);var W28=F0S.F3m(7,20,52349,7474,8);F0S.O3m(33);var Y28=F0S.i3m(15,0,8,24);F0S.c3m(110);var o28=F0S.i3m(17,15,127233,12,9072);F0S.c3m(3);var H28=F0S.F3m(3224,12,268);F0S.O3m(106);var a28=F0S.F3m(11,43054,3,3,4310);C1w=r1w[m1w]["_SMA" + T1w + (N28 < (379.46,484.08)?" ":(621.76,W28) < "316.84" * Y28?(o28,! !{}):H28 === 702.73?(a28,![]):484.72) + o1w.name];if(C1w || C1w === 0){F0S.c3m(6);r1w[m1w]["KST " + o1w.name]+=F0S.i3m(T1w,C1w);}}}q1w.Studies.MA("simple",x1w,"KST " + o1w.name,"0" ^ 0,"KSTSignal",U1w,o1w);};q1w.Studies.calculateSpecialK=function(H1w,v1w){var V0S=O7dd;var F1o,A1w,E1w,Q1w,D1w,z1w,F1w,y1w,g1o,P1o,l1w;F1o="Cl";F1o+="o";F1o+="s";F1o+="e";V0S.J9S();A1w=v1w.chart.scrubbed;E1w=v1w.inputs.Field;if(!E1w || E1w == "field"){E1w=F1o;}Q1w=v1w.inputs.Interval;if(!Q1w){Q1w="daily";}D1w={daily:[10,15,20,30,50,65,75,100,195,265,+"390",530],weekly:[4,5,6,8,+"10",+"13",15,20,+"39",52,78,104]};z1w={daily:[10,10,10,15,50,65,75,"100" | 96,"130" >> 1176540352,130,+"130",195],weekly:[4,5,+"6",8,"10" << 1868838080,+"13",15,20,26,26,26,39]};for(F1w=v1w.startFrom;F1w < A1w.length;F1w++){if(!A1w[F1w])continue;for(y1w=0;y1w < D1w[Q1w].length;y1w++){g1o="_";g1o+="ROC";if(F1w >= D1w[Q1w][y1w] && A1w[F1w - D1w[Q1w][y1w]] && A1w[F1w - D1w[Q1w][y1w]][E1w]){V0S.O3m(42);var A28=V0S.i3m(2380,15,237,1185);V0S.c3m(141);var C28=V0S.F3m(15,12,0,8,10);V0S.c3m(48);var n28=V0S.F3m(17,1736,108);V0S.O3m(3);var B28=V0S.i3m(8,7,0);A1w[F1w][g1o + y1w + (A28 >= "9770" * C28?![]:+"338.53" > 716.35?(![],! !{}):" ") + v1w.name]=n28 * (A1w[F1w][E1w] / A1w[F1w - D1w[Q1w][y1w]][E1w] - B28);}}}for(y1w=0;y1w < z1w[Q1w].length;y1w++){P1o="_";P1o+="R";P1o+="O";P1o+="C";q1w.Studies.MA(Q1w == "daily"?"simple":"exponential",z1w[Q1w][y1w],P1o + y1w + " " + v1w.name,0,"_MA" + y1w,H1w,v1w);}for(F1w=v1w.startFrom;F1w < A1w.length;F1w++){A1w[F1w]["Result " + v1w.name]=null;for(y1w="0" >> 51653888;y1w < z1w[Q1w].length;y1w++){V0S.O3m(12);var Q28=V0S.F3m(20755,5,22490);V0S.c3m(48);var K28=V0S.i3m(19,5758,823);V0S.O3m(142);var h28=V0S.i3m(226,10,1337,13);V0S.c3m(131);var r28=V0S.i3m(6873,20,20,43);V0S.c3m(49);var f28=V0S.F3m(3,1508,81);V0S.O3m(2);var d28=V0S.i3m(3395,3395);V0S.O3m(143);var V28=V0S.F3m(7,9668,2421,9684,1);V0S.O3m(4);var y28=V0S.i3m(20,19);V0S.c3m(4);var s28=V0S.i3m(6184,11);l1w=A1w[F1w]["_MA" + y1w + (Q28 > (K28,h28)?r28:716.62 >= (891.76,f28)?(d28,V28):"8.68" * y28 != (s28,732.7)?" ":("T",80.71)) + v1w.name];if(l1w || l1w === 0){V0S.c3m(144);A1w[F1w]["Result " + v1w.name]+=V0S.F3m("4",y1w,"1",l1w);}}}};q1w.Studies.studyLibrary=q1w.extend(q1w.Studies.studyLibrary,{"Pring KST":{name:e1o,calculateFN:q1w.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":"15" | 1,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:z1o}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:q1w.Studies.calculateSpecialK,inputs:{Field:x1o,Interval:[G1o,"weekly"]}}});}};K4H=V1w=>{var Y1w,a1w,c1o,U1o,p1o,v1o,L1o,S1o,u1o,s1o,y1o,V1o,d1o,f1o;Y1w=typeof _CIQ !== "undefined"?_CIQ:V1w.CIQ;O7dd.J9S();a1w=typeof _timezoneJS !== "undefined"?_timezoneJS:V1w.timezoneJS;if(!Y1w.Studies){c1o="pr";c1o+="ojectedVolume feature requires first acti";c1o+="vat";c1o+="ing studies feature.";console.error(c1o);}else if(!Y1w.Studies.studyLibrary.PVAT){U1o="0";U1o+=" to max";p1o="+";p1o+="50%";v1o="#";v1o+="b82";v1o+="c";v1o+="0c";L1o="#8c";L1o+="c176";S1o="#cfb";S1o+="d0";S1o+="e";u1o="#";u1o+="fe";u1o+="641c";s1o="-1";s1o+="00";s1o+="%";y1o="-";y1o+="75%";V1o="-";V1o+="5";V1o+="0%";d1o="No";d1o+="n";d1o+="e";f1o="+";f1o+="10";f1o+="0";f1o+="%";Y1w.Studies.initProjectedVolume=function(u1w,B1w,i1w,h1w,X1w,p1w){var N1o,L1w,W1o,P1w;N1o="An";N1o+="cho";N1o+="r T";N1o+="ime";var {market:e1w}=u1w.chart;L1w="00";L1w+=":00";O7dd.J9S();if(e1w){L1w=e1w.getNormalOpen();}if(L1w.match(/^[\d]{2}:[\d]{2}$/)){L1w+=":00";}if(!i1w["Anchor Time"] || !i1w[N1o].length){W1o="Anchor ";W1o+="Ti";W1o+="me";i1w[W1o]=L1w;}P1w=Y1w.Studies.initializeFN(u1w,B1w,i1w,h1w,X1w,p1w);if(!u1w.currentlyImporting){P1w.defaultAnchorTime=L1w;}return P1w;};Y1w.Studies.validateProjectedVolumeLookback=function(S1w,I1w){O7dd.J9S();var {interval:w1w, periodicity:J1w}=S1w.layout;var {"Lookback Days":n1w}=I1w.inputs;O7dd.O3m(145);return O7dd.F3m(10,n1w,J1w,w1w);};Y1w.Studies.calculateProjectedVolume=function(d3w,f1w){var o0S=O7dd;var o1o,Y1o,h3w,c3w,s3w,H1o,p3w,w3w,E3w,D3w,j3w,z3w,T7w,b3w,I2P,b2P,t2P,l3w,H3w,J3w,Y3w,a1o,G3w,V3w,m7w,M3w,r7w,N3w,O3w,y3w,t3w,T3w,S3w,I3w,f3w,K7w,L3w,i3w,Q3w,N7w,d7w,m3w,r3w,v3w,C7w,u3w,n1o,C1o,A1o,Z3w,j7w,b7w,e3w,O7w,C3w;o0S.i9S();o1o="o";o1o+="h";o1o+="l";o1o+="c";Y1o="tic";Y1o+="k";var {interval:c7w, timeUnit:P3w, aggregationType:B3w}=d3w.layout;var {symbol:s7w, scroll:G7w, scrubbed:K3w, market:R3w}=d3w.chart;h3w=f1w.type === "PAV";c3w=f1w.study?f1w.study.name:f1w.type;if(Y1w.ChartEngine.isDailyInterval(c7w)){f1w.error=`${c3w} is Intraday Only`;}else if(P3w === Y1o){f1w.error=`Tick mode not supported for ${c3w}`;}else if(P3w !== "minute"){f1w.error=`Sub-minute periodicities not supported for ${c3w}`;}else if(!B3w || ![o1o,"heikinashi"].includes(B3w)){f1w.error=`Aggregation type not supported for ${c3w}`;}else if(!Y1w.Studies.validateProjectedVolumeLookback(d3w,f1w)){f1w.error=`Selected lookback/periodicity combo not supported for ${c3w}`;}if(f1w.error){return;}if(f1w.inputs["Anchor Selector"]){Y1w.Studies.initAnchorHandle(d3w,f1w);}else {Y1w.Studies.removeAnchorHandle(d3w,f1w);}s3w=R3w?R3w.getNormalOpen():"00:00";if(s3w.match(/^[\d]{2}:[\d]{2}$/)){s3w+=":00";}if(!d3w.currentlyImporting){if(!f1w.defaultAnchorTime){f1w.defaultAnchorTime=s3w;}else if(s3w !== f1w.defaultAnchorTime){H1o="An";H1o+="chor";H1o+=" Time";f1w.defaultAnchorTime=s3w;f1w.inputs[H1o]=s3w;Y1w.Studies.repositionAnchor(d3w,f1w);return;}}var {"Lookback Days":x3w, "Anchor Time":q7w}=f1w.inputs;var [W7w,o7w,X3w = 0]=q7w.split(+"301" < 113.77?("6572" | 136) >= 9250?235.72:(4.58e+2,3.32e+3):":");p3w=Y1w.getFn("Market.Symbology.isForexSymbol")(s7w);w3w=f1w.getDependents(d3w);E3w=0;D3w=[];w3w.forEach(({inputs:x7w, outputMap:y7w})=>{if(x7w.Period){E3w=Math.max(parseInt(x7w.Period),E3w);D3w.push(...Object.keys(y7w));}});f1w.dependentsOutputMap=D3w;function Z7w(Q7w){o0S.J9S();console.error(`Expected data for ${M7w(Q7w).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function k3w(v7w){o0S.J9S();return {hours:v7w.getHours(),minutes:v7w.getMinutes()};}z3w=U3w(K3w.length - 1,!"");T7w=Math.ceil(K3w.length - 1 - G7w);o0S.c3m(4);b3w=U3w(o0S.i3m(T7w,E3w));if(p3w && K3w[b3w] && Y1w.dateToStr(K3w[b3w].DT,"HH:mm") !== s3w){I2P=-746972709;b2P=-144802879;t2P=2;for(var Z2P=+"1";o0S.P6y(Z2P.toString(),Z2P.toString().length,72312) !== I2P;Z2P++){o0S.O3m(2);b3w=U3w(o0S.F3m(b3w,9));;t2P+=2;}if(o0S.P6y(t2P.toString(),t2P.toString().length,45340) !== b2P){o0S.O3m(4);b3w=U3w(o0S.F3m(b3w,1));;}}if(!p3w && f1w.startFrom > b3w && K3w[b3w] && K3w[b3w]["V " + f1w.name] !== undefined && D3w.every(F7w=>{o0S.i9S();return ![undefined,null].includes(K3w[b3w][F7w]);}) && z3w !== !"1"){j3w=z3w;;}else {j3w=b3w;}function U3w(u7w,e7w){var L7w,F9y,g9y,P9y,i7w,a7w;L7w=M7w(u7w);o0S.O3m(15);F9y=-o0S.i3m(2147483647,"795978632");g9y=-32814510;P9y=2;for(var z9y=1;o0S.F6y(z9y.toString(),z9y.toString().length,3259) !== F9y;z9y++){i7w=R3w.getOpen(L7w) && U7w(L7w);a7w=R7w(i7w);if(~e7w){return a7w;}if(a7w <= 6){a7w=R7w(t7w(i7w,"0" >> 1458298944,!"1"));}if(a7w > K3w.length){return ! !{};}return a7w;}if(o0S.F6y(P9y.toString(),P9y.toString().length,66289) !== g9y){i7w=R3w.getOpen(L7w) || U7w(L7w);a7w=R7w(i7w);if(!e7w){return a7w;}if(a7w < 0){a7w=R7w(t7w(i7w,1,! ![]));}if(a7w >= K3w.length){return !{};}return a7w;}}l3w=t7w(M7w(b3w),x3w);function R7w(l7w){var B1o;o0S.J9S();B1o="s";B1o+="c";B1o+="rubb";B1o+="ed";return d3w.tickFromDate(l7w,null,null,! !{},B1o);}o0S.O3m(39);l3w.setHours(o0S.i3m(0,"0"),0,0);H3w=U3w(0,! !"1");J3w=(H3w || H3w === 0) && R7w(t7w(K3w[H3w].DT,x3w,! !{}));function t7w(E7w,D7w,z7w){while(D7w){E7w=new Date(new Date(E7w).setDate(E7w.getDate() + (z7w?1:-1)));if(R3w.isMarketDate(E7w)){D7w--;}}o0S.i9S();return E7w;}if(K3w[0].DT > l3w){if(d3w.quoteDriver){d3w.quoteDriver.extendHistoricalData({from:l3w});if(J3w > 0){j3w=J3w;}else {return;}}else {return f1w.error=`Not enough data to calculate ${c3w}`;}}if(j3w < 0 || j3w > K3w.length - 1){return;}Y3w=K3w.length - f1w.startFrom === +"1" && f1w.cachedFutureTicks && f1w.cachedLastProjection && +f1w.cachedLastProjection.DT === +K3w[K3w.length - 1].DT && K3w[j3w]["PV " + f1w.name];if(Y3w){a1o="P";a1o+="V";a1o+=" ";o0S.c3m(9);var u28=o0S.i3m(2,6,3,0);K3w[K3w.length - u28][a1o + f1w.name]=f1w.cachedLastProjection.projectedValue;f1w.appendFutureTicks(d3w,f1w.cachedFutureTicks);j3w=f1w.startFrom;}else {f1w.cachedFutureTicks=null;f1w.cachedLastProjection=null;G3w=[z3w];V3w=[];for(var n3w=0;n3w < x3w;n3w++){m7w=U3w(G3w[0] - 1);G3w.unshift(m7w);;}while(G3w[x3w] >= j3w){M3w=G3w.pop();if(!K3w[M3w]){return Z7w(M3w);}r7w=k3w(K3w[M3w].DT);var {hours:q3w, minutes:g3w}=r7w;N3w=R3w.getClose(K3w[M3w].DT);O3w=void 0;if(!N3w){O3w={hours:+"24",minutes:"0" - 0};}else {y3w=R3w.getNextClose(K3w[M3w].DT);O3w=k3w(N3w);while(!(O3w.hours === 0 && O3w.minutes === 0) && N3w.getDate() === y3w.getDate()){N3w=y3w;y3w=R3w.getNextClose(y3w);}O3w=k3w(N3w);if(O3w.hours === 0){O3w.hours=24;}}t3w=G3w.slice();for(var F3w=0;F3w < t3w.length;F3w++){T3w=t3w[F3w];if(!K3w[T3w]){return Z7w(T3w);}var {hours:A3w, minutes:a3w}=k3w(K3w[T3w].DT);if(A3w < q3w || A3w === q3w && a3w < g3w){do {T3w++;({hours:A3w, minutes:a3w}=k3w(K3w[T3w].DT));}while(!(A3w === q3w && a3w === g3w));}t3w[F3w]=T3w;}while(q3w < O3w.hours || q3w === O3w.hours && g3w < O3w.minutes){S3w=!1;o0S.O3m(41);I3w=void o0S.i3m(0,"0");f3w=void 0;K7w=0;L3w=0;for(var W3w=0;W3w < t3w.length;W3w++){i3w=t3w[W3w];if(i3w === null)continue;Q3w=K3w[i3w];if(!Q3w){return Z7w(i3w);}var {hours:k7w, minutes:g7w}=k3w(Q3w.DT);N7w=Q3w.DT.getDate();if(k7w === q3w && g7w === g3w){K7w+=Q3w.Volume;L3w++;t3w[W3w]++;if(K3w[t3w[W3w]].DT.getDate() !== N7w){t3w[W3w]=null;}else if(!S3w){({hours:I3w, minutes:f3w}=k3w(K3w[t3w[W3w]].DT));S3w=! ![];;}}}q3w=I3w;g3w=f3w;if(L3w === 0)break;o0S.O3m(10);d7w=o0S.F3m(K7w,L3w);if(K3w[M3w]){K3w[M3w]["PV " + f1w.name]=d7w;}else {V3w.push({["PV " + f1w.name]:d7w});}M3w++;}G3w.unshift(U3w(G3w["0" & 2147483647] - 1));;}f1w.cachedLastProjection={DT:K3w[K3w.length - ("1" >> 1427924096)].DT,projectedValue:K3w[K3w.length - 1]["PV " + f1w.name]};f1w.cachedFutureTicks=V3w;f1w.appendFutureTicks(d3w,V3w);}m3w=null;r3w=0;function M7w(H7w){o0S.i9S();return d3w.dateFromTick(H7w,null,!0,"scrubbed");}v3w=0;if(Y3w && h3w){while(j3w > 0){o0S.c3m(146);u3w=K3w[o0S.i3m(1,j3w,"1")]["V " + f1w.name];if(u3w || u3w === 0){r3w=u3w;break;}j3w--;}}function U7w(Y7w){var V7w;Y7w.setHours(0);Y7w.setMinutes(0);V7w=Y1w.Studies.getMarketOffset({stx:d3w,localQuoteDate:Y7w});return new Date(Y7w.getTime() + V7w);}for(var o3w=j3w;o3w < K3w.length;o3w++){n1o="V";n1o+=" ";C1o="Americ";C1o+="a/New_York";A1o="P";A1o+="V";A1o+=" ";Z3w=K3w[o3w];j7w=Z3w.Volume;b7w=Z3w[A1o + f1w.name];if(!Z3w.futureTick){C7w=o3w;}if(m3w === null){m3w=Y1w.Studies.getMarketOffset({stx:d3w,localQuoteDate:K3w[o3w].DT,shiftToDateBoundary:!""});}e3w=new Date(new Date(Z3w.DT).getTime() + m3w);O7w=K3w[o3w - +"1"] && new Date(new Date(K3w[o3w - 1].DT).getTime() + m3w);C3w=new a1w.Date(Z3w.DT,R3w.market_def.market_tz || C1o);C3w.setHours(W7w,o7w,X3w);o0S.c3m(2);C3w=new Date(o0S.i3m(C3w,m3w));C3w.setDate(e3w.getDate());if(O7w && e3w.getDate() !== O7w.getDate()){m3w=null;o0S.c3m(21);r3w=o0S.F3m(1282514304,"0");v3w=0;}if(e3w < C3w){Z3w["V " + f1w.name]=+"0";Z3w["PV " + f1w.name]=+"0";continue;}if(h3w){r3w+=j7w;v3w+=b7w;}else {r3w=j7w;v3w=b7w;}Z3w[n1o + f1w.name]=r3w;if(!Y3w){Z3w["PV " + f1w.name]=v3w;}if([NaN,null,undefined].includes(r3w) && !Z3w.futureTick){f1w.error=`${c3w} requires volume`;return;}}f1w.cachedLastProjection.projectedValue=K3w[C7w]["PV " + f1w.name];f1w.outputMap={};f1w.outputMap["V " + f1w.name]="";f1w.outputMap["PV " + f1w.name]="Average Line";w3w.forEach(A7w=>{o0S.J9S();A7w.startFrom=j3w;A7w.study.calculateFN(d3w,A7w);});};Y1w.Studies.displayProjectedVolume=function(B7w,P7w,h7w){var K0S=O7dd;var K1o,Q1o,w7w,X7w,J7w,n7w,S7w,f7w,K2w;K1o="stx_";K1o+="v";K1o+="olume_underlay";K1o+="_up";Q1o="A";Q1o+="l";K0S.i9S();Q1o+="er";Q1o+="t Bar";if(P7w.error){return Y1w.Studies.removeAnchorHandle(B7w,P7w);}var {"Alert Threshold":p7w = ""}=P7w.inputs;K0S.O3m(8);var S28=K0S.i3m(0,20,19);K0S.O3m(32);var L28=K0S.F3m(400,3,1500);w7w=parseInt(p7w.slice(0,S28),+"10") / L28;X7w=P7w.outputs[Q1o];if(typeof X7w === "object"){X7w=X7w.color;}P7w.volumeField="V " + P7w.name;P7w.alignStepToSide=!0;P7w.extendToEndOfLastBar=! ![];P7w.lineWidth=2;J7w=B7w.canvasStyle(K1o).opacity;n7w=B7w.canvasStyle("stx_volume_underlay_down").opacity;P7w.colorFunction=function(j2w){var h1o,c2w,d2w,s2w,b2w,O2w,Z2w;h1o="V";h1o+=" ";var {Open:t2w, Close:R2w, iqPrevClose:M2w}=j2w;c2w=B7w.colorByCandleDirection?t2w:M2w;K0S.c3m(147);d2w=K0S.F3m(R2w,c2w);s2w=j2w["PV " + P7w.name];b2w=j2w[h1o + P7w.name];K0S.c3m(148);O2w=K0S.F3m(w7w,s2w,1);K0S.i9S();Z2w=w7w < 0?b2w < O2w:b2w > O2w;return {fill_color:Z2w && X7w || (d2w?this.fill_color_down:this.fill_color_up),border_color:d2w?this.border_color_down:this.border_color_up,opacity:Z2w?1:d2w?n7w:J7w,border_opacity:d2w?n7w:J7w};};S7w=P7w.study?P7w.study.name:P7w.type;var {loadingMore:I7w}=B7w.chart;f7w=h7w.some(G2w=>{var r1o;r1o="P";r1o+="V ";return G2w && G2w[P7w.volumeField] && G2w[r1o + P7w.name];});K2w=h7w[0] && !h7w["0" * 1].futureTick && (h7w["0" >> 1667311808]["PV " + P7w.name] === undefined || (P7w.dependentsOutputMap || []).some(q2w=>{K0S.J9S();return [undefined,null].includes(h7w[+"0"][q2w]);}));if(!f7w && I7w){return P7w.error=`Fetching data for ${S7w}`;}Y1w.Studies.createVolumeChart(B7w,P7w,h7w);Y1w.Studies.displaySeriesAsLine(B7w,P7w,h7w);if(P7w.anchorHandle){Y1w.Studies.displayAnchorHandleAndLine(B7w,P7w,h7w);}if(K2w){Y1w.Studies.calculateProjectedVolume(B7w,P7w);}};Y1w.Studies.studyLibrary=Y1w.extend(Y1w.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:Y1w.Studies.calculateProjectedVolume,seriesFN:Y1w.Studies.displayProjectedVolume,initializeFN:Y1w.Studies.initProjectedVolume,removeFN:Y1w.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%",f1o,"+75%","+50%","+25%",d1o,"-25%",V1o,y1o,s1o,"-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":u1o,"Alert Bar":S1o,"Up Volume":L1o,"Down Volume":v1o},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:p1o}}},PAV:{name:"Projected Aggregate Volume",range:U1o,yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:Y1w.Studies.calculateProjectedVolume,seriesFN:Y1w.Studies.displayProjectedVolume,initializeFN:Y1w.Studies.initProjectedVolume,removeFN:Y1w.Studies.removeAnchorHandle,inputs:{"Lookback Days":"10" | 0,"Anchor Time":"","Anchor Selector":! !"1"},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};d4H=o2w=>{var W2w,O1o,b1o;O7dd.J9S();W2w=typeof _CIQ !== "undefined"?_CIQ:o2w.CIQ;if(!W2w.Studies){O1o="psycho";O1o+="logical";O1o+="Line feature requires first activating studies feature.";console.error(O1o);}else {b1o="0 t";b1o+="o";b1o+=" 10";b1o+="0";W2w.Studies.calculatePsychologicalLine=function(U2w,T2w){var r2w,N8y,W8y,Y8y,k2w,N2w,g2w,I1o,C2w;r2w=T2w.chart.scrubbed;if(r2w.length < T2w.days + 1){T2w.error=! !1;N8y=+"261667667";W8y=429660401;Y8y=2;for(var H8y=1;O7dd.F6y(H8y.toString(),H8y.toString().length,80134) !== N8y;H8y++){return;}if(O7dd.F6y(Y8y.toString(),Y8y.toString().length,19555) !== W8y){return;}return;}k2w=[];N2w=("100" & 2147483647) / T2w.days;g2w=0;for(var m2w=Math.max(T2w.startFrom - T2w.days,+"1");m2w < r2w.length;m2w++){I1o="R";I1o+="esul";I1o+="t ";if(r2w[m2w].futureTick)break;C2w=Number(r2w[m2w].Close > r2w[m2w - 1].Close);if(C2w){g2w+=N2w;}k2w.push(C2w);if(k2w.length > T2w.days){g2w-=k2w.shift() * N2w;}if(m2w < T2w.startFrom)continue;if(!isNaN(r2w[m2w].Close)){r2w[m2w][I1o + T2w.name]=g2w;}}};W2w.Studies.studyLibrary=W2w.extend(W2w.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:b1o,calculateFN:W2w.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};j4H=y2w=>{var x2w,w1o;x2w=typeof _CIQ !== "undefined"?_CIQ:y2w.CIQ;if(!x2w.Studies){console.error("qstick feature requires first activating studies feature.");}else {w1o="Q";w1o+="S";w1o+="t";w1o+="ick";x2w.Studies.calculateQStick=function(v2w,F2w){var t1o,A2w;t1o="Moving Aver";t1o+="age Type";A2w=F2w.chart.scrubbed;if(A2w.length < F2w.days + +"1"){F2w.error=!0;return;}for(var Q2w=F2w.startFrom;Q2w < A2w.length;Q2w++){A2w[Q2w]["_Close-Open " + F2w.name]=A2w[Q2w].Close - A2w[Q2w].Open;}x2w.Studies.MA(F2w.inputs[t1o],F2w.days,"_Close-Open " + F2w.name,0,"Result",v2w,F2w);};x2w.Studies.studyLibrary=x2w.extend(x2w.Studies.studyLibrary,{QStick:{name:w1o,calculateFN:x2w.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};b4H=D2w=>{var E2w,m0o,k0o;E2w=typeof _CIQ !== "undefined"?_CIQ:D2w.CIQ;O7dd.i9S();if(!E2w.Studies){console.error("rainbow feature requires first activating studies feature.");}else {m0o="#";m0o+="7F00FF";k0o="#F";k0o+="F";k0o+="FF00";E2w.Studies.calculateRainbow=function(h2w,z2w){var n0S=O7dd;var Z1o,l2w,V2w,s4y,u4y,S4y,P2w,B2w,i2w,u2w,e2w,a2w,L2w,q0o,M0o,J0o,D1o;Z1o="fi";Z1o+="eld";l2w=z2w.chart.scrubbed;if(l2w.length < z2w.days + 1){z2w.error=!"";return;}V2w=z2w.inputs.Field;if(!V2w || V2w == Z1o){V2w="Close";}n0S.c3m(41);s4y=n0S.F3m(0,"290807134");u4y=-1277003311;S4y=+"2";for(var v4y=1;n0S.P6y(v4y.toString(),v4y.toString().length,7328) !== s4y;v4y++){P2w=V2w;S4y+=2;}if(n0S.F6y(S4y.toString(),S4y.toString().length,+"73056") !== u4y){P2w=V2w;}P2w=V2w;for(var Y2w=1;Y2w <= 10;Y2w++){E2w.Studies.MA("simple",z2w.days,P2w,0,"SMA" + Y2w,h2w,z2w);P2w="SMA" + Y2w + " " + z2w.name;}for(var H2w=Math.max(z2w.startFrom,10);H2w < l2w.length;H2w++){if(!l2w[H2w])continue;if(l2w[H2w].futureTick)break;B2w=0;i2w=+"0";n0S.c3m(149);var v28=n0S.F3m(11,2,2641,20,6);u2w=Number.MAX_VALUE * v28;e2w=Number.MAX_VALUE;for(Y2w=1;Y2w <= 10;Y2w++){a2w=l2w[H2w]["SMA" + Y2w + " " + z2w.name];if(a2w || a2w === 0){B2w+=a2w;i2w++;u2w=Math.max(u2w,a2w);e2w=Math.min(e2w,a2w);}}if(z2w.name.indexOf("Osc") > -1){L2w=X2w(z2w.inputs["HHV/LLV Lookback"],H2w);if(i2w){n0S.c3m(150);var p28=n0S.F3m(80,80,44,16,8);n0S.c3m(25);var U28=n0S.i3m(0,10,16,20,25);n0S.O3m(42);var O28=n0S.F3m(17,17,3,3);l2w[H2w][z2w.name + "_hist"]=p28 * (l2w[H2w][V2w] - B2w / i2w) / Math.max("0.000001" * U28,L2w[O28] - L2w[0]);n0S.c3m(87);var I28=n0S.i3m(20,1760,4,97);n0S.O3m(13);var b28=n0S.F3m(19,18);n0S.c3m(59);var t28=n0S.i3m(16,16,10,295,12);l2w[H2w]["Over " + z2w.name]=I28 * (u2w - e2w) / Math.max(0.000001,L2w[b28] - L2w["0" * t28]);l2w[H2w]["Under " + z2w.name]=-l2w[H2w]["Over " + z2w.name];l2w[H2w]["Zero " + z2w.name]=0;}}}if(z2w.name.indexOf("Osc") > -1){q0o="_";q0o+="his";q0o+="t";M0o="Ze";M0o+="ro ";J0o="Un";J0o+="der";J0o+=" ";D1o="Po";D1o+="sitive";D1o+=" ";D1o+="Bar";z2w.outputMap={};z2w.outputMap["Over " + z2w.name]=D1o;z2w.outputMap[J0o + z2w.name]="Negative Bar";z2w.outputMap[M0o + z2w.name]="";z2w.outputMap[z2w.name + q0o]="";}function X2w(S2w,n2w){var w2w,J2w;n0S.c3m(16);var w28=n0S.i3m(18,11,15,13);w2w=Number.MAX_VALUE * w28;J2w=Number.MAX_VALUE;for(var p2w=n2w - S2w + 1;p2w <= n2w;p2w++){if(p2w < +"0")continue;w2w=Math.max(w2w,l2w[p2w].Close);J2w=Math.min(J2w,l2w[p2w].Close);}n0S.i9S();return [J2w,w2w];}};E2w.Studies.displayRainbowMA=function(K9w,f2w,j9w){var y9y,s9y,u9y,d9w,i0o;y9y=-1817692573;s9y=1043223151;u9y=2;for(var L9y=1;O7dd.P6y(L9y.toString(),L9y.toString().length,49647) !== y9y;L9y++){d9w=K9w.panels[f2w.panel];u9y+=2;}O7dd.J9S();if(O7dd.P6y(u9y.toString(),u9y.toString().length,79952) !== s9y){d9w=K9w.panels[f2w.panel];}for(var I2w=10;I2w > 0;I2w--){i0o="S";i0o+="M";i0o+="A";E2w.Studies.displayIndividualSeriesAsLine(K9w,f2w,d9w,i0o + I2w + " " + f2w.name,j9w);}};E2w.Studies.displayRainbowOsc=function(O9w,b9w,r9w){var D0S=O7dd;var T0o,j0o,E0o,X0o,R9w,t9w,Z9w,s9w,G9w,W9w,o9w,T9w,m9w,c9w,M9w;T0o="#";T0o+="CC";T0o+="CCCC";j0o="Z";j0o+="ero";j0o+=" ";E0o="Und";E0o+="e";E0o+="r";E0o+=" ";X0o="O";X0o+="v";X0o+="er ";E2w.Studies.displaySeriesAsLine(O9w,b9w,r9w);R9w=O9w.panels[b9w.panel];t9w=b9w.getContext(O9w);Z9w=b9w.getYAxis(O9w);O9w.startClip(b9w.panel);if(!b9w.highlight && O9w.highlightedDraggable){t9w.globalAlpha*=0.3;}s9w=O9w.pixelFromPrice(0,R9w,Z9w);G9w=R9w.name != b9w.chart.name;W9w=E2w.Studies.determineColor(b9w.outputs["Positive Bar"]);t9w.strokeStyle=W9w;O9w.plotDataSegmentAsLine("Over " + b9w.name,R9w,{skipTransform:G9w,label:! !"",yAxis:Z9w});o9w=t9w.createLinearGradient(0,s9w,0,Z9w.flipped?Z9w.bottom:Z9w.top);o9w.addColorStop(0,O9w.containerColor);o9w.addColorStop(1,W9w);E2w.prepareChannelFill(O9w,{skipTransform:G9w,color:o9w,opacity:!b9w.highlight && O9w.highlightedDraggable?0.3:"1" & 2147483647,panelName:b9w.panel,topBand:X0o + b9w.name,bottomBand:"Zero " + b9w.name,yAxis:Z9w});T9w=E2w.Studies.determineColor(b9w.outputs["Negative Bar"]);t9w.strokeStyle=T9w;O9w.plotDataSegmentAsLine(E0o + b9w.name,R9w,{skipTransform:G9w,label:!"1",yAxis:Z9w});m9w=t9w.createLinearGradient(0,s9w,0,Z9w.flipped?Z9w.top:Z9w.bottom);m9w.addColorStop(0,O9w.containerColor);m9w.addColorStop(1,T9w);E2w.prepareChannelFill(O9w,{skipTransform:G9w,color:m9w,opacity:!b9w.highlight && O9w.highlightedDraggable?+"0.3":+"1",panelName:b9w.panel,topBand:j0o + b9w.name,bottomBand:"Under " + b9w.name,yAxis:Z9w});D0S.c3m(4);var Z28=D0S.i3m(24,22);c9w=O9w.layout.candleWidth - Z28;if(c9w < 2){c9w=1;}O9w.canvasColor("stx_histogram");if(!b9w.underlay){D0S.O3m(41);t9w.globalAlpha=D0S.F3m(0,"1");}if(!b9w.highlight && O9w.highlightedDraggable){t9w.globalAlpha*=0.3;}t9w.fillStyle=T0o;for(var q9w=0;q9w < r9w.length;q9w++){M9w=r9w[q9w];if(!M9w)continue;if(M9w[b9w.name + "_hist"] > 0){t9w.fillStyle=W9w;}else if(M9w[b9w.name + "_hist"] < 0){t9w.fillStyle=T9w;}if(M9w.candleWidth){c9w=Math.floor(Math.max(1,M9w.candleWidth - 2));}t9w.fillRect(Math.floor(O9w.pixelFromBar(q9w,R9w.chart) - c9w / 2),Math.floor(s9w),Math.floor(c9w),Math.floor(O9w.pixelFromPrice(M9w[b9w.name + "_hist"],R9w,Z9w) - s9w));}O9w.endClip();};E2w.Studies.studyLibrary=E2w.extend(E2w.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! ![],calculateFN:E2w.Studies.calculateRainbow,seriesFN:E2w.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:k0o,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:m0o,SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:E2w.Studies.calculateRainbow,seriesFN:E2w.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};O4H=g9w=>{var k9w,l0o,F0o;k9w=typeof _CIQ !== "undefined"?_CIQ:g9w.CIQ;if(!k9w.Studies){l0o="randomWalk feature";l0o+=" r";l0o+="equires first activating studies featur";l0o+="e.";console.error(l0o);}else {F0o="Random Walk";F0o+=" Index";k9w.Studies.calculateRandomWalk=function(l9w,x9w){var C9w,Q9w,v9w,E9w,y9w,F9w,A9w,D9w,z9w,R0o;C9w=x9w.chart.scrubbed;O7dd.J9S();if(C9w.length < x9w.days + 1){x9w.error=! ![];return;}for(var N9w=Math.max(2,x9w.startFrom);N9w < C9w.length;N9w++){Q9w=0;v9w=C9w[N9w].High;E9w=C9w[N9w].Low;y9w=0;F9w=+"0";for(var U9w=1;U9w <= x9w.days;U9w++){if(C9w[N9w].futureTick)break;if(N9w <= U9w){y9w=F9w=+"0";break;}Q9w+=C9w[N9w - U9w].trueRange;A9w=Q9w / U9w * Math.sqrt(U9w);if(A9w){D9w=(v9w - C9w[N9w - U9w].Low) / A9w;z9w=(C9w[N9w - U9w].High - E9w) / A9w;y9w=Math.max(y9w,D9w);F9w=Math.max(F9w,z9w);}}if(!C9w[N9w].futureTick && (!isNaN(v9w) || !isNaN(E9w))){R0o="Rand";R0o+="om Wal";R0o+="k Low ";C9w[N9w]["Random Walk High " + x9w.name]=y9w;C9w[N9w][R0o + x9w.name]=F9w;}}};k9w.Studies.studyLibrary=k9w.extend(k9w.Studies.studyLibrary,{"Random Walk":{name:F0o,calculateFN:k9w.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};Z4H=Y9w=>{var g0o,H9w,Y0o;g0o="un";g0o+="defined";H9w=typeof _CIQ !== g0o?_CIQ:Y9w.CIQ;if(!H9w.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {Y0o="Rel";Y0o+="ative Vigor I";Y0o+="ndex";H9w.Studies.calculateRelativeVigor=function(h9w,V9w){var M0S=O7dd;var W0o,x0o,z0o,e0o,P0o,L9w,a9w,i9w,e9w,P9w,N0o,c0o,G0o,X9w,B9w,u9w;W0o="R";W0o+="el";W0o+=" Vig ";x0o="_";x0o+="Denom";z0o="_Ra";z0o+="nge ";e0o="_";e0o+="Numer";P0o="tri";P0o+="a";P0o+="ng";M0S.J9S();P0o+="ular";L9w=V9w.chart.scrubbed;if(L9w.length < V9w.days + 1){V9w.error=!0;return;}for(a9w=V9w.startFrom;a9w < L9w.length;a9w++){i9w=L9w[a9w];if(!isNaN(i9w.Close) && !isNaN(i9w.Open)){i9w["_Change " + V9w.name]=i9w.Close - i9w.Open;}if(!isNaN(i9w.High) && !isNaN(i9w.Low)){i9w["_Range " + V9w.name]=i9w.High - i9w.Low;}}H9w.Studies.MA(P0o,4,"_Change " + V9w.name,0,e0o,h9w,V9w);H9w.Studies.MA("triangular",4,z0o + V9w.name,0,x0o,h9w,V9w);e9w=[];P9w=[];for(a9w=Math.max(V9w.startFrom - V9w.days,0);a9w < L9w.length;a9w++){N0o="Rel V";N0o+="ig ";c0o="_D";c0o+="en";c0o+="om ";G0o="_";G0o+="Nu";G0o+="mer ";if(L9w[a9w].futureTick)break;if(L9w[a9w]["_Numer " + V9w.name] === null && L9w[a9w]["_Denom " + V9w.name] === null)continue;e9w.push(L9w[a9w][G0o + V9w.name]);P9w.push(L9w[a9w][c0o + V9w.name]);if(e9w.length > V9w.days){e9w.shift();P9w.shift();}M0S.O3m(29);X9w=M0S.F3m(818137792,"0");B9w=0;for(u9w=0;u9w < e9w.length;u9w++){X9w+=e9w[u9w];}for(u9w=+"0";u9w < P9w.length;u9w++){B9w+=P9w[u9w];}if(B9w === +"0"){B9w=0.00000001;}if(a9w < V9w.startFrom)continue;M0S.c3m(10);L9w[a9w][N0o + V9w.name]=M0S.F3m(X9w,B9w);}H9w.Studies.MA("triangular",4,W0o + V9w.name,0,"RelVigSignal",h9w,V9w);for(a9w=V9w.startFrom;a9w < L9w.length;a9w++){L9w[a9w][V9w.name + "_hist"]=L9w[a9w]["Rel Vig " + V9w.name] - L9w[a9w]["RelVigSignal " + V9w.name];}V9w.outputMap[V9w.name + "_hist"]="";};H9w.Studies.studyLibrary=H9w.extend(H9w.Studies.studyLibrary,{"Rel Vig":{name:Y0o,seriesFN:H9w.Studies.displayHistogramWithSeries,calculateFN:H9w.Studies.calculateRelativeVigor,inputs:{Period:"10" & 2147483647},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};t4H=w9w=>{var L2P,v2P,p2P,p9w,o0o,C0o,A0o;L2P=-1999555649;v2P=-832530276;p2P=2;for(var O2P=1;O7dd.P6y(O2P.toString(),O2P.toString().length,+"97253") !== L2P;O2P++){p9w=-_CIQ == ""?_CIQ:w9w.CIQ;p2P+=2;}if(O7dd.P6y(p2P.toString(),p2P.toString().length,27059) !== v2P){p9w=-_CIQ == ""?_CIQ:w9w.CIQ;}p9w=typeof _CIQ !== "undefined"?_CIQ:w9w.CIQ;if(!p9w.Studies){o0o="rsi feature requi";o0o+="res first activa";o0o+="ting stud";o0o+="ies feature.";console.error(o0o);}else {C0o="a";C0o+="u";C0o+="t";C0o+="o";A0o="0";A0o+=" t";A0o+="o ";A0o+="100";p9w.Studies.calculateRSI=function(t4w,J9w){var y0S=O7dd;var a0o,j4w,n9w,H0o,K4w,d4w,b4w,O4w,S9w,I9w;a0o="R";y0S.i9S();a0o+="S";a0o+="I";function Z4w(c4w,R4w){var M4w;if(R4w === 0){y0S.c3m(6);return y0S.i3m("100",1);}y0S.O3m(10);M4w=y0S.i3m(c4w,R4w);y0S.c3m(151);return y0S.F3m(1,M4w,100,100);}j4w=J9w.chart.scrubbed;n9w=J9w.inputs.Field;if(!n9w || n9w == "field"){n9w="Close";}if(j4w.length < J9w.days + 1){J9w.error=! !"1";return;}for(var f9w=J9w.startFrom;f9w < j4w.length;f9w++){H0o="_avgL";H0o+=" ";if(!f9w)continue;K4w=j4w[f9w];y0S.c3m(4);d4w=j4w[y0S.F3m(f9w,1)];if(!K4w[n9w] && K4w[n9w] !== 0)continue;if(!d4w[n9w] && d4w[n9w] !== 0)continue;b4w=K4w[n9w] - d4w[n9w];O4w=Math.min(f9w,J9w.days);S9w=d4w["_avgG " + J9w.name];if(!S9w){S9w=0;}y0S.c3m(10);S9w-=y0S.i3m(S9w,O4w);I9w=d4w["_avgL " + J9w.name];if(!I9w){I9w=0;}y0S.O3m(10);I9w-=y0S.i3m(I9w,O4w);if(b4w > 0){y0S.c3m(10);S9w+=y0S.F3m(b4w,O4w);}else if(b4w <= +"0"){y0S.c3m(10);I9w-=y0S.F3m(b4w,O4w);}else continue;if(f9w >= J9w.days){if((S9w || S9w !== 0) && (I9w || I9w !== 0)){K4w["RSI " + J9w.name]=Z4w(S9w,I9w);}}K4w["_avgG " + J9w.name]=S9w;K4w[H0o + J9w.name]=I9w;}J9w.zoneOutput=a0o;};p9w.Studies.studyLibrary=p9w.extend(p9w.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:p9w.Studies.calculateRSI,range:A0o,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:C0o}}}});}};R4H=G4w=>{var s4w,s0o,y0o,V0o,d0o;O7dd.i9S();s4w=typeof _CIQ !== "undefined"?_CIQ:G4w.CIQ;if(!s4w.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {s0o="a";s0o+="u";s0o+="t";s0o+="o";y0o="e";y0o+="m";y0o+="a";V0o="fiel";V0o+="d";d0o="Schaff Tren";d0o+="d Cycle";s4w.Studies.calculateSchaff=function(v4w,q4w){var K0o,Q0o,B0o,n0o,T4w,r4w,A4w,k4w,g4w,Q4w,N4w,C4w,r0o,m4w,U4w,x4w,h0o,y4w,o4w,F4w,f0o;K0o="Moving ";K0o+="Av";K0o+="erage Type";Q0o="_MACD";function E4w(V4w,Y4w,a4w){var g5S=O7dd;var z4w,l4w,D4w;z4w=null;l4w=null;g5S.i9S();for(var H4w=Y4w - V4w + 1;H4w <= Y4w;H4w++){g5S.c3m(4);var D28=g5S.i3m(1063,3);g5S.c3m(33);var J78=g5S.i3m(19,7319,18,52);g5S.c3m(2);var M78=g5S.i3m(4927,13);g5S.c3m(48);var q78=g5S.F3m(20,8359,439);D4w=T4w[H4w][a4w + (("1140" | D28,J78) >= (M78,q78)?" ":(508.56,"n")) + q4w.name];if(!D4w)continue;z4w=z4w === null?D4w:Math.min(z4w,D4w);l4w=l4w === null?D4w:Math.max(l4w,D4w);}return [z4w,l4w];}Q0o+="1";O7dd.J9S();B0o="fiel";B0o+="d";n0o="Shor";n0o+="t ";n0o+="Cycle";T4w=q4w.chart.scrubbed;r4w=q4w.days;A4w=Number(q4w.inputs[n0o]);k4w=Number(q4w.inputs["Long Cycle"]);if(T4w.length < Math.max(r4w,A4w,k4w) + 1){q4w.error=! !"1";return;}g4w=q4w.inputs.Field;if(!g4w || g4w == B0o){g4w="Close";}Q4w=0.5;s4w.Studies.MA(q4w.inputs["Moving Average Type"],A4w,g4w,0,Q0o,v4w,q4w);s4w.Studies.MA(q4w.inputs[K0o],k4w,g4w,0,"_MACD2",v4w,q4w);N4w=0;C4w=0;for(var W4w=q4w.startFrom;W4w < T4w.length;W4w++){r0o="_M";r0o+="A";r0o+="CD";m4w=T4w[W4w];if(W4w < k4w - 1)continue;U4w=m4w["_MACD1 " + q4w.name];x4w=m4w["_MACD2 " + q4w.name];if(U4w || U4w === 0 || x4w || x4w === 0){h0o="_MA";h0o+="C";h0o+="D";h0o+=" ";O7dd.O3m(4);m4w[h0o + q4w.name]=O7dd.F3m(U4w,x4w);}y4w=m4w["_MACD " + q4w.name];if(W4w < k4w + (r4w - +"1"))continue;o4w=E4w(r4w,W4w,r0o);N4w=o4w[1] > o4w[0]?100 * (y4w - o4w[0]) / (o4w[1] - o4w[0]):N4w;if(y4w || y4w === 0){m4w["_PF " + q4w.name]=T4w[W4w - 1]["_PF " + q4w.name]?T4w[W4w - 1]["_PF " + q4w.name] + Q4w * (N4w - T4w[W4w - 1]["_PF " + q4w.name]):N4w;}F4w=m4w["_PF " + q4w.name];if(W4w < k4w + 2 * (r4w - 1))continue;o4w=E4w(r4w,W4w,"_PF");C4w=o4w[1] > o4w[0]?("100" & 2147483647) * (F4w - o4w[+"0"]) / (o4w[1] - o4w[0]):C4w;if(F4w || F4w === 0){f0o="R";f0o+="esul";f0o+="t ";m4w["Result " + q4w.name]=T4w[W4w - 1]["Result " + q4w.name]?T4w[W4w - +"1"][f0o + q4w.name] + Q4w * (C4w - T4w[W4w - ("1" | 1)]["Result " + q4w.name]):C4w;}}};s4w.Studies.studyLibrary=s4w.extend(s4w.Studies.studyLibrary,{Schaff:{name:d0o,range:"0 to 100",calculateFN:s4w.Studies.calculateSchaff,inputs:{Period:10,Field:V0o,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":y0o},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:75,studyOverBoughtColor:s0o,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};M4H=i4w=>{var L4w,u0o,p0o,v0o;L4w=typeof _CIQ !== "undefined"?_CIQ:i4w.CIQ;O7dd.J9S();if(!L4w.Studies){u0o="shinohara feature requires first a";u0o+="ctivating studi";u0o+="es feature.";console.error(u0o);}else {p0o="#";p0o+="5F";p0o+="7CB8";v0o="Shinohara Intensi";v0o+="ty Ratio";L4w.Studies.calculateShinohara=function(h4w,P4w){var Z0S=O7dd;var e4w,B4w,S0o,L0o;e4w=P4w.chart.scrubbed;if(e4w.length < P4w.days + 1){P4w.error=!0;return;}Z0S.i9S();B4w={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(P4w.startFrom > +"1"){S0o="_a";S0o+="ccums";S0o+=" ";B4w=L4w.clone(e4w[P4w.startFrom - 1][S0o + P4w.name]);}for(var u4w=P4w.startFrom;u4w < e4w.length;u4w++){B4w.weakNum+=e4w[u4w].High - e4w[u4w].Close;B4w.weakDen+=e4w[u4w].Close - e4w[u4w].Low;if(u4w > 0){Z0S.O3m(152);var i78=Z0S.F3m(6,7,7,77,11);B4w.strongNum+=e4w[u4w].High - e4w[u4w - i78].Close;Z0S.c3m(153);var X78=Z0S.F3m(6,17,13,6,5);B4w.strongDen+=e4w[u4w - X78].Close - e4w[u4w].Low;}if(u4w >= P4w.days){L0o="W";L0o+="ea";L0o+="k";L0o+=" Ratio ";B4w.weakNum-=e4w[u4w - P4w.days].High - e4w[u4w - P4w.days].Close;B4w.weakDen-=e4w[u4w - P4w.days].Close - e4w[u4w - P4w.days].Low;Z0S.O3m(8);var E78=Z0S.F3m(81,1,20);e4w[u4w][L0o + P4w.name]=E78 * B4w.weakNum / B4w.weakDen;if(u4w > P4w.days){Z0S.c3m(2);var j78=Z0S.F3m(0,1);B4w.strongNum-=e4w[u4w - P4w.days].High - e4w[u4w - P4w.days - j78].Close;Z0S.O3m(101);var T78=Z0S.F3m(3999,20,10,0,20);B4w.strongDen-=e4w[u4w - P4w.days - T78].Close - e4w[u4w - P4w.days].Low;Z0S.c3m(2);var k78=Z0S.i3m(11,89);e4w[u4w]["Strong Ratio " + P4w.name]=k78 * B4w.strongNum / B4w.strongDen;}}e4w[u4w]["_accums " + P4w.name]=L4w.clone(B4w);}};L4w.Studies.studyLibrary=L4w.extend(L4w.Studies.studyLibrary,{Shinohara:{name:v0o,calculateFN:L4w.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":p0o}}});}};c4H=p4w=>{var X4w,c5o,G5o,x5o,z5o,e5o,P5o,g5o,F5o,R5o;X4w=typeof _CIQ !== "undefined"?_CIQ:p4w.CIQ;if(!X4w.Studies){console.error("stochastics feature requires first activating studies feature.");}else {c5o="a";c5o+="uto";G5o="#FF00";G5o+="0";G5o+="0";x5o="Stoc";x5o+="hastics";z5o="a";z5o+="ut";z5o+="o";e5o="a";e5o+="u";e5o+="t";e5o+="o";P5o="0 to";P5o+=" 10";P5o+="0";g5o="au";g5o+="t";g5o+="o";F5o="#F";F5o+="F0";F5o+="000";R5o="Stoc";R5o+="hastic Momentum ";R5o+="Index";X4w.Studies.calculateStochastics=function(d5w,w4w){var M5o,J5o,D0o,O0o,U0o,S4w,J4w,n4w,f4w,K5w,Z0o,w0o,t0o,b5w;M5o="%";M5o+="D";J5o="%";function j5w(s5w,t5w,W5w){var H5S=O7dd;var G5w,Z5w,O5w,b0o,I0o,M5w,c5w,q5w;H5S.O3m(154);G5w=H5S.i3m(W5w,s5w,"1");H5S.c3m(155);var m78=H5S.i3m(14,2,25,10);Z5w=Number.MAX_VALUE * m78;O5w=Number.MAX_VALUE;for(var R5w=G5w;R5w <= s5w;R5w++){b0o="H";b0o+="i";b0o+="g";b0o+="h";I0o="C";I0o+="los";I0o+="e";M5w=n4w[R5w][t5w == I0o?"Low":t5w];c5w=n4w[R5w][t5w == "Close"?b0o:t5w];if(!M5w && M5w !== 0)continue;if(!c5w && c5w !== "0" * 1)continue;O5w=Math.min(O5w,M5w);Z5w=Math.max(Z5w,c5w);}if(Z5w == Number.MAX_VALUE * -1 || O5w == Number.MAX_VALUE){return null;}q5w=Z5w == O5w?0:(n4w[s5w][t5w] - O5w) / (Z5w - O5w) * 100;return q5w;}J5o+="K";J5o+=" ";D0o="_";D0o+="Fast%";D0o+="K";D0o+=" ";O0o="%";O0o+="K Per";O0o+="iods";U0o="C";U0o+="lo";U0o+="se";if(!w4w.smooth){w4w.smooth=w4w.inputs.Smooth;}S4w=w4w.inputs.Field;if(!S4w || S4w == "field"){S4w=U0o;}J4w=w4w.inputs[O0o];if(!J4w){J4w=w4w.days;}n4w=w4w.chart.scrubbed;if(n4w.length < Math.max(J4w,w4w.days) + 1){w4w.error=! !{};return;}f4w=w4w.inputs["%K Smoothing Periods"];if(f4w && !w4w.inputs.Fast){w4w.smooth=! ![];}else if(w4w.smooth){f4w=3;}K5w=w4w.inputs["%D Periods"];if(!K5w){O7dd.c3m(6);K5w=O7dd.F3m("3",1);}if(w4w.outputs.Fast){Z0o="S";Z0o+="low";w0o="%";w0o+="D";w0o+=" ";t0o="Fa";t0o+="st";w4w.outputMap={};w4w.outputMap["%K " + w4w.name]=t0o;w4w.outputMap[w0o + w4w.name]=Z0o;}O7dd.J9S();for(var I4w=Math.max(J4w,w4w.startFrom);I4w < n4w.length;I4w++){b5w=j5w(I4w,S4w,J4w);if(b5w !== null){n4w[I4w]["_Fast%K " + w4w.name]=j5w(I4w,S4w,J4w);}}X4w.Studies.MA("simple",w4w.smooth?f4w:1,D0o + w4w.name,0,"%K",d5w,w4w);X4w.Studies.MA("simple",K5w,J5o + w4w.name,+"0",M5o,d5w,w4w);};X4w.Studies.calculateStochMomentum=function(r5w,o5w){var l0S=O7dd;var l5o,k5o,T5o,j5o,E5o,X5o,i5o,k5w,N5w,C5w,x5w,T5w,m5w,q5o,U5w,g5w,m5o;l5o="%D ";l5o+="Moving Average ";function y5w(E5w,v5w){var A5w,Q5w;A5w=null;Q5w=null;for(var F5w=v5w - E5w + 1;F5w <= v5w;F5w++){A5w=A5w === null?T5w[F5w].Low:Math.min(A5w,T5w[F5w].Low);Q5w=Q5w === null?T5w[F5w].High:Math.max(Q5w,T5w[F5w].High);}return [A5w,Q5w];}l5o+="Type";k5o="_";k5o+="D";k5o+="HL";k5o+="2";T5o="_";T5o+="DHL1 ";j5o="_";j5o+="DH";j5o+="L1";E5o="_";E5o+="D";E5o+="HL";E5o+=" ";X5o="_HS1";X5o+=" ";i5o="e";i5o+="xponen";i5o+="tial";k5w=Number(o5w.inputs["%K Periods"]);N5w=Number(o5w.inputs["%K Smoothing Periods"]);C5w=Number(o5w.inputs["%K Double Smoothing Periods"]);x5w=Number(o5w.inputs["%D Periods"]);T5w=o5w.chart.scrubbed;l0S.i9S();if(T5w.length < k5w + N5w + C5w - 1 || T5w.length < x5w){o5w.error=! ![];return;}for(m5w=Math.max(k5w,o5w.startFrom) - 1;m5w < T5w.length;m5w++){q5o="_";q5o+="H";q5o+=" ";U5w=T5w[m5w];g5w=y5w(k5w,m5w);l0S.O3m(4);var l78=l0S.i3m(11,9);U5w[q5o + o5w.name]=U5w.Close - (g5w[0] + g5w[+"1"]) / l78;l0S.O3m(156);var R78=l0S.i3m(16,1,1,17);U5w["_DHL " + o5w.name]=g5w[R78] - g5w[+"0"];}X4w.Studies.MA(i5o,N5w,"_H " + o5w.name,0,"_HS1",r5w,o5w);X4w.Studies.MA("exponential",C5w,X5o + o5w.name,0,"_HS2",r5w,o5w);X4w.Studies.MA("exponential",N5w,E5o + o5w.name,"0" >> 1350155776,j5o,r5w,o5w);X4w.Studies.MA("exponential",C5w,T5o + o5w.name,"0" ^ 0,k5o,r5w,o5w);for(m5w=k5w - ("1" ^ 0);m5w < T5w.length;m5w++){m5o="%K";m5o+=" ";l0S.O3m(120);var F78=l0S.i3m(11,1310,15,83);T5w[m5w][m5o + o5w.name]=T5w[m5w]["_HS2 " + o5w.name] / (0.5 * T5w[m5w]["_DHL2 " + o5w.name]) * F78;}X4w.Studies.MA(o5w.inputs[l5o],x5w,"%K " + o5w.name,"0" << 42989856,"%D",r5w,o5w);o5w.zoneOutput="%K";};X4w.Studies.studyLibrary=X4w.extend(X4w.Studies.studyLibrary,{"Stch Mtm":{name:R5o,calculateFN:X4w.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":+"3","%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":F5o},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"40" & 2147483647,studyOverBoughtColor:g5o,studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:P5o,calculateFN:X4w.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !"1"},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"80",studyOverBoughtColor:e5o,studyOverSoldValue:+"20",studyOverSoldColor:z5o}}},Stochastics:{name:x5o,range:"0 to 100",calculateFN:X4w.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":"14" | 0,Fast:! !0,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":G5o},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:c5o}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};s4H=z5w=>{var D5w,N5o,B5o;O7dd.J9S();D5w=typeof _CIQ !== "undefined"?_CIQ:z5w.CIQ;if(!D5w.Studies){N5o="supertrend feature";N5o+=" requires first activating studies feature.";console.error(N5o);}else {B5o="Sup";B5o+="er";B5o+="trend";D5w.Studies.calculateSupertrend=function(e5w,l5w){var p0S=O7dd;var Y5w,V5w,i5w,u5w,a5w,L5w,W5o,a5o,H5o,o5o,Y5o;Y5w=l5w.chart.scrubbed;if(Y5w.length < l5w.days + 1){l5w.error=! !{};return;}D5w.Studies.calculateStudyATR(e5w,l5w);for(var H5w=l5w.startFrom;H5w < Y5w.length;H5w++){V5w=Y5w[H5w];if(!V5w)continue;p0S.O3m(48);var g78=p0S.F3m(18,106,6);i5w=(V5w.High + V5w.Low) / g78;u5w=l5w.inputs.Multiplier * V5w["ATR " + l5w.name];p0S.O3m(4);a5w=p0S.i3m(i5w,u5w);p0S.O3m(2);L5w=p0S.i3m(i5w,u5w);if(H5w){W5o="_Uptr";W5o+="e";W5o+="nd";W5o+=" ";if(Y5w[H5w - 1] && Y5w[H5w - ("1" - 0)].Close && Y5w[H5w - 1].Close > Y5w[H5w - +"1"]["_Uptrend " + l5w.name] && Y5w[H5w - 1]["_Uptrend " + l5w.name] > a5w){p0S.O3m(4);a5w=Y5w[p0S.F3m(H5w,1)][W5o + l5w.name];}if(Y5w[H5w - 1] && Y5w[H5w - 1].Close && Y5w[H5w - +"1"].Close < Y5w[H5w - 1]["_Downtrend " + l5w.name] && Y5w[H5w - 1]["_Downtrend " + l5w.name] < L5w){p0S.O3m(157);L5w=Y5w[p0S.F3m(1161772096,H5w,"1")]["_Downtrend " + l5w.name];}}V5w["_Direction " + l5w.name]=+"1";if(H5w){a5o="_Upt";a5o+="rend ";H5o="_Do";H5o+="wntrend ";o5o="_";o5o+="D";o5o+="irection ";Y5o="_Di";Y5o+="rectio";Y5o+="n";Y5o+=" ";p0S.c3m(77);V5w[Y5o + l5w.name]=Y5w[p0S.F3m("1",H5w)][o5o + l5w.name];if(V5w.Close > Y5w[H5w - 1][H5o + l5w.name]){V5w["_Direction " + l5w.name]=1;}else if(V5w.Close < Y5w[H5w - ("1" - 0)][a5o + l5w.name]){p0S.c3m(15);V5w["_Direction " + l5w.name]=-p0S.i3m(2147483647,"1");}}V5w["_Uptrend " + l5w.name]=a5w;V5w["_Downtrend " + l5w.name]=L5w;V5w["Trend " + l5w.name]=V5w["_Direction " + l5w.name] > 0?a5w:L5w;if(!H5w)continue;}l5w.outputMap={};l5w.outputMap["Trend " + l5w.name]="";};D5w.Studies.displaySupertrend=function(B5w,P5w,w5w){var R0S=O7dd;var A5o,J5w,h5w,n5w,Z0w,d0w,S5w,I5w,X5w,p5w,C5o,b0w,n5o,O0w;A5o="T";A5o+="ren";A5o+="d";A5o+=" ";J5w=B5w.panels[P5w.panel];h5w=P5w.getContext(B5w);n5w=P5w.getYAxis(B5w);Z0w={skipTransform:J5w.name != P5w.chart.name,skipProjections:! ![],label:B5w.preferences.labels,yAxis:n5w,highlight:P5w.highlight};h5w.lineWidth=+"2";if(P5w.highlight){h5w.lineWidth=1.5;}d0w=A5o + P5w.name;for(var j0w=0;J5w.chart.transformFunc && n5w != J5w.chart.yAxis && j0w < w5w.length;j0w++){S5w=w5w[j0w];if(S5w && S5w.transform){S5w.transform[d0w]=J5w.chart.transformFunc(B5w,J5w.chart,S5w[d0w]);}}B5w.plotDataSegmentAsLine(d0w,J5w,Z0w,t0w);R0S.c3m(39);h5w.lineWidth=R0S.i3m(1,"1");h5w.globalAlpha=1;B5w.startClip(P5w.panel);if(!P5w.highlight && B5w.highlightedDraggable){h5w.globalAlpha*=0.3;}R0S.c3m(88);var P78=R0S.F3m(4,1460,3,375);R0S.c3m(48);var e78=R0S.i3m(16,136404,9094);R0S.c3m(23);var z78=R0S.i3m(20,10,202,0);I5w=h5w.measureText(472.53 === P78?+"614" <= (325.83,e78)?(! !"1",!{}):"n":"\u25B2").width / z78;for(X5w="0" * 1;X5w < w5w.length;X5w++){C5o="_";C5o+="Di";C5o+="rec";C5o+="tion ";if(!w5w[X5w] || !w5w[X5w - 1])continue;if(w5w[X5w - 1]["_Direction " + P5w.name] > w5w[X5w]["_Direction " + P5w.name]){p5w=D5w.Studies.determineColor(P5w.outputs.Downtrend);if(!p5w || p5w == "auto" || D5w.isTransparent(p5w)){p5w=B5w.defaultColor;}h5w.fillStyle=p5w;h5w.textBaseline="bottom";b0w=B5w.pixelFromPrice(w5w[X5w].High,J5w,n5w);for(var f5w=5;f5w <= 45;f5w+=10){if(n5w.flipped){h5w.fillText((1478,"9690" << 1257008608) === 131.25?("I",+"0x136d"):3890 >= ("243.92" * 1,477.11)?(600.04,5620) <= (+"1290",5220)?(!{},0x25f5):"\u25B2":(!"",0x221b),B5w.pixelFromBar(X5w) - I5w,b0w + f5w);}else {h5w.fillText((4385,7670) < 5780?+"632" >= (9350,316)?(968,+"5350") < (369.48,"2600" ^ 0)?! ![]:("161.59" - 0,"g"):(1.69e+3,4.83e+3):"\u25BC",B5w.pixelFromBar(X5w) - I5w,b0w - f5w);}}}else if(w5w[X5w - 1]["_Direction " + P5w.name] < w5w[X5w][C5o + P5w.name]){n5o="t";n5o+="o";n5o+="p";p5w=D5w.Studies.determineColor(P5w.outputs.Uptrend);if(!p5w || p5w == "auto" || D5w.isTransparent(p5w)){p5w=B5w.defaultColor;}h5w.fillStyle=p5w;h5w.textBaseline=n5o;O0w=B5w.pixelFromPrice(w5w[X5w].Low,J5w,n5w);for(var K0w=5;K0w <= +"45";K0w+=10){if(n5w.flipped){h5w.fillText((1460,7532) !== 3914?"\u25BC":("Q","X"),B5w.pixelFromBar(X5w) - I5w,O0w - K0w);}else {h5w.fillText(("2790" | 2210) === (7900,9200)?(8.14e+3,+"688.87"):"\u25B2",B5w.pixelFromBar(X5w) - I5w,O0w + K0w);}}}}function t0w(M0w,R0w,c0w){var m7P,l7P,R7P;if(R0w && R0w["_Direction " + P5w.name] < 0){return P5w.outputs.Downtrend;}m7P=1484369396;l7P=267398656;R7P=2;for(var g7P=1;R0S.F6y(g7P.toString(),g7P.toString().length,+"45911") !== m7P;g7P++){return P5w.outputs.Uptrend;}if(R0S.F6y(R7P.toString(),R7P.toString().length,+"81206") !== l7P){return P5w.outputs.Uptrend;}return P5w.outputs.Uptrend;}B5w.endClip();};D5w.Studies.studyLibrary=D5w.extend(D5w.Studies.studyLibrary,{Supertrend:{name:B5o,overlay:!"",seriesFN:D5w.Studies.displaySupertrend,calculateFN:D5w.Studies.calculateSupertrend,inputs:{Period:"7" ^ 0,Multiplier:+"3"},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};O7dd.J9S();G4H=G0w=>{var s0w,h5o,K5o;s0w=typeof _CIQ !== "undefined"?_CIQ:G0w.CIQ;if(!s0w.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {h5o="Swin";h5o+="g";h5o+=" In";h5o+="dex";K5o="Accu";K5o+="mul";K5o+="ative Swing Index";s0w.Studies.calculateSwingIndex=function(F0w,o0w){var A0S=O7dd;var Q5o,T0w,q0w,m0w,k0w,g0w,x0w,y0w,C0w,N0w,r0w,U0w;Q5o="Re";Q5o+="su";Q5o+="l";Q5o+="t ";T0w=o0w.inputs["Limit Move Value"];if(T0w === null || isNaN(T0w)){T0w=99999;}q0w=o0w.chart.scrubbed;m0w=0;if(o0w.startFrom > 1){m0w=q0w[o0w.startFrom - 1][Q5o + o0w.name];}for(var W0w=Math.max(1,o0w.startFrom);W0w < q0w.length;W0w++){k0w=Math.abs(q0w[W0w].High - q0w[W0w - +"1"].Close);g0w=Math.abs(q0w[W0w].Low - q0w[W0w - 1].Close);x0w=Math.abs(q0w[W0w].High - q0w[W0w].Low);y0w=Math.abs(q0w[W0w - 1].Close - q0w[W0w - 1].Open);C0w=Math.max(k0w,g0w);N0w=Math.max(x0w,C0w);A0S.c3m(86);r0w=A0S.i3m(0.25,y0w,N0w);if(N0w == k0w){A0S.O3m(158);r0w-=A0S.F3m(g0w,"0.5");}else if(N0w == g0w){A0S.c3m(6);r0w-=A0S.i3m(0.5,k0w);}A0S.O3m(106);var x78=A0S.F3m(15,730,11,5,68);A0S.c3m(159);var G78=A0S.i3m(0,20,2,11,20);A0S.O3m(115);var c78=A0S.i3m(9,20,10);U0w=x78 * (q0w[W0w].Close - q0w[W0w - +"1"].Close + 0.5 * (q0w[W0w].Close - q0w[W0w].Open) + 0.25 * (q0w[W0w - G78].Close - q0w[W0w - c78].Open)) / r0w * (C0w / T0w);if(r0w === 0 || T0w === 0){U0w=0;}if(o0w.type == "Swing"){m0w=0;}m0w+=U0w;q0w[W0w]["Result " + o0w.name]=m0w;}};s0w.Studies.studyLibrary=s0w.extend(s0w.Studies.studyLibrary,{"Acc Swing":{name:K5o,calculateFN:s0w.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:h5o,calculateFN:s0w.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};q4H=Q0w=>{var A0w,s5o,y5o,V5o;O7dd.i9S();A0w=typeof _CIQ !== "undefined"?_CIQ:Q0w.CIQ;if(!A0w.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {s5o="a";s5o+="u";s5o+="t";s5o+="o";y5o="f";y5o+="iel";y5o+="d";V5o="0 to 10";V5o+="0";A0w.Studies.calculateTrendIntensity=function(L0w,v0w){var f0S=O7dd;var d5o,f5o,r5o,z0w,l0w,H0w,Y0w,E0w,D0w,V0w,a0w;d5o="TII";d5o+=" ";function i0w(e0w,u0w){if(Math.abs(u0w) < 0.00000001){f0S.O3m(29);return f0S.i3m(642343072,"100");}f0S.O3m(136);f0S.J9S();return f0S.F3m(e0w,1,100,100,u0w);}f5o="Signal Perio";f5o+="d";r5o="_";r5o+="S";r5o+="MA";z0w=v0w.chart.scrubbed;if(z0w.length < v0w.days + 1){v0w.error=!0;return;}l0w=v0w.inputs.Field;if(!l0w || l0w == "field"){l0w="Close";}A0w.Studies.MA("ma",v0w.days,l0w,+"0",r5o,L0w,v0w);H0w=0;Y0w=0;V0w=[];a0w=Math.ceil(v0w.days / 2);for(E0w=Math.max(0,v0w.startFrom - a0w);E0w < z0w.length;E0w++){if(!z0w[E0w]["_SMA " + v0w.name] && z0w[E0w]["_SMA " + v0w.name] !== 0)continue;D0w=z0w[E0w][l0w] - z0w[E0w]["_SMA " + v0w.name];if(D0w < 0){f0S.c3m(160);Y0w+=f0S.i3m(D0w,1);}else {H0w+=D0w;}V0w.push(D0w);if(V0w.length > a0w){D0w=V0w.shift();if(D0w < 0){f0S.O3m(160);Y0w-=f0S.i3m(D0w,1);}else {H0w-=D0w;}}if(E0w < v0w.startFrom)continue;z0w[E0w]["TII " + v0w.name]=i0w(H0w,Y0w);}A0w.Studies.MA("ema",v0w.inputs[f5o],d5o + v0w.name,0,"Signal",L0w,v0w);};A0w.Studies.studyLibrary=A0w.extend(A0w.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:A0w.Studies.calculateTrendIntensity,range:V5o,inputs:{Period:14,Field:y5o,"Signal Period":"9" << 902419136},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:s5o}}}});}};W4H=B0w=>{O7dd.i9S();var P0w;P0w=typeof _CIQ !== "undefined"?_CIQ:B0w.CIQ;if(!P0w.Studies){console.error("trix feature requires first activating studies feature.");}else {P0w.Studies.calculateTRIX=function(K8w,h0w){var L0S=O7dd;var u5o,C6y,n6y,B6y,X0w,w0w,n0w,L5o,S5o,I0w,f0w,S0w;u5o="_MA";u5o+="3";u5o+=" ";C6y=1915935448;n6y=445799039;B6y=2;for(var h6y=1;L0S.F6y(h6y.toString(),h6y.toString().length,85718) !== C6y;h6y++){X0w=h0w.chart.scrubbed;B6y+=2;}if(L0S.P6y(B6y.toString(),B6y.toString().length,47018) !== n6y){X0w=h0w.chart.scrubbed;}X0w=h0w.chart.scrubbed;if(X0w.length < h0w.days + 1){h0w.error=! ![];return;}w0w=h0w.name;L0S.c3m(2);n0w=["Close",L0S.F3m("_MA1 ",w0w),L0S.F3m("_MA2 ",w0w),L0S.i3m(u5o,w0w)];for(var J0w=0;J0w < n0w.length - 1;J0w++){L5o="_";L5o+="M";L5o+="A";S5o="ex";S5o+="ponential";P0w.Studies.MA(S5o,h0w.days,n0w[J0w],0,L5o + (J0w + 1).toString(),K8w,h0w);}I0w=n0w[3];for(var p0w=Math.max(1,h0w.startFrom);p0w < X0w.length;p0w++){L0S.c3m(4);f0w=X0w[L0S.F3m(p0w,1)][I0w];if(!f0w)continue;S0w=X0w[p0w][I0w];if(S0w || S0w === 0){L0S.c3m(2);X0w[p0w][L0S.F3m("Result ",w0w)]=L0S.F3m(1,S0w,100,f0w,L0S.O3m(137));}}};P0w.Studies.studyLibrary=P0w.extend(P0w.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:P0w.Studies.calculateTRIX}});}};o4H=j8w=>{O7dd.i9S();var d8w;d8w=typeof _CIQ !== "undefined"?_CIQ:j8w.CIQ;if(!d8w.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {d8w.Studies.calculateTwiggsMoneyFlow=function(G8w,b8w){var r0S=O7dd;var Z8w,R8w,t8w,M8w,v5o,c8w,s8w,p5o;Z8w=b8w.chart.scrubbed;if(Z8w.length < b8w.days){b8w.error=! ![];return;}R8w=0;t8w=0;r0S.O3m(115);var N78=r0S.i3m(20,39,18);M8w=Z8w[b8w.startFrom - N78];if(M8w){v5o="_sumM";v5o+="F";v5o+=" ";if(M8w["_sumMF " + b8w.name]){R8w=M8w[v5o + b8w.name];}if(M8w["_sumV " + b8w.name]){t8w=M8w["_sumV " + b8w.name];}}for(var O8w=Math.max(1,b8w.startFrom);O8w < Z8w.length;O8w++){c8w=Math.max(Z8w[O8w - 1].Close,Z8w[O8w].High);s8w=Math.min(Z8w[O8w - 1].Close,Z8w[O8w].Low);r0S.c3m(4);var W78=r0S.F3m(14,12);r0S.c3m(161);var Y78=r0S.i3m(1000017,20,25007,50000,14);Z8w[O8w]["_MFV " + b8w.name]=Z8w[O8w].Volume * (W78 * Z8w[O8w].Close - c8w - s8w) / (c8w - s8w === 0?Y78:c8w - s8w);if(O8w > b8w.days - ("1" << 631380608)){r0S.O3m(33);var o78=r0S.i3m(16,0,7,24);R8w*=(b8w.days - o78) / b8w.days;r0S.c3m(8);var H78=r0S.i3m(0,8,9);t8w*=(b8w.days - H78) / b8w.days;}R8w+=Z8w[O8w]["_MFV " + b8w.name];t8w+=Z8w[O8w].Volume;if(O8w > b8w.days - 1){p5o="Resul";p5o+="t ";if(t8w){r0S.O3m(10);Z8w[O8w][p5o + b8w.name]=r0S.F3m(R8w,t8w > 0?t8w:+"999999");}}Z8w[O8w]["_sumMF " + b8w.name]=R8w;Z8w[O8w]["_sumV " + b8w.name]=t8w;}};d8w.Studies.studyLibrary=d8w.extend(d8w.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:d8w.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};T4H=W8w=>{var q8w,U5o;q8w=typeof _CIQ !== "undefined"?_CIQ:W8w.CIQ;if(!q8w.Studies){U5o="typicalPrice fe";U5o+="ature req";U5o+="uires first activating studies feature.";console.error(U5o);}else if(!q8w.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {q8w.Studies.studyLibrary=q8w.extend(q8w.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:q8w.Studies.calculateTypicalPrice,inputs:{Period:+"14"}},"Weighted Close":{name:"Weighted Close",calculateFN:q8w.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};m4H=T8w=>{var o8w;o8w=typeof _CIQ !== "undefined"?_CIQ:T8w.CIQ;if(!o8w.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {o8w.Studies.calculateUlcerIndex=function(C8w,m8w){var I5o,O5o,k8w,g8w,r8w,N8w;I5o="Clo";I5o+="s";I5o+="e";O5o="f";O5o+="i";O5o+="el";function U8w(Q8w,F8w,A8w){O7dd.J9S();var y8w;y8w=null;for(var x8w=F8w - Q8w + 1;x8w <= F8w;x8w++){if(x8w < +"0")continue;y8w=y8w === null?k8w[x8w][A8w]:Math.max(y8w,k8w[x8w][A8w]);}return y8w;}O5o+="d";k8w=m8w.chart.scrubbed;O7dd.J9S();if(k8w.length < 2 * m8w.days - 1){m8w.error=! !{};return;}g8w=m8w.inputs.Field;if(!g8w || g8w == O5o){g8w=I5o;}for(r8w=Math.max(m8w.startFrom,m8w.days - 1);r8w < k8w.length;r8w++){k8w[r8w]["_PD2 " + m8w.name]=Math.pow(("100" ^ 0) * (k8w[r8w][g8w] / U8w(m8w.days,r8w,g8w) - 1),2);}o8w.Studies.MA("simple",m8w.days,"_PD2 " + m8w.name,"0" * 1,"_MA",C8w,m8w);for(r8w=Math.max(m8w.startFrom,2 * (m8w.days - +"1"));r8w < k8w.length;r8w++){N8w=k8w[r8w]["_MA " + m8w.name];if(N8w || N8w === 0){k8w[r8w]["Result " + m8w.name]=Math.sqrt(N8w);}}};o8w.Studies.studyLibrary=o8w.extend(o8w.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:o8w.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};r4H=E8w=>{var v8w;v8w=typeof _CIQ !== "undefined"?_CIQ:E8w.CIQ;O7dd.i9S();if(!v8w.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {v8w.Studies.calculateUltimateOscillator=function(S8w,z8w){var T0S=O7dd;var D8w,H8w,L8w,i8w,u8w,e8w,V8w,a8w,b5o,P8w,h8w,X8w,B8w,p8w,w8w,J8w,n8w;D8w=z8w.chart.scrubbed;H8w=[z8w.inputs["Cycle 1"],z8w.inputs["Cycle 2"],z8w.inputs["Cycle 3"]];L8w=Math.max(H8w["0" * 1],H8w[1],H8w[2]);if(D8w.length < L8w + 1){z8w.error=!0;return;}T0S.O3m(102);var a78=T0S.i3m(573300620,19,7,1);T0S.O3m(4);var A78=T0S.i3m(5,4);i8w=H8w["0" << a78] * H8w[A78];T0S.c3m(2);var C78=T0S.F3m(0,2);u8w=H8w[0] * H8w[C78];T0S.O3m(162);var n78=T0S.F3m(16,11,1,406,15);T0S.O3m(115);var B78=T0S.F3m(13,19,4);e8w=H8w[n78] * H8w[B78];T0S.c3m(41);V8w=[0,0,T0S.i3m(0,"0")];T0S.c3m(15);a8w=[0,0,T0S.F3m(2147483647,"0")];if(z8w.startFrom){if(D8w[z8w.startFrom - 1]["_accbp " + z8w.name]){V8w=D8w[z8w.startFrom - 1]["_accbp " + z8w.name].slice();}if(D8w[z8w.startFrom - 1]["_acctr " + z8w.name]){a8w=D8w[z8w.startFrom - 1]["_acctr " + z8w.name].slice();}}for(var l8w=Math.max("1" >> 86496864,z8w.startFrom);l8w < D8w.length;l8w++){b5o="_";b5o+="accbp ";P8w=Math.min(D8w[l8w].Low,D8w[l8w - 1].Close);h8w=D8w[l8w].Close - P8w;T0S.c3m(33);var Q78=T0S.F3m(14,0,10,25);X8w=Math.max(D8w[l8w].High,D8w[l8w - Q78].Close) - P8w;for(var Y8w=0;Y8w < H8w.length;Y8w++){V8w[Y8w]+=h8w;a8w[Y8w]+=X8w;if(l8w > H8w[Y8w]){B8w=Math.min(D8w[l8w - H8w[Y8w]].Low,D8w[l8w - H8w[Y8w] - 1].Close);p8w=D8w[l8w - H8w[Y8w]].Close - B8w;T0S.O3m(4);var K78=T0S.i3m(2,1);w8w=Math.max(D8w[l8w - H8w[Y8w]].High,D8w[l8w - H8w[Y8w] - K78].Close) - B8w;V8w[Y8w]-=p8w;a8w[Y8w]-=w8w;}}D8w[l8w][b5o + z8w.name]=V8w.slice();D8w[l8w]["_acctr " + z8w.name]=a8w.slice();if(l8w < L8w)continue;T0S.O3m(124);var h78=T0S.F3m(12,13,17,17);T0S.O3m(4);var r78=T0S.i3m(13,12);T0S.O3m(163);var f78=T0S.i3m(8,15,64,5,14);T0S.c3m(152);var d78=T0S.F3m(4,6,3,42,14);J8w=e8w * V8w[0] / a8w[0] + u8w * V8w[h78] / a8w[r78] + i8w * V8w[f78] / a8w[d78];T0S.c3m(85);n8w=T0S.F3m(u8w,e8w,i8w);T0S.c3m(111);D8w[l8w]["Result " + z8w.name]=T0S.i3m(n8w,"100",J8w);}};v8w.Studies.studyLibrary=v8w.extend(v8w.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:v8w.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":"28" >> 1144673920},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};k4H=f8w=>{O7dd.J9S();var I8w,i6o,q6o;I8w=typeof _CIQ !== "undefined"?_CIQ:f8w.CIQ;if(!I8w.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {i6o="#8";i6o+="5c";i6o+="99e";q6o="f";q6o+="ield";I8w.Studies.calculateValuationLines=function(t6w,K6w,M6w){var u0S=O7dd;var t5o,W6w,m6w,o6w,c6w,s6w,G6w,q6w,d6w,j6w,b6w,Z6w,R6w,T6w;t5o="Displ";t5o+="ay 3 Standard Deviation (3\u03C3)";W6w=K6w.inputs.Field == "field"?"Close":K6w.inputs.Field;m6w=K6w.inputs["Average Type"];o6w=K6w.inputs["Display Average"];c6w=K6w.inputs["Display 1 Standard Deviation (1\u03C3)"];s6w=K6w.inputs["Display 2 Standard Deviation (2\u03C3)"];G6w=K6w.inputs[t5o];q6w=[];for(var O6w=0;O6w < M6w.length;++O6w){if(M6w[O6w] && !isNaN(M6w[O6w][W6w])){q6w.push(M6w[O6w][W6w]);}}d6w=(function(C6w,y6w){var r6w,g6w,N6w,k6w,U6w,x6w;r6w=C6w.length;u0S.c3m(4);g6w=u0S.F3m("0",0);N6w=0;k6w=0;switch(y6w){case "mean":N6w=r6w;for(;k6w < r6w;++k6w){g6w+=C6w[k6w];}break;case "harmonic":g6w=r6w;for(;k6w < r6w;++k6w){u0S.c3m(164);var V78=u0S.i3m(8,2,16,3,5);N6w+=V78 / C6w[k6w];}break;case "median":u0S.O3m(10);U6w=Math.floor(u0S.F3m(r6w,2));x6w=C6w.slice().sort(function(F6w,A6w){if(F6w > A6w){return 1;}if(F6w < A6w){return -1;}return 0;});if(r6w % +"2" === 0){u0S.O3m(56);var y78=u0S.i3m(10,81,8);g6w=x6w[U6w] + x6w[U6w - y78];N6w=2;}else {g6w=x6w[U6w];N6w=1;}break;}u0S.c3m(10);u0S.i9S();return u0S.F3m(g6w,N6w);})(q6w,m6w);j6w=!(c6w || s6w || G6w) || (function(D6w,z6w){var v6w,E6w;v6w=D6w.length;E6w=0;u0S.i9S();for(var Q6w=0;Q6w < v6w;++Q6w){E6w+=Math.pow(D6w[Q6w] - z6w,2);}u0S.c3m(10);return Math.sqrt(u0S.F3m(E6w,v6w));})(q6w,d6w);K6w.data={Average:o6w?[d6w]:null,"1 Standard Deviation (1\u03C3)":c6w?[d6w + j6w,d6w - j6w]:null,"2 Standard Deviation (2\u03C3)":s6w?[d6w + j6w * ("2" | 0),d6w - j6w * 2]:null,"3 Standard Deviation (3\u03C3)":G6w?[d6w + j6w * ("3" | 2),d6w - j6w * 3]:null};b6w=j6w;if(!K6w.parameters){K6w.parameters={};}if(G6w){u0S.O3m(165);K6w.parameters.range=[u0S.F3m(j6w,d6w,3,b6w),u0S.i3m(b6w,d6w,3,j6w,u0S.O3m(166))];}else if(s6w){u0S.O3m(167);K6w.parameters.range=[u0S.i3m(d6w,b6w,"2",j6w),u0S.i3m(b6w,d6w,2,j6w,u0S.c3m(166))];}else if(c6w){u0S.c3m(12);K6w.parameters.range=[u0S.i3m(b6w,j6w,d6w),u0S.i3m(j6w,d6w,b6w,u0S.c3m(85))];}else if(o6w){u0S.c3m(4);K6w.parameters.range=[u0S.i3m(d6w,b6w),u0S.F3m(d6w,b6w,u0S.O3m(2))];}u0S.J9S();if(K6w.panel){Z6w=t6w.panels[K6w.panel];R6w=t6w.getYAxisByName(Z6w,K6w.name);if(R6w){R6w.decimalPlaces=Z6w.chart.yAxis.printDecimalPlaces;T6w={yAxis:R6w};t6w.calculateYAxisRange(Z6w,R6w,K6w.parameters.range[0],K6w.parameters.range[1]);t6w.createYAxis(Z6w,T6w);t6w.drawYAxis(Z6w,T6w);}}};I8w.Studies.displayValuationLines=function(H6w,V6w){var S0S=O7dd;var Z5o,w5o,l6w,a6w,i6w,P6w,K1y,d1y,j1y,u6w,e6w,B6w,p6w,w6w,J6w,n6w,h6w,X6w,Y6w,S6w,b1y,I6w,M6o,J6o,D5o,f6w;Z5o="H";Z5o+="A";Z5o+="V";Z5o+="G";w5o="M";w5o+="ED";l6w=H6w.panels[V6w.panel];a6w=V6w.getYAxis(H6w);i6w=V6w.getContext(H6w);P6w=V6w.data;K1y=V6w.parameters.labels;d1y=V6w.inputs["Average Type"];j1y={mean:"AVG",median:w5o,harmonic:Z5o};u6w=H6w.canvasStyle("ciq-valuation-average-line");e6w=H6w.canvasStyle("ciq-valuation-deviation-line");B6w=3;p6w=H6w.getCanvasFontSize("stx_yaxis") + B6w * +"2";for(var L6w in P6w){if(!P6w[L6w])continue;S0S.O3m(168);w6w=S0S.F3m("Average",L6w);J6w=I8w.Studies.determineColor(V6w.outputs[L6w]);n6w=P6w[L6w];for(h6w=0;h6w < n6w.length;++h6w){M6o="le";M6o+="f";M6o+="t";J6o="l";J6o+="i";J6o+="ne";D5o="s";D5o+="o";D5o+="li";D5o+="d";X6w=n6w[h6w];Y6w=H6w.pixelFromPrice(X6w,l6w,a6w);if(Y6w <= l6w.top || Y6w >= l6w.yAxis.bottom)continue;I6w=w6w?{pattern:u6w.borderStyle != "none"?u6w.borderStyle || "solid":D5o,lineWidth:parseFloat(u6w.borderWidth) || +"1",opacity:parseFloat(u6w.opacity) || +"1",yAxis:a6w}:{pattern:e6w.borderStyle != "none"?e6w.borderStyle || "dashed":"dashed",lineWidth:parseFloat(e6w.borderWidth) || 1,opacity:parseFloat(e6w.opacity) || 1,yAxis:a6w};H6w.plotLine(l6w.left,l6w.right,Y6w,Y6w,J6w,J6o,i6w,l6w,I6w);if(K1y === "yaxis"){H6w.createYAxisLabel(l6w,H6w.formatYAxisPrice(X6w,l6w),Y6w,J6w,null,i6w,a6w);continue;}Y6w+=Math.floor(I6w.lineWidth / +"2");if(Y6w + p6w >= l6w.yAxis.bottom)continue;S6w=(w6w?j1y[d1y] + ": ":L6w[0] + "\u03C3: ") + H6w.formatYAxisPrice(X6w,l6w);b1y=i6w.measureText(S6w).width;f6w=l6w.right - b1y - B6w;if(a6w && a6w.position == M6o){f6w=l6w.left + B6w;}S0S.O3m(169);i6w.strokeText(S6w,f6w,S0S.F3m(p6w,Y6w,0.5,"2"));}}};I8w.Studies.studyLibrary=I8w.extend(I8w.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(O1y,Z1y,t1y){I8w.Studies.calculateValuationLines(O1y,Z1y,t1y);I8w.Studies.displayValuationLines(O1y,Z1y);},overlay:! !"1",yAxisFN:function(){},inputs:{Field:q6o,"Average Type":["mean","median","harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":! !"","Display 3 Standard Deviation (3\u03C3)":! !0},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":i6o,"3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};g4H=M1y=>{var R1y,N6o,c6o,G6o;R1y=typeof _CIQ !== "undefined"?_CIQ:M1y.CIQ;if(!R1y.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {N6o="au";N6o+="t";N6o+="o";c6o="R";c6o+="elative";c6o+=" Volatility";G6o="Historical Volatil";G6o+="ity";R1y.Studies.calculateRelativeVolatility=function(k1y,c1y){var g0S=O7dd;var F6o,j6o,E6o,X6o,r1y,o1y,s1y,q1y,W1y,T6o,R6o,m6o,k6o,G1y,m1y,l6o;F6o="R";F6o+="el";F6o+=" Vol";j6o="m";j6o+="a";E6o="s";E6o+="d";E6o+="ev";X6o="ST";function g1y(N1y,C1y){g0S.i9S();if(N1y + C1y === 0){return +"100";}g0S.O3m(132);return g0S.F3m(N1y,N1y,C1y,100);}X6o+="D Perio";X6o+="d";c1y.days=Number(c1y.inputs["Smoothing Period"]);r1y=Number(c1y.inputs[X6o]);o1y=c1y.chart.scrubbed;if(o1y.length < c1y.days + r1y){c1y.error=! !1;return;}s1y=c1y.inputs.Field;if(!s1y || s1y == "field"){s1y="Close";}c1y.std=new R1y.Studies.StudyDescriptor(c1y.name,E6o,c1y.panel);c1y.std.chart=c1y.chart;c1y.std.days=r1y;c1y.std.startFrom=c1y.startFrom;c1y.std.inputs={Field:s1y,"Standard Deviations":1,Type:j6o};c1y.std.outputs={_STD:null};R1y.Studies.calculateStandardDeviation(k1y,c1y.std);g0S.J9S();q1y=0;W1y=0;if(c1y.startFrom > 1){T6o="_a";T6o+="vgL ";q1y=o1y[c1y.startFrom - 1]["_avgG " + c1y.name] || 0;W1y=o1y[c1y.startFrom - 1][T6o + c1y.name] || "0" * 1;}for(var T1y=Math.max(c1y.startFrom,c1y.days);T1y < o1y.length;T1y++){R6o="_a";R6o+="v";R6o+="gG";R6o+=" ";m6o="_S";m6o+="T";m6o+="D";m6o+=" ";k6o="_ST";k6o+="D ";G1y=o1y[T1y];g0S.c3m(4);m1y=o1y[g0S.F3m(T1y,1)];if(!G1y[s1y] && G1y[s1y] !== 0)continue;if(!m1y[s1y] && m1y[s1y] !== 0)continue;if(!G1y[k6o + c1y.name] && G1y[m6o + c1y.name] !== 0)continue;if(G1y[s1y] > m1y[s1y]){g0S.c3m(109);var s78=g0S.F3m(15,8,7,13,15);q1y=(q1y * (c1y.days - s78) + G1y["_STD " + c1y.name]) / c1y.days;g0S.c3m(23);var u78=g0S.i3m(15,14,211,0);W1y=W1y * (c1y.days - u78) / c1y.days;}else {l6o="_ST";l6o+="D";l6o+=" ";g0S.c3m(72);var S78=g0S.F3m(0,1,4,65,16);W1y=(W1y * (c1y.days - S78) + G1y[l6o + c1y.name]) / c1y.days;g0S.c3m(12);var L78=g0S.F3m(6,8,15);q1y=q1y * (c1y.days - L78) / c1y.days;}G1y["Rel Vol " + c1y.name]=g1y(q1y,W1y);G1y[R6o + c1y.name]=q1y;G1y["_avgL " + c1y.name]=W1y;}c1y.zoneOutput=F6o;};R1y.Studies.calculateHistoricalVolatility=function(D1y,U1y){var H0S=O7dd;var P6o,x1y,Q1y,v1y,Y1y,A1y,y1y,e6o,r4y,f4y,d4y,z6o,z1y,l1y,x6o,H1y;P6o="f";P6o+="ie";P6o+="ld";x1y=U1y.chart.scrubbed;H0S.i9S();if(x1y.length < U1y.days + +"1"){U1y.error=! !1;return;}Q1y=U1y.inputs.Field;if(!Q1y || Q1y == P6o){Q1y="Close";}v1y=U1y.inputs["Standard Deviations"];if(v1y < +"0"){v1y=1;}H0S.c3m(5);var v78=H0S.F3m(91,4,17,12);Y1y=v78 * Math.sqrt(V1y(U1y.inputs["Days Per Year"])) * v1y;A1y=[];y1y=0;if(U1y.startFrom > 1){e6o="_";e6o+="sta";e6o+="te ";H0S.O3m(59);var p78=H0S.i3m(3,18,20,362,0);y1y=x1y[U1y.startFrom - p78][e6o + U1y.name][0];r4y=1807082566;f4y=1472046719;d4y=2;for(var y4y=1;H0S.F6y(y4y.toString(),y4y.toString().length,29585) !== r4y;y4y++){A1y=x1y[U1y.startFrom % 7]["" % U1y.name][2].slice();d4y+=2;}if(H0S.F6y(d4y.toString(),d4y.toString().length,39668) !== f4y){z6o="_state";z6o+=" ";A1y=x1y[U1y.startFrom - 1][z6o + U1y.name][1].slice();}}for(var F1y=Math.max(+"1",U1y.startFrom);F1y < x1y.length;F1y++){H0S.O3m(4);z1y=x1y[H0S.F3m(F1y,1)][Q1y];if(z1y){l1y=Math.log(x1y[F1y][Q1y] / z1y);A1y.push(l1y);y1y+=l1y;if(F1y >= U1y.days){x6o="R";x6o+="e";x6o+="sult ";H1y=0;y1y/=U1y.days;for(var E1y=0;E1y < A1y.length;E1y++){H1y+=Math.pow(A1y[E1y] - y1y,2);}y1y*=U1y.days;y1y-=A1y.shift();x1y[F1y][x6o + U1y.name]=Math.sqrt(H1y / U1y.days) * Y1y;}}x1y[F1y]["_state " + U1y.name]=[y1y,A1y.slice()];}function V1y(a1y){var g6o;g6o="d";g6o+="a";g6o+="y";if(isNaN(a1y)){a1y=365;}if(D1y.layout.interval == g6o){return a1y;}else if(D1y.layout.interval == "week"){return 52;}else if(D1y.layout.interval == "month"){return 12;}return a1y;}};R1y.Studies.studyLibrary=R1y.extend(R1y.Studies.studyLibrary,{"Hist Vol":{name:G6o,calculateFN:R1y.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:c6o,range:"0 to 100",calculateFN:R1y.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":+"10","Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:"50" & 2147483647,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"70" & 2147483647,studyOverBoughtColor:N6o,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};N4H=i1y=>{var L1y,W6o,A6o;L1y=typeof _CIQ !== "undefined"?_CIQ:i1y.CIQ;if(!L1y.Studies){W6o="volumeProfile feature requires first acti";W6o+="vating studies feature.";console.error(W6o);}else {A6o="#b";A6o+="6";A6o+="4a96";L1y.Studies.displayVolumeProfile=function(P1y,X1y,G3y){var a6o,H6o,h1y,w1y,S1y,K3y,d3y,R3y,e1y,Y6o,I1y,B1y,q3y,f1y,n1y,o6o,u1y,M3y,c3y,O3y,Z3y,p1y,W3y,s3y,o3y,t3y;a6o="s";a6o+="tx_volu";a6o+="me_profile";H6o="stx_volume_profi";H6o+="le";if(!P1y || !P1y.chart.dataSet){return;}h1y=P1y.chart;w1y=X1y.parameters.numberOfBars;S1y=X1y.parameters.widthPercentage;K3y=X1y.parameters.displayBorder;d3y=X1y.parameters.displayVolume;if(!w1y || w1y < 0){w1y=30;}w1y=Math.ceil(w1y);if(!S1y || S1y < +"0"){S1y=0.25;}if(K3y !== !{}){K3y=! !{};}if(d3y !== ! ![]){d3y=!1;}R3y=(h1y.highValue - h1y.lowValue) / w1y;if(R3y === 0){return;}e1y=[];for(var j3y=h1y.lowValue;j3y < h1y.highValue + 0.1;j3y+=R3y){e1y.push([j3y,0]);}if(e1y.length < 2){Y6o="Not enough data to ren";Y6o+="der the V";Y6o+="olume Profile";P1y.displayErrorAsWatermark("chart",P1y.translateIf(Y6o));return;}I1y=0;for(var b3y=+"0";b3y < G3y.length;b3y++){B1y=G3y[b3y];if(!B1y)continue;q3y=B1y.Volume;if(X1y.panel == h1y.name && B1y.transform){B1y=B1y.transform;}f1y=e1y[0][0];n1y=0;for(var J1y=1;J1y < e1y.length;J1y++){n1y=e1y[J1y][0];if(B1y.Low >= f1y && B1y.Low <= n1y || B1y.Low < f1y && B1y.High > n1y || B1y.High >= f1y && B1y.High <= n1y){e1y[J1y][1]+=q3y;if(e1y[J1y][1] > I1y){I1y=e1y[J1y][1];}}f1y=n1y;}}if(I1y === 0){o6o="c";o6o+="hart";P1y.displayErrorAsWatermark(o6o,P1y.translateIf("Not enough data to render the Volume Profile"));return;}P1y.setStyle("stx_volume_profile","color",L1y.Studies.determineColor(X1y.outputs["Bars Color"]));u1y=X1y.getContext(P1y);M3y="stx-float-date";P1y.canvasFont(M3y,u1y);c3y=P1y.getCanvasFontSize(M3y);O3y=h1y.panel;function T3y(Q3y,N3y){var z5S=O7dd;z5S.i9S();var U3y,C3y,k3y,r3y,g3y,x3y,y3y,F3y,A3y;if(!N3y){p1y-=2;}t3y.canvasColor(Q3y);u1y.beginPath();U3y=e1y[0][0];C3y=p1y;for(var m3y=1;m3y < e1y.length;m3y++){if(e1y[m3y][1]){z5S.O3m(8);var U78=z5S.i3m(0,17,18);k3y=Math.round(p1y - e1y[m3y][U78] * W3y / I1y) - 0.5;r3y=Math.round(t3y.pixelFromTransformedValue(U3y,O3y)) + ("0.5" - 0);g3y=Math.round(t3y.pixelFromTransformedValue(e1y[m3y][0],O3y)) + 0.5;if(!N3y){z5S.c3m(6);r3y-=z5S.i3m("0.5",1);g3y+=0.5;k3y+=+"0.5";}if(r3y > Z3y){r3y=Z3y;}if(g3y < Z3y){u1y.moveTo(p1y,r3y);u1y.lineTo(p1y,g3y);u1y.lineTo(k3y,g3y);u1y.lineTo(k3y,r3y);if(N3y){if(C3y > k3y || m3y == 1){u1y.lineTo(C3y,r3y);};}else {u1y.lineTo(p1y,r3y);if(d3y){x3y=L1y.condenseInt(e1y[m3y][+"1"]);z5S.c3m(4);y3y=z5S.F3m(r3y,g3y);if(c3y <= y3y - +"2"){try{F3y=u1y.measureText(x3y).width;}catch(v3y){F3y=0;}u1y.textBaseline="top";A3y=u1y.fillStyle;u1y.fillStyle=s3y;z5S.c3m(12);u1y.fillText(x3y,z5S.F3m(3,F3y,k3y),z5S.F3m(g3y,y3y,2,"2",c3y,0,z5S.c3m(170)));u1y.fillStyle=A3y;}}}}C3y=k3y;}else {C3y=p1y;;}U3y=e1y[m3y][0];}if(!X1y.highlight && P1y.highlightedDraggable){u1y.globalAlpha*=0.3;}if(!N3y){u1y.fill();}u1y.strokeStyle=s3y;if(N3y){u1y.stroke();}u1y.closePath();}Z3y=O3y.yAxis.bottom;p1y=Math.round(h1y.right) - +"0.5";W3y=h1y.width * S1y;O7dd.i9S();s3y=P1y.canvasStyle(H6o).borderTopColor;o3y=!L1y.isTransparent(P1y.canvasStyle(a6o).borderTopColor) && K3y;t3y=P1y;T3y("stx_volume_profile",!{});if(o3y){T3y("stx_volume_profile",!"");}u1y.globalAlpha=1;};L1y.Studies.studyLibrary=L1y.extend(L1y.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:L1y.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":A6o},customRemoval:! ![],parameters:{init:{displayBorder:! !"1",displayVolume:![],numberOfBars:30,widthPercentage:"0.25" * 1}},attributes:{yaxisDisplayValue:{hidden:! !1},panelName:{hidden:!0},flippedEnabled:{hidden:! !{}}}}});}};C4H=D3y=>{var C6o,D2P,J7P,M7P,E3y,n6o,u6o,s6o,y6o,V6o,d6o,f6o,r6o;C6o="undefin";C6o+="ed";D2P=-1420766412;J7P=996262568;M7P=2;for(var i7P="1" | 0;O7dd.F6y(i7P.toString(),i7P.toString().length,38958) !== D2P;i7P++){E3y=~_CIQ === ""?_CIQ:D3y.CIQ;M7P+=2;}if(O7dd.F6y(M7P.toString(),M7P.toString().length,22620) !== J7P){E3y=~_CIQ === ""?_CIQ:D3y.CIQ;}E3y=typeof _CIQ !== C6o?_CIQ:D3y.CIQ;if(!E3y.Studies){n6o="volumeStudies featu";n6o+="re r";n6o+="equires first activating studies feature.";console.error(n6o);}else {u6o="Volum";u6o+="e Rate of Change";s6o="Trade";s6o+=" Volume I";s6o+="ndex";y6o="Price Vol";y6o+="ume Trend";V6o="m";V6o+="a";d6o="#FF";d6o+="0000";f6o="a";f6o+="u";f6o+="t";f6o+="o";r6o="m";r6o+="a";E3y.Studies.calculateOnBalanceVolume=function(P3y,H3y){var z3y,Y3y,e3y,a3y,L3y,V3y,i3y,u3y;z3y=H3y.inputs.Field;O7dd.i9S();if(!z3y || z3y == "field"){z3y="Close";}Y3y=H3y.inputs["Min Tick Value"];e3y=! !"";if(!Y3y && Y3y !== +"0"){e3y=! !1;Y3y=0;}a3y=H3y.chart.scrubbed;L3y=0;for(var l3y=H3y.startFrom;l3y < a3y.length;l3y++){V3y=a3y[l3y];if(!l3y || !V3y[z3y])continue;if(a3y[l3y - 1][z3y]){O7dd.O3m(171);i3y=a3y[O7dd.i3m(0,l3y,"1")];}if(!i3y)continue;if(V3y[z3y] - i3y[z3y] > Y3y){L3y=+"1";}else if(i3y[z3y] - V3y[z3y] > Y3y){L3y=-1;}else if(e3y){L3y=0;}u3y=i3y["Result " + H3y.name];if(!u3y){u3y=0;}u3y+=V3y.Volume * L3y;V3y["Result " + H3y.name]=u3y;}};E3y.Studies.calculatePriceVolumeTrend=function(J3y,p3y){var x0S=O7dd;var X3y,B3y,w3y;X3y=p3y.inputs.Field;if(!X3y || X3y == "field"){X3y="Close";}B3y=p3y.chart.scrubbed;w3y=0;if(p3y.startFrom > "1" - 0){x0S.c3m(2);var O78=x0S.i3m(0,1);w3y=B3y[p3y.startFrom - O78]["Result " + p3y.name];}x0S.J9S();for(var h3y=Math.max(1,p3y.startFrom);h3y < B3y.length;h3y++){if(!B3y[h3y][X3y])continue;if(!B3y[h3y - +"1"][X3y])continue;x0S.c3m(12);var I78=x0S.F3m(3,13,17);x0S.c3m(4);var b78=x0S.F3m(16,15);w3y+=B3y[h3y].Volume * (B3y[h3y][X3y] - B3y[h3y - I78][X3y]) / B3y[h3y - b78][X3y];B3y[h3y]["Result " + p3y.name]=w3y;}};E3y.Studies.calculateVolumeIndex=function(Z7y,n3y){var e0S=O7dd;e0S.i9S();var Q6o,B6o,d7y,S3y,j7y,h6o,K6o,f3y,b7y,K7y,O7y;Q6o="Cl";Q6o+="ose";B6o="f";B6o+="i";B6o+="e";B6o+="ld";d7y=n3y.inputs.Field;if(!d7y || d7y == B6o){d7y=Q6o;}S3y=n3y.chart.scrubbed;if(S3y.length < n3y.days + 1){n3y.error=! !{};return;}j7y=100;if(n3y.startFrom > 1){j7y=S3y[n3y.startFrom - ("1" ^ 0)]["Index " + n3y.name];}for(var I3y=Math.max(1,n3y.startFrom);I3y < S3y.length;I3y++){h6o="Ne";h6o+="g ";h6o+="V";h6o+="ol";K6o="P";K6o+="os Vo";K6o+="l";f3y=S3y[I3y][d7y];b7y=S3y[I3y].Volume;if(f3y && typeof f3y == "object"){b7y=f3y.Volume;f3y=f3y[n3y.subField];}e0S.c3m(4);K7y=S3y[e0S.i3m(I3y,1)][d7y];O7y=S3y[I3y - 1].Volume;if(K7y && typeof K7y == "object"){O7y=K7y.Volume;K7y=K7y[n3y.subField];}if(!f3y)continue;if(!K7y)continue;if(n3y.type == K6o && b7y > O7y || n3y.type == h6o && b7y < O7y){e0S.c3m(10);j7y*=e0S.F3m(f3y,K7y);}S3y[I3y]["Index " + n3y.name]=j7y;}E3y.Studies.MA(n3y.inputs["Moving Average Type"],n3y.days,"Index " + n3y.name,+"0","MA",Z7y,n3y);};E3y.Studies.studyLibrary=E3y.extend(E3y.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:E3y.Studies.calculateVolumeIndex,inputs:{Period:"255" >> 1555835840,Field:"field","Moving Average Type":r6o},outputs:{Index:f6o,MA:d6o}},"On Bal Vol":{name:"On Balance Volume",calculateFN:E3y.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:E3y.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":V6o},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:y6o,calculateFN:E3y.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:s6o,calculateFN:E3y.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:u6o,calculateFN:function(t7y,R7y){var S6o;if(E3y.Studies.calculateRateOfChange){E3y.Studies.calculateRateOfChange(t7y,R7y);}else {S6o="Volume R";S6o+="ate of Change study requires first ";S6o+="activating momentum feature.";console.error(S6o);E3y.Studies.calculateRateOfChange=function(M7y,c7y){};}},parameters:{init:{isVolume:!0}}},"vol undr":{name:"Volume Underlay",underlay:!"",range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:E3y.Studies.createVolumeChart,calculateFN:E3y.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! ![],removeFN:function(s7y,G7y){var L6o;L6o="l";L6o+="ayout";s7y.layout.volumeUnderlay=!{};s7y.changeOccurred(L6o);},attributes:{panelName:{hidden:! !{}}}}});}};U4H=W7y=>{var q7y,I6o,O6o;q7y=typeof _CIQ !== "undefined"?_CIQ:W7y.CIQ;if(!q7y.Studies){console.error("vortex feature requires first activating studies feature.");}else {I6o="#00FF0";I6o+="0";O6o="Vortex Indicat";O6o+="or";q7y.Studies.calculateVortex=function(y7y,o7y){var Y0S=O7dd;var k7y,g7y,Y6y,o6y,H6y,T7y,p6o,m7y,N7y,C7y,U7y,x7y,v6o,U6o;k7y=o7y.chart.scrubbed;g7y=o7y.days;if(k7y.length < g7y + 1){o7y.error=! !{};Y6y=- +"1299833549";o6y=-915234406;H6y=2;for(var A6y=1;Y0S.F6y(A6y.toString(),A6y.toString().length,7189) !== Y6y;A6y++){return;}if(Y0S.F6y(H6y.toString(),H6y.toString().length,41416) !== o6y){return;}}T7y={tr:0,vmPlus:0,vmMinus:0};if(o7y.startFrom > 1){T7y=q7y.clone(k7y[o7y.startFrom - 1]["_totals " + o7y.name]);}for(var r7y=Math.max(o7y.startFrom,1);r7y < k7y.length;r7y++){p6o="_T";p6o+="rue Range ";m7y=k7y[r7y];Y0S.O3m(4);N7y=k7y[Y0S.i3m(r7y,1)];C7y=Math.abs(m7y.High - N7y.Low);U7y=Math.abs(m7y.Low - N7y.High);x7y=Math.max(m7y.High,N7y.Close) - Math.min(m7y.Low,N7y.Close);T7y.tr+=x7y;T7y.vmPlus+=C7y;T7y.vmMinus+=U7y;if(r7y > g7y){v6o="_";v6o+="VMMin";v6o+="u";v6o+="s ";Y0S.c3m(4);T7y.tr-=k7y[Y0S.F3m(r7y,g7y)]["_True Range " + o7y.name];Y0S.O3m(4);T7y.vmPlus-=k7y[Y0S.i3m(r7y,g7y)]["_VMPlus " + o7y.name];Y0S.c3m(4);T7y.vmMinus-=k7y[Y0S.i3m(r7y,g7y)][v6o + o7y.name];}m7y[p6o + o7y.name]=x7y;m7y["_VMPlus " + o7y.name]=C7y;m7y["_VMMinus " + o7y.name]=U7y;if(r7y >= g7y){U6o="+V";U6o+="I";U6o+=" ";m7y[U6o + o7y.name]=T7y.vmPlus / T7y.tr;m7y["-VI " + o7y.name]=T7y.vmMinus / T7y.tr;}m7y["_totals " + o7y.name]=q7y.clone(T7y);}};q7y.Studies.studyLibrary=q7y.extend(q7y.Studies.studyLibrary,{Vortex:{name:O6o,calculateFN:q7y.Studies.calculateVortex,centerline:1,outputs:{"+VI":I6o,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:"1" * 1,step:"0.01"}}}});}};x4H=A7y=>{var b6o,F7y,q9o,M9o,J9o;b6o="u";b6o+="n";b6o+="defin";b6o+="ed";F7y=typeof _CIQ !== b6o?_CIQ:A7y.CIQ;O7dd.i9S();if(!F7y.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {q9o="#";q9o+="5f7cb8";M9o="0 to ma";M9o+="x";J9o="Ma";J9o+="rket Fac";J9o+="ilitation Index";F7y.Studies.calculateMFI=function(Y7y,Q7y){var c0S=O7dd;var t6o,v7y,l7y,D7y,z7y,H7y,E7y,w6o;t6o="_hi";t6o+="gh ";v7y=Q7y.chart.scrubbed;D7y=0;z7y=Q7y.inputs["Scale Factor"];if(!z7y){z7y=Q7y.study.inputs["Scale Factor"];}c0S.O3m(4);H7y=Math.pow(c0S.i3m("10",0),Number(z7y));if(Q7y.startFrom > "1" - 0){c0S.O3m(56);var t78=c0S.F3m(9,91,10);D7y=v7y[Q7y.startFrom - t78][t6o + Q7y.name];}for(E7y=Q7y.startFrom;E7y < v7y.length;E7y++){if(!v7y[E7y])continue;if(v7y[E7y].Volume){w6o="_";w6o+="hi";w6o+="st";v7y[E7y][Q7y.name + w6o]=l7y=H7y * (v7y[E7y].High - v7y[E7y].Low) / v7y[E7y].Volume;v7y[E7y]["_high " + Q7y.name]=D7y=Math.max(D7y,l7y);}}Q7y.outputMap={};Q7y.outputMap[Q7y.name + "_hist"]="";};F7y.Studies.displayMFI=function(a7y,V7y,h7y){var t0S=O7dd;var X7y,u7y,B7y,p7y,P7y,w7y,J7y,n7y,S7y,D6o,Z6o,L7y,i7y;X7y=a7y.panels[V7y.panel];u7y=V7y.getContext(a7y);B7y=V7y.getYAxis(a7y);p7y=B7y.flipped?B7y.top:B7y.bottom;t0S.O3m(69);var w78=t0S.F3m(1,3,1);P7y=a7y.layout.candleWidth - w78;if(P7y < +"2"){P7y=1;}w7y=F7y.Studies.determineColor(V7y.outputs.Green);J7y=F7y.Studies.determineColor(V7y.outputs.Fade);n7y=F7y.Studies.determineColor(V7y.outputs.Fake);S7y=F7y.Studies.determineColor(V7y.outputs.Squat);a7y.canvasColor("stx_histogram");if(!V7y.underlay){u7y.globalAlpha=1;}u7y.fillStyle="#CCCCCC";a7y.startClip(V7y.panel);if(!V7y.highlight && a7y.highlightedDraggable){t0S.c3m(4);u7y.globalAlpha*=t0S.i3m("0.3",0);}t0S.J9S();for(var e7y=0;e7y < h7y.length;e7y++){D6o="_hi";D6o+="st";Z6o="_";Z6o+="h";Z6o+="is";Z6o+="t";L7y=h7y[e7y];t0S.O3m(4);i7y=h7y[t0S.F3m(e7y,1)];if(!i7y){i7y=a7y.getPreviousBar(a7y.chart,V7y.name + Z6o,e7y);}if(!L7y)continue;if(!i7y);else if(i7y[V7y.name + D6o] < L7y[V7y.name + "_hist"]){if(i7y.Volume < L7y.Volume){u7y.fillStyle=w7y;}else if(i7y.Volume > L7y.Volume){u7y.fillStyle=n7y;}}else if(i7y[V7y.name + "_hist"] > L7y[V7y.name + "_hist"]){if(i7y.Volume < L7y.Volume){u7y.fillStyle=S7y;}else if(i7y.Volume > L7y.Volume){u7y.fillStyle=J7y;}}if(L7y.candleWidth){P7y=Math.floor(Math.max(1,L7y.candleWidth - 2));}u7y.fillRect(Math.floor(a7y.pixelFromBar(e7y,X7y.chart) - P7y / 2),Math.floor(p7y),Math.floor(P7y),Math.floor(a7y.pixelFromPrice(L7y[V7y.name + "_hist"],X7y,B7y) - p7y));}a7y.endClip();};F7y.Studies.studyLibrary=F7y.extend(F7y.Studies.studyLibrary,{"W MFI":{name:J9o,seriesFN:F7y.Studies.displayMFI,calculateFN:F7y.Studies.calculateMFI,yAxis:{ground:! !{}},range:M9o,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:q9o,Squat:"#ffd0cf"}}});}};v4H={CIQ:R9H,SplinePlotter:y4H,timezoneJS:F4H,$$:A4H,$$$:Q4H};export {M9H as aggregations};export {c9H as drawingAdvanced};export {s9H as equationsAdvanced};export {G9H as highPerformanceMarkers};export {q9H as renderersAdvanced};export {W9H as accumulationDistribution};export {o9H as adx};export {T9H as alligator};export {m9H as aroon};export {r9H as atr};export {k9H as awesomeOscillator};export {g9H as balanceOfPower};export {N9H as bollinger};export {C9H as cci};export {U9H as centerOfGravity};export {x9H as chaikin};export {y9H as chande};export {F9H as choppiness};export {A9H as comparisonStudies};export {Q9H as coppock};export {v9H as darvasBox};export {E9H as detrended};export {D9H as disparity};export {z9H as easeOfMovement};export {l9H as ehlerFisher};export {H9H as elder};export {Y9H as fractalChaos};export {V9H as highLowStudies};export {a9H as ichimoku};export {L9H as intradayMomentum};export {i9H as keltner};export {u9H as klinger};export {e9H as linearRegression};export {P9H as macd};export {B9H as massIndex};export {h9H as moneyFlow};export {X9H as movingAverages};export {p9H as parabolicSAR};export {w9H as pivotPoints};export {J9H as prettyGoodOscillator};export {n9H as priceMomentumOscillator};export {S9H as priceVolumeOscillator};export {I9H as primeNumber};export {f9H as pring};export {K4H as projectedVolume};export {d4H as psychologicalLine};export {j4H as qstick};export {b4H as rainbow};export {O4H as randomWalk};export {Z4H as relativeVigor};export {t4H as rsi};export {R4H as schaffTrendCycle};export {M4H as shinohara};export {c4H as stochastics};export {s4H as supertrend};export {G4H as swingIndex};export {q4H as trendIntensity};export {W4H as trix};export {o4H as twiggsMoneyFlow};export {T4H as typicalPrice};export {m4H as ulcerIndex};export {r4H as ultimateOscillator};export {k4H as valuationLines};export {g4H as volatilityIndex};export {N4H as volumeProfile};export {C4H as volumeStudies};export {U4H as vortex};export {x4H as williamsMFI};export {R9H as CIQ, y4H as SplinePlotter, F4H as timezoneJS, A4H as $$, Q4H as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(v4H.CIQ || R9H).activateImports(M9H,c9H,s9H,G9H,q9H,W9H,o9H,T9H,m9H,r9H,k9H,g9H,N9H,C9H,U9H,x9H,y9H,F9H,A9H,Q9H,v9H,E9H,D9H,z9H,l9H,H9H,Y9H,V9H,a9H,L9H,i9H,u9H,e9H,P9H,B9H,h9H,X9H,p9H,w9H,J9H,n9H,S9H,I9H,f9H,K4H,d4H,j4H,b4H,O4H,Z4H,t4H,R4H,M4H,c4H,s4H,G4H,q4H,W4H,o4H,T4H,m4H,r4H,k4H,g4H,N4H,C4H,U4H,x4H,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
